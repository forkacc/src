webpackJsonp([2],{1012:function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r,o=e.SET_A=0,a=e.SET_B=1,s=e.SET_C=2,l=(e.SHIFT=98,e.START_A=103),c=e.START_B=104,u=e.START_C=105;e.MODULO=103,e.STOP=106,e.FNC1=207,e.SET_BY_CODE=(r={},n(r,l,o),n(r,c,a),n(r,u,s),r),e.SWAP={101:o,100:a,99:s},e.A_START_CHAR=String.fromCharCode(208),e.B_START_CHAR=String.fromCharCode(209),e.C_START_CHAR=String.fromCharCode(210),e.A_CHARS="[\0-_È-Ï]",e.B_CHARS="[ -È-Ï]",e.C_CHARS="(Ï*[0-9]{2}Ï*)",e.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1013:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SIDE_BIN="101",e.MIDDLE_BIN="01010",e.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},e.EAN2_STRUCTURE=["LL","LG","GL","GG"],e.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],e.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},1014:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1013),r=function(t,e,i){var r=t.split("").map(function(t,i){return n.BINARIES[e[i]]}).map(function(e,i){return e?e[t[i]]:""});if(i){var o=t.length-1;r=r.map(function(t,e){return e<o?t+i:t})}return r.join("")};e.default=r},1015:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){for(var i=0;i<e;i++)t="0"+t;return t}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(865),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),s(e,[{key:"encode",value:function(){for(var t="110",e=0;e<this.data.length;e++){var i=parseInt(this.data[e]),n=i.toString(2);n=a(n,4-n.length);for(var r=0;r<n.length;r++)t+="0"==n[r]?"100":"110"}return t+="1001",{data:t,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}(c.default);e.default=u},1034:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(865),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=i(1012),u=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.substring(1),i));return o.bytes=t.split("").map(function(t){return t.charCodeAt(0)}),o}return o(e,t),a(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,i=t.shift()-105,n=c.SET_BY_CODE[i];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&t.unshift(c.FNC1);var r=e.next(t,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+r.result+e.getBar((r.checksum+i)%c.MODULO)+e.getBar(c.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var t=this.options.ean128||!1;return"string"==typeof t&&(t="true"===t.toLowerCase()),t}}],[{key:"getBar",value:function(t){return c.BARS[t]?c.BARS[t].toString():""}},{key:"correctIndex",value:function(t,e){if(e===c.SET_A){var i=t.shift();return i<32?i+64:i-32}return e===c.SET_B?t.shift()-32:10*(t.shift()-48)+t.shift()-48}},{key:"next",value:function(t,i,n){if(!t.length)return{result:"",checksum:0};var r=void 0,o=void 0;if(t[0]>=200){o=t.shift()-105;var a=c.SWAP[o];void 0!==a?r=e.next(t,i+1,a):(n!==c.SET_A&&n!==c.SET_B||o!==c.SHIFT||(t[0]=n===c.SET_A?t[0]>95?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),r=e.next(t,i+1,n))}else o=e.correctIndex(t,n),r=e.next(t,i+1,n);var s=e.getBar(o),l=o*i;return{result:s+r.result,checksum:l+r.checksum}}}]),e}(l.default);e.default=u},1035:function(t,e,i){"use strict";function n(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2==0?e+=n:e+=2*n%10+Math.floor(2*n/10)}return(10-e%10)%10}function r(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){e+=i[n%i.length]*parseInt(t[t.length-1-n])}return(11-e%11)%11}Object.defineProperty(e,"__esModule",{value:!0}),e.mod10=n,e.mod11=r},1036:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function(t,e){return n({},t,e)}},1044:function(t,e,i){function n(t){i(1138)}var r=i(22)(i(1064),i(1218),n,null,null);t.exports=r.exports},1050:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:Number,default:0},border:{type:Number,default:0},progress:{type:Number,default:0},color:{type:String,default:"#fa8919"},backgroundColor:{type:String,default:"#ffffff"}},data:function(){return{width:0}},created:function(){this.width=this.size+2*this.border},computed:{radius:function(){return this.size/2},perimeter:function(){return Math.ceil(2*this.radius*Math.PI)},progressBar:function(){return Math.ceil(this.perimeter/360*this.progress)}}}},1058:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143),r=i.n(n),o=i(65),a=i(722),s=i.n(a),l=i(700);e.default={props:["data","customColor"],data:function(){return{playing:!1,isDownload:!1}},created:function(){this.inited=!1,document.addEventListener("notify",this.notifyHandler),l.a.on(document,"globalmedia",this.h5MediaHandler)},beforeDestroy:function(){document.removeEventListener("notify",this.notifyHandler),l.a.off(document,"globalmedia")},mounted:function(){o.a.isInApp()&&o.a.canNotifyApp()&&o.a.notifyApp({type:"audio:notify:init"});var t=this.$refs.audio;t&&(t.addEventListener("pause",this.pauseHandle,!0),t.addEventListener("play",this.playHandle,!0))},destoryed:function(){var t=this.$refs.audio;t&&(t.removeEventListener("pause",this.pauseHandle),t.removeEventListener("play",this.playHandle))},computed:{isInApp:function(){return o.a.isInApp()&&!o.a.isInAndroidApp()},isInAndroidApp:function(){return o.a.isInAndroidApp()}},methods:{toggle:function(){this.playing?this.pause():this.play()},play:function(){if(this.$ga.sendEvent("文章内音频播放点击article_btn_audio_click","click","article_title="+this.data.article_title+"&state=play"),!this.playing)if(this.playing=!0,o.a.isInApp()&&o.a.canNotifyApp())o.a.notifyApp({type:"audio:play",data:this.data});else{if(!this.inited){this.inited=!0;var t=new s.a;t.loadSource(this.data.audio_url),t.attachMedia(this.$refs.audio)}l.a.trigger(document,"globalmedia",{type:"audio:play"}),this.$refs.audio.play()}},pause:function(){this.$ga.sendEvent("文章内音频暂停点击article_btn_audio_click","click","article_title="+this.data.article_title+"&state=pause"),this.playing&&(this.playing=!1,o.a.isInApp()&&o.a.canNotifyApp()?o.a.notifyApp({type:"audio:pause",data:this.data}):this.$refs.audio.pause())},playHandle:function(){this.playing=!0},pauseHandle:function(){this.playing=!1},download:function(){o.a.isInApp()&&o.a.canNotifyApp()&&(this.$ga.sendEvent("文章内音频下载点击article_btn_audio_download_click","click","article_title="+this.data.article_title),o.a.notifyApp({type:"audio:download",data:r()({},this.data,{album_id:this.data.product_type+"_"+this.data.cid})}))},h5MediaHandler:function(t){t.detail&&"video:play"===t.detail.type&&this.pause()},notifyHandler:function(t){try{var e=t.detail.data;switch(t.detail.type){case"audio:play":this.data.audio_md5&&this.data.audio_md5===e.audio_md5&&(this.playing=!0);break;case"audio:pause":this.data.audio_md5&&this.data.audio_md5===e.audio_md5&&(this.playing=!1);break;case"audio:info":this.isDownload=t.detail.data.audio_is_download}}catch(t){console.log(t)}}},watch:{data:function(t,e){var i=this;o.a.isInApp()&&o.a.canNotifyApp()&&o.a.notifyApp({type:"audio:notify:init"}),t.audio_url!==e.audio_url&&t.audio_url&&this.$nextTick(function(){i.inited=!1,i.pause()})}}}},1064:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(65),r=i(722),o=i.n(r),a=new o.a;e.default={props:["data"],data:function(){return{video_url:"",isInAndroidApp:n.a.isInAndroidApp(),defaultCover:i(1189)}},watch:{data:function(t){this.initPlayer()}},created:function(){this.initPlayer()},beforeDestroy:function(){a.detachMedia(this.$refs.video),this.$refs.video.removeEventListener("play",this.play),this.$refs.video.removeEventListener("pause",this.pause)},mounted:function(){this.$refs.video.addEventListener("play",this.play),this.$refs.video.addEventListener("pause",this.pause)},computed:{isInApp:function(){return n.a.getDeviceId()}},methods:{initPlayer:function(){var t=this;a&&a.detachMedia(this.$refs.video),this.video_url=this.data.video_url.replace("http://","https://"),a.loadSource(this.video_url),this.$nextTick(function(){a.attachMedia(t.$refs.video)})},play:function(){n.a.isInApp()&&n.a.canNotifyApp()?n.a.notifyApp({type:"video:play",data:this.data}):this.$refs.video.play()},pause:function(){n.a.isInApp()&&n.a.canNotifyApp()?n.a.notifyApp({type:"audio:pause",data:this.data}):this.$refs.video.pause()}}}},1093:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._1yJUtN5Y_0{vertical-align:top;-webkit-transform:rotate(-.05deg);transform:rotate(-.05deg)}",""]),e.locals={main:"_1yJUtN5Y_0"}},1095:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._1Bg5E78Y_0{width:100%;height:60px;background:#fff;-webkit-transition:background-color .3s ease;transition:background-color .3s ease;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:18px;padding-right:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-radius:6px 30px 30px 6px;-webkit-box-shadow:0 3px 25px 4px rgba(140,163,191,.14);box-shadow:0 3px 25px 4px rgba(140,163,191,.14)}._1Bg5E78Y_0 ._2Ha38TVL_0{border-radius:50%;width:40px;height:40px;-webkit-box-shadow:0 1px 3px 2px rgba(0,0,0,.1);box-shadow:0 1px 3px 2px rgba(0,0,0,.1);position:relative}._1Bg5E78Y_0 ._1iA2uC1V_0{background-repeat:no-repeat;background-position:0 0;background-size:300px;background-color:#fff;border-radius:50%;width:40px;height:40px;position:absolute;top:0;left:0}._1Bg5E78Y_0 ._1WF5YSBJ_0{background:rgba(0,0,0,.15)}._1Bg5E78Y_0 ._2Kms_g0F_0{width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;z-index:2;position:relative}._1Bg5E78Y_0 .MH1rcCm7_0 ._2Kms_g0F_0{color:#fff;margin-left:2px}._1Bg5E78Y_0 ._1KuRDTHn_0 ._2Kms_g0F_0{color:#fff}._1Bg5E78Y_0 .MH1rcCm7_0 ._1iA2uC1V_0{-webkit-animation:HvzpPu2i_0 4s linear infinite;animation:HvzpPu2i_0 4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}._1Bg5E78Y_0 ._1KuRDTHn_0 ._1iA2uC1V_0{-webkit-animation:HvzpPu2i_0 4s linear infinite;animation:HvzpPu2i_0 4s linear infinite;-webkit-animation-play-state:running;animation-play-state:running}._1Bg5E78Y_0 ._1qj_iPD7_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;margin-right:10px}._1Bg5E78Y_0 ._1qj_iPD7_0 h3{color:#404040;font-size:15.25px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._1Bg5E78Y_0 ._1qj_iPD7_0 p{margin:0;margin-top:.125rem;font-size:12px;font-weight:500;line-height:1rem;color:#999}._1Bg5E78Y_0 ._3PhVtlEa_0{width:20px;height:20px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;position:relative;color:#999;font-size:18px;line-height:20px;text-align:center;margin-right:20px}._1Bg5E78Y_0 ._1l6e3976_0{width:10px;height:10px;line-height:10px;text-align:center;position:absolute;bottom:-3px;right:-5px;color:#6c0;background:#fff;font-size:10px;-webkit-transition:background-color .2s ease;transition:background-color .2s ease}._1W0qSnju_0{-webkit-box-shadow:0 3px 25px 4px hsla(42,28%,65%,.14);box-shadow:0 3px 25px 4px hsla(42,28%,65%,.14)}._1W0qSnju_0,._1W0qSnju_0 ._1l6e3976_0{background:#f6f0e0}._1W0qSnju_0 ._2Ha38TVL_0{-webkit-box-shadow:0 1px 2px 2px hsla(42,28%,65%,.14);box-shadow:0 1px 2px 2px hsla(42,28%,65%,.14)}._2SRR-E_O_0{background:#4d4d4d;-webkit-box-shadow:none;box-shadow:none}._2SRR-E_O_0 ._3PhVtlEa_0{color:#fff}._2SRR-E_O_0 ._1l6e3976_0{background:#4d4d4d}._2SRR-E_O_0 ._1qj_iPD7_0 h3,._2SRR-E_O_0 ._1qj_iPD7_0 p{color:silver}._2vBNygJQ_0 ._1qj_iPD7_0 p{font-weight:700}@-webkit-keyframes HvzpPu2i_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes HvzpPu2i_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),e.locals={white:"_1Bg5E78Y_0",btn:"_2Ha38TVL_0",cover:"_1iA2uC1V_0",coverMask:"_1WF5YSBJ_0",icon:"_2Kms_g0F_0",btnPlay:"MH1rcCm7_0",btnPause:"_1KuRDTHn_0",rotate:"HvzpPu2i_0",audioInfo:"_1qj_iPD7_0",btnDownload:"_3PhVtlEa_0",iconDownloadDone:"_1l6e3976_0",yellow:"_1W0qSnju_0",black:"_2SRR-E_O_0",android:"_2vBNygJQ_0"}},1103:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".video-player{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:1rem 0}.video-player video{width:100%}.video-player.android video::-webkit-media-controls-fullscreen-button{display:none}",""])},1129:function(t,e,i){var n=i(1093);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("5c6dfc08",n,!0,{})},1131:function(t,e,i){var n=i(1095);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("58f534dc",n,!0,{})},1138:function(t,e,i){var n=i(1103);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("b0086268",n,!0,{})},1189:function(t,e,i){t.exports=i.p+"static/time/img/video-cover.41c2cd0.jpg"},1193:function(t,e,i){function n(t){this.$style=i(1129)}var r=i(22)(i(1050),i(1235),n,null,null);t.exports=r.exports},1201:function(t,e,i){function n(t){this.$style=i(1131)}var r=i(22)(i(1058),i(1239),n,null,null);t.exports=r.exports},1218:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["video-player",t.isInAndroidApp?"android":""],on:{touchstart:function(t){t.stopPropagation()}}},[i("video",{ref:"video",attrs:{"webkit-playsinline":"",playsinline:"","x5-playsinline":"","x5-video-player-type":"h5","x5-video-player-fullscreen":"true",src:t.video_url,controls:"controls",poster:t.data.video_cover||t.defaultCover}})])},staticRenderFns:[]}},1235:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.$style.main,attrs:{width:t.width,height:t.width}},[i("circle",{attrs:{cx:t.radius+t.border,cy:t.radius+t.border,r:t.radius,"stroke-width":t.border,stroke:t.backgroundColor,fill:"none"}}),t._v(" "),i("circle",{ref:"progress",attrs:{cx:t.radius+t.border,cy:t.radius+t.border,r:t.radius,"stroke-width":t.border,stroke:t.color,fill:"none",transform:"matrix(0,-1,1,0,0,"+t.width+")","stroke-dasharray":t.progressBar+" "+(t.perimeter+1)}})])},staticRenderFns:[]}},1239:function(t,e){t.exports={render:function(){var t,e,i,n,r,o=this,a=o.$createElement,s=o._self._c||a;return s("div",{class:[o.$style.white,(t={},t[o.$style.android]=o.isInAndroidApp,t),(e={},e[o.$style.yellow]="yellow"===o.customColor,e),(i={},i[o.$style.black]="black"===o.customColor,i)]},[s("div",{class:o.$style.audioInfo},[s("h3",[o._v("讲述："+o._s(o.data.audio_dubber))]),o._v(" "),o.data.audio_time_arr?s("p",[s("span",{staticStyle:{"margin-right":"3px"}},[o._v("时长")]),s("span",{staticStyle:{"margin-right":"10px"}},[o._v(o._s(o.data.audio_time_arr.m)+":"+o._s(o.data.audio_time_arr.s))]),s("span",{staticStyle:{"margin-right":"3px"}},[o._v("大小")]),s("span",[o._v(o._s(o._f("formatSize")(o.data.audio_size)))])]):o._e()]),o._v(" "),o.isInApp&&o.data.audio_download_url&&o.data.column_had_sub?s("div",{class:["iconfont",o.$style.btnDownload],on:{click:o.download,touchstart:function(t){t.stopPropagation()}}},[s("span",[o._v("")]),o._v(" "),o.isDownload?s("i",{class:["iconfont",o.$style.iconDownloadDone]},[o._v("")]):o._e()]):o._e(),o._v(" "),s("div",{class:[o.$style.btn,(n={},n[o.$style.btnPause]=o.playing,n),(r={},r[o.$style.btnPlay]=!o.playing,r)],on:{click:o.toggle,touchstart:function(t){t.stopPropagation()}}},[s("div",{class:o.$style.cover,style:{backgroundImage:"url("+o.data.article_cover+")"}}),o._v(" "),s("div",{class:[o.$style.cover,o.$style.coverMask]}),o._v(" "),s("div",{class:["iconfont",o.$style.icon]},[o._v(o._s(o.playing?"":""))])]),o._v(" "),s("audio",{ref:"audio",attrs:{title:o.data.article_title,src:o.data.audio_url}})])},staticRenderFns:[]}},1256:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1013),c=i(1014),u=n(c),d=i(865),h=n(d),f=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.fontSize=!i.flat&&i.fontSize>10*i.width?10*i.width:i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return a(e,t),s(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,e){return this.text.substr(t,e)}},{key:"leftEncode",value:function(t,e){return(0,u.default)(t,e)}},{key:"rightText",value:function(t,e){return this.text.substr(t,e)}},{key:"rightEncode",value:function(t,e){return(0,u.default)(t,e)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},e={height:this.guardHeight};return[{data:l.SIDE_BIN,options:e},{data:this.leftEncode(),text:this.leftText(),options:t},{data:l.MIDDLE_BIN,options:e},{data:this.rightEncode(),text:this.rightText(),options:t},{data:l.SIDE_BIN,options:e}]}},{key:"encodeFlat",value:function(){return{data:[l.SIDE_BIN,this.leftEncode(),l.MIDDLE_BIN,this.rightEncode(),l.SIDE_BIN].join(""),text:this.text}}}]),e}(h.default);e.default=f},1257:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e,i=0;for(e=1;e<11;e+=2)i+=parseInt(t[e]);for(e=0;e<11;e+=2)i+=3*parseInt(t[e]);return(10-i%10)%10}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.checksum=s;var c=i(1014),u=n(c),d=i(865),h=n(d),f=function(t){function e(t,i){r(this,e),-1!==t.search(/^[0-9]{11}$/)&&(t+=s(t));var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return a(e,t),l(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=(0,u.default)(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=(0,u.default)(this.data.substr(6,6),"RRRRRR"),t+="101",{data:t,text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+(0,u.default)(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:(0,u.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:(0,u.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:(0,u.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t}}]),e}(h.default);e.default=f},1258:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1897),l=i(865),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var t=this,e=this.data.match(/.{2}/g).map(function(e){return t.encodePair(e)}).join("");return{data:s.START_BIN+e+s.END_BIN,text:this.text}}},{key:"encodePair",value:function(t){var e=s.BINARIES[t[1]];return s.BINARIES[t[0]].split("").map(function(t,i){return("1"===t?"111":"1")+("1"===e[i]?"000":"0")}).join("")}}]),e}(c.default);e.default=u},1259:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.name="InvalidInputException",o.symbology=t,o.input=i,o.message='"'+o.input+'" is not a valid input for '+o.symbology,o}return o(e,t),e}(Error),s=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return o(e,t),e}(Error),l=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return o(e,t),e}(Error);e.InvalidInputException=a,e.InvalidElementException=s,e.NoElementException=l},1260:function(t,e,i){"use strict";function n(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&(i=e[i],"string"==typeof t[i]&&(t[i]=parseInt(t[i],10)));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},1261:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};e.default=n},1262:function(t,e,i){"use strict";function n(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function r(t,e,i){if(i.displayValue&&e<t){if("center"==i.textAlign)return Math.floor((t-e)/2);if("left"==i.textAlign)return 0;if("right"==i.textAlign)return Math.floor(t-e)}return 0}function o(t,e,i){for(var o=0;o<t.length;o++){var a,s=t[o],c=(0,u.default)(e,s.options);a=c.displayValue?l(s.text,c,i):0;var d=s.data.length*c.width;s.width=Math.ceil(Math.max(a,d)),s.height=n(s,c),s.barcodePadding=r(a,d,c)}}function a(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}function s(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e}function l(t,e,i){var n;if(i)n=i;else{if("undefined"==typeof document)return 0;n=document.createElement("canvas").getContext("2d")}return n.font=e.fontOptions+" "+e.fontSize+"px "+e.font,n.measureText(t).width}Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalWidthOfEncodings=e.calculateEncodingAttributes=e.getBarcodePadding=e.getEncodingHeight=e.getMaximumHeightOfEncodings=void 0;var c=i(1036),u=function(t){return t&&t.__esModule?t:{default:t}}(c);e.getMaximumHeightOfEncodings=s,e.getEncodingHeight=n,e.getBarcodePadding=r,e.calculateEncodingAttributes=o,e.getTotalWidthOfEncodings=a},1281:function(t,e,i){"use strict";/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 */
function n(t){return getComputedStyle(t)}function r(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n+="px"),t.style[i]=n}return t}function o(t){var e=document.createElement("div");return e.className=t,e}function a(t,e){if(!b)throw new Error("No element matching method supported");return b.call(t,e)}function s(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function l(t,e){return Array.prototype.filter.call(t.children,function(t){return a(t,e)})}function c(t,e){var i=t.element.classList,n=x.state.scrolling(e);i.contains(n)?clearTimeout(w[e]):i.add(n)}function u(t,e){w[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(x.state.scrolling(e))},t.settings.scrollingThreshold)}function d(t,e){c(t,e),u(t,e)}function h(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function f(t,e,i,n,r){var o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5];void 0===n&&(n=!0),void 0===r&&(r=!1);var f=t.element;t.reach[l]=null,f[s]<1&&(t.reach[l]="start"),f[s]>t[o]-t[a]-1&&(t.reach[l]="end"),e&&(f.dispatchEvent(h("ps-scroll-"+l)),e<0?f.dispatchEvent(h("ps-scroll-"+c)):e>0&&f.dispatchEvent(h("ps-scroll-"+u)),n&&d(t,l)),t.reach[l]&&(e||r)&&f.dispatchEvent(h("ps-"+l+"-reach-"+t.reach[l]))}function p(t){return parseInt(t,10)||0}function g(t){return a(t,"input,[contenteditable]")||a(t,"select,[contenteditable]")||a(t,"textarea,[contenteditable]")||a(t,"button,[contenteditable]")}function m(t){var e=n(t);return p(e.width)+p(e.paddingLeft)+p(e.paddingRight)+p(e.borderLeftWidth)+p(e.borderRightWidth)}function _(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function v(t,e){var i={width:e.railXWidth},n=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-n:i.top=e.scrollbarXTop+n,r(e.scrollbarXRail,i);var o={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:o.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+t.scrollLeft,r(e.scrollbarYRail,o),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function y(t,e){function i(e){g[h]=m+v*(e[a]-_),c(t,f),C(t),e.stopPropagation(),e.preventDefault()}function n(){u(t,f),t[p].classList.remove(x.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",i)}var r=e[0],o=e[1],a=e[2],s=e[3],l=e[4],d=e[5],h=e[6],f=e[7],p=e[8],g=t.element,m=null,_=null,v=null;t.event.bind(t[l],"mousedown",function(e){m=g[h],_=e[a],v=(t[o]-t[r])/(t[s]-t[d]),t.event.bind(t.ownerDocument,"mousemove",i),t.event.once(t.ownerDocument,"mouseup",n),t[p].classList.add(x.state.clicking),e.stopPropagation(),e.preventDefault()})}var b="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),x={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},w={x:null,y:null},k=function(t){this.element=t,this.handlers={}},E={isEmpty:{configurable:!0}};k.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},k.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter(function(n){return!(!e||n===e)||(i.element.removeEventListener(t,n,!1),!1)})},k.prototype.unbindAll=function(){var t=this;for(var e in t.handlers)t.unbind(e)},E.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(k.prototype,E);var T=function(){this.eventElements=[]};T.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new k(t),this.eventElements.push(e)),e},T.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},T.prototype.unbind=function(t,e,i){var n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},T.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},T.prototype.once=function(t,e,i){var n=this.eventElement(t),r=function(t){n.unbind(e,r),i(t)};n.bind(e,r)};var S=function(t,e,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var o;if("top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}f(t,i,o,n,r)},A={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},C=function(t){var e=t.element,i=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(l(e,x.element.rail("x")).forEach(function(t){return s(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(l(e,x.element.rail("y")).forEach(function(t){return s(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=_(t,p(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=p((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=_(t,p(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=p(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),v(e,t),t.scrollbarXActive?e.classList.add(x.state.active("x")):(e.classList.remove(x.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(x.state.active("y")):(e.classList.remove(x.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)},R=function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,n=i>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,C(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,n=i>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,C(t),e.stopPropagation()})},L=function(t){y(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),y(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},P=function(t){function e(e,n){var r=Math.floor(i.scrollTop);if(0===e){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=i.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&e<0||o>=t.contentWidth-t.containerWidth&&e>0)return!t.settings.wheelPropagation}return!0}var i=t.element,n=function(){return a(i,":hover")},r=function(){return a(t.scrollbarX,":focus")||a(t.scrollbarY,":focus")};t.event.bind(t.ownerDocument,"keydown",function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)&&(n()||r())){var a=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(a){if("IFRAME"===a.tagName)a=a.contentDocument.activeElement;else for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(g(a))return}var s=0,l=0;switch(o.which){case 37:s=o.metaKey?-t.contentWidth:o.altKey?-t.containerWidth:-30;break;case 38:l=o.metaKey?t.contentHeight:o.altKey?t.containerHeight:30;break;case 39:s=o.metaKey?t.contentWidth:o.altKey?t.containerWidth:30;break;case 40:l=o.metaKey?-t.contentHeight:o.altKey?-t.containerHeight:-30;break;case 32:l=o.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==l||(i.scrollTop-=l,i.scrollLeft+=s,C(t),e(s,l)&&o.preventDefault())}})},O=function(t){function e(e,i){var n=Math.floor(a.scrollTop),r=0===a.scrollTop,o=n+a.offsetHeight===a.scrollHeight,s=0===a.scrollLeft,l=a.scrollLeft+a.offsetWidth===a.scrollWidth;return!(Math.abs(i)>Math.abs(e)?r||o:s||l)||!t.settings.wheelPropagation}function i(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!==e&&i!==i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}function r(t,e,i){if(!A.isWebKit&&a.querySelector("select:focus"))return!0;if(!a.contains(t))return!1;for(var r=t;r&&r!==a;){if(r.classList.contains(x.element.consuming))return!0;var o=n(r);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var s=r.scrollHeight-r.clientHeight;if(s>0&&!(0===r.scrollTop&&i>0||r.scrollTop===s&&i<0))return!0;var l=r.scrollWidth-r.clientWidth;if(l>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===l&&e>0))return!0}r=r.parentNode}return!1}function o(n){var o=i(n),s=o[0],l=o[1];if(!r(n.target,s,l)){var c=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(l?a.scrollTop-=l*t.settings.wheelSpeed:a.scrollTop+=s*t.settings.wheelSpeed,c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(s?a.scrollLeft+=s*t.settings.wheelSpeed:a.scrollLeft-=l*t.settings.wheelSpeed,c=!0):(a.scrollTop-=l*t.settings.wheelSpeed,a.scrollLeft+=s*t.settings.wheelSpeed),C(t),c=c||e(s,l),c&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}var a=t.element;void 0!==window.onwheel?t.event.bind(a,"wheel",o):void 0!==window.onmousewheel&&t.event.bind(a,"mousewheel",o)},D=function(t){function e(e,i){var n=Math.floor(u.scrollTop),r=u.scrollLeft,o=Math.abs(e),a=Math.abs(i);if(a>o){if(i<0&&n===t.contentHeight-t.containerHeight||i>0&&0===n)return 0===window.scrollY&&i>0&&A.isChrome}else if(o>a&&(e<0&&r===t.contentWidth-t.containerWidth||e>0&&0===r))return!0;return!0}function i(e,i){u.scrollTop-=i,u.scrollLeft-=e,C(t)}function r(t){return t.targetTouches?t.targetTouches[0]:t}function o(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function a(t){if(o(t)){var e=r(t);d.pageX=e.pageX,d.pageY=e.pageY,h=(new Date).getTime(),null!==p&&clearInterval(p)}}function s(t,e,i){if(!u.contains(t))return!1;for(var r=t;r&&r!==u;){if(r.classList.contains(x.element.consuming))return!0;var o=n(r);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=r.scrollHeight-r.clientHeight;if(a>0&&!(0===r.scrollTop&&i>0||r.scrollTop===a&&i<0))return!0;var s=r.scrollLeft-r.clientWidth;if(s>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===s&&e>0))return!0}r=r.parentNode}return!1}function l(t){if(o(t)){var n=r(t),a={pageX:n.pageX,pageY:n.pageY},l=a.pageX-d.pageX,c=a.pageY-d.pageY;if(s(t.target,l,c))return;i(l,c),d=a;var u=(new Date).getTime(),p=u-h;p>0&&(f.x=l/p,f.y=c/p,h=u),e(l,c)&&t.preventDefault()}}function c(){t.settings.swipeEasing&&(clearInterval(p),p=setInterval(function(){return t.isInitialized?void clearInterval(p):f.x||f.y?Math.abs(f.x)<.01&&Math.abs(f.y)<.01?void clearInterval(p):(i(30*f.x,30*f.y),f.x*=.8,void(f.y*=.8)):void clearInterval(p)},10))}if(A.supportsTouch||A.supportsIePointer){var u=t.element,d={},h=0,f={},p=null;A.supportsTouch?(t.event.bind(u,"touchstart",a),t.event.bind(u,"touchmove",l),t.event.bind(u,"touchend",c)):A.supportsIePointer&&(window.PointerEvent?(t.event.bind(u,"pointerdown",a),t.event.bind(u,"pointermove",l),t.event.bind(u,"pointerup",c)):window.MSPointerEvent&&(t.event.bind(u,"MSPointerDown",a),t.event.bind(u,"MSPointerMove",l),t.event.bind(u,"MSPointerUp",c)))}},I=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},M={"click-rail":R,"drag-thumb":L,keyboard:P,wheel:O,touch:D},N=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(x.main),this.settings=I();for(var a in e)i.settings[a]=e[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return t.classList.add(x.state.focus)},l=function(){return t.classList.remove(x.state.focus)};this.isRtl="rtl"===n(t).direction,this.isNegativeScroll=function(){var e=t.scrollLeft,i=null;return t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=e,i}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new T,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=o(x.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=o(x.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",l),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=p(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=p(c.borderLeftWidth)+p(c.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=p(c.marginLeft)+p(c.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(x.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=o(x.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",l),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=p(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?m(this.scrollbarY):null,this.railBorderYWidth=p(u.borderTopWidth)+p(u.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=p(u.marginTop)+p(u.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return M[t](i)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return i.onScroll(t)}),C(this)};N.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=p(n(this.scrollbarXRail).marginLeft)+p(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=p(n(this.scrollbarYRail).marginTop)+p(n(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),C(this),S(this,"top",0,!1,!0),S(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},N.prototype.onScroll=function(t){this.isAlive&&(C(this),S(this,"top",this.element.scrollTop-this.lastScrollTop),S(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},N.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},N.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},e.a=N},1306:function(t,e,i){function n(t){this.$style=i(1730)}var r=i(22)(i(1341),i(2233),n,null,null);t.exports=r.exports},1329:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1504),r=i(2100),o=i.n(r);e.default={components:{SlideBar:o.a},props:["data"],data:function(){return{playing:!1,player:null,currentTimer:"00:00",sliderValue:0,value:0}},created:function(){this.inited=!1},mounted:function(){var t=this;this.player=new n.a({container:this.$refs.main,audio:{name:"name",artist:"artist",url:this.data.audio_url,cover:this.data.article_cover}}),this.player.on("timeupdate",function(){t.sliderValue=Math.floor(t.player.audio.currentTime/t.player.duration*1e3)}),this.player.on("pause",function(){t.playing=!1})},destoryed:function(){},watch:{sliderValue:function(){this.updateStatus()},playing:function(){this.updateStatus()}},methods:{dragChangeHandler:function(t){var e=60*parseInt(this.data.audio_time_arr.m)+parseInt(this.data.audio_time_arr.s);e=Math.floor(e*t/1e3),this.currentTimer=("0"+Math.floor(e/60)).slice(-2)+":"+("0"+e%60).slice(-2)},dragEndHandler:function(t){var e=60*parseInt(this.data.audio_time_arr.m)+parseInt(this.data.audio_time_arr.s);e=Math.floor(e*t.val/1e3),this.player.seek(e)},toggle:function(){this.playing?this.pause():this.play()},play:function(){this.$ga.sendEvent("pc_article_btn_audio_click","click","article_title="+this.data.article_title+"&state=play"),this.playing||(this.playing=!0,this.player.play())},pause:function(){this.$ga.sendEvent("pc_article_btn_audio_click","click","article_title="+this.data.article_title+"&state=pause"),this.playing&&(this.playing=!1,this.player.pause())},updateStatus:function(){this.$emit("update",{progress:Math.ceil(this.sliderValue/10),playing:this.playing})}}}},1330:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143),r=i.n(n),o=i(216),a=i(215),s=i(65),l=i(656),c=i(699),u=i(2089),d=i.n(u);e.default={name:"commentItemPC",props:["data","customColor","isCanDelete","index"],components:{CommentNest:d.a},data:function(){return{likeRequesting:!1,isInApp:s.a.isInApp(),showAll:!1,defaultAvatar:a.a.defaultAvatar,isDeletedComment:!1,isShowCommentNest:!1,userName:"",userHeader:"",commentCount:0}},created:function(){this.userName=this.data.user_name,this.userHeader=this.data.user_header,this.commentCount=this.data.discussion_count},computed:r()({isOwner:function(){return this.data.can_delete||this.isCanDelete},totalCommentCount:function(){return this.commentCount>0?this.commentCount>999?"999+":this.commentCount:""}},i.i(o.a)({loginUser:"loginUser"})),methods:{praise:function(){this.likeRequesting||(this.likeRequesting=!0,this.data.had_liked?(this.unlike(),this.$ga.sendEvent("article_btn_comment_praise_click","unlike","article_id="+this.data.id)):(this.like(),this.$ga.sendEvent("article_btn_comment_praise_click","like","article_id="+this.data.id)))},like:function(){var t=this;l.a.likeArticle(this.data.id,"comment").then(function(e){t.data.like_count+=1,t.data.had_liked=!0,t.likeRequesting=!1}).catch(function(e){t.likeRequesting=!1,s.a.parseError(e)})},unlike:function(t){var e=this;l.a.unlikeArticle(this.data.id,"comment").then(function(t){e.data.like_count-=1,e.data.like_count<0&&(e.data.like_count=0),e.data.had_liked=!1,e.likeRequesting=!1}).catch(function(t){e.likeRequesting=!1,console.log(t)})},deleteComment:function(){var t=this,e=this.data.id;c.d(this.$store,{content:"确认删除您的留言吗？",on:{confirm:function(i){l.a.deleteComment({id:e}).then(function(e){t.isDeletedComment=!0,t.isShowCommentNest&&(t.isShowCommentNest=!1),s.a.success("删除留言成功"),t.$emit("deleted")}).catch(function(t){console.log(t)}),i.close()}}})},pretreat:function(t){return t=t.replace(/\r\n/g,"<br>"),t=t.replace(/\n/g,"<br>"),t=t.replace(/\r/g,"<br>"),t.replace(/<br> +/g,function(t){return t.replace(/ /g,"&nbsp;")})},goLogin:function(){window.location.href="//account.geekbang.org/signin?redirect="+encodeURIComponent(window.location.href)},expandComment:function(){if(!this.loginUser&&0===this.commentCount)return void this.goLogin();this.isShowCommentNest=!this.isShowCommentNest,this.$emit("expand",{currentIndex:this.index,isShowCommentNest:this.isShowCommentNest})},loadedCommentHandler:function(){this.$emit("loaded")},scrolltoCommentHandler:function(t){this.$emit("scrollto",t)},commentCountChangeHandler:function(t){this.commentCount=t}}}},1331:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(36),r=i.n(n),o=i(44),a=i.n(o),s=i(661),l=i.n(s),c=i(143),u=i.n(c),d=i(216),h=i(215),f=i(65),p=i(699),g=i(656),m=i(2091),_=i.n(m);e.default={name:"commentNestPC",props:{commentId:{type:Number,default:null},commentCount:{type:Number,default:0},index:{type:Number,default:-1}},components:{Pagination:_.a},data:function(){return{activatedFooterBtn:!1,likeRequesting:!1,requesting:!1,isLoading:!1,isFirstLoad:!0,currentPage:1,totalPage:0,totalCommentCount:0,rootSize:10,childSize:5,targetType:1,footerComment:"",rootComments:[]}},created:function(){this.totalCommentCount=this.commentCount,this.init()},computed:u()({},i.i(d.a)({loginUser:"loginUser"})),methods:{init:function(){this.requestRootComments()},getUserAvatar:function(t){return t.author.avatar||h.a.defaultAvatar},goLogin:function(){f.a.login()},mouseEnterHandler:function(t){this.$set(t,"isHover",!0)},mouseLeaveHandler:function(t){this.$set(t,"isHover",!1)},pretreat:function(t){return t=t.replace(/\r\n/g,"<br>"),t=t.replace(/\n/g,"<br>"),t=t.replace(/\r/g,"<br>"),t.replace(/<br> +/g,function(t){return t.replace(/ /g,"&nbsp;")})},toggleReply:function(t,e,i){if(!this.loginUser)return void this.goLogin();var n=t.isEdit,r=null===i?this.$refs.rootInput[e]:this.$refs.rootItem[i].querySelectorAll("textarea[data-childinput]")[e];this.$set(t,"isEdit",!n),r.setAttribute("placeholder","评论给 "+t.author.nickname)},praise:function(t){this.likeRequesting||(this.likeRequesting=!0,t.discussion.is_liked?this.unlike(t):this.like(t))},like:function(t){var e=this;g.a.likeArticle(t.discussion.id,"discussion").then(function(i){t.discussion.likes_number++,t.discussion.is_liked=!0,e.likeRequesting=!1}).catch(function(t){e.likeRequesting=!1,f.a.parseError(t)})},unlike:function(t){var e=this;g.a.unlikeArticle(t.discussion.id,"discussion").then(function(i){t.discussion.likes_number--,t.discussion.likes_number<0&&(t.discussion.likes_number=0),t.discussion.is_liked=!1,e.likeRequesting=!1}).catch(function(t){e.likeRequesting=!1,console.log(t)})},inputHandler:function(t,e){var i=!1,n=t.target;n.style.height="1px",n.style.height=n.scrollHeight+"px",n.value.trim().length>0&&(i=!0),this.$set(e,"activatedBtn",i)},inputFooterHandler:function(t){this.activatedFooterBtn=!1;var e=t.target;e.style.height="1px",e.style.height=e.scrollHeight+"px",this.footerComment.trim().length>0&&(this.activatedFooterBtn=!0)},keyboardHandler:function(t,e,i,n){(event.ctrlKey||event.metaKey)&&13===event.keyCode&&this.submitComment(t,e,i,n)},keyboardFooterHandler:function(){(event.ctrlKey||event.metaKey)&&13===event.keyCode&&this.submitFooterComment()},submitComment:function(t,e,i,n){var r=this,o=null===i?this.$refs.rootInput[t]:this.$refs.rootItem[i].querySelectorAll("textarea[data-childinput]")[t];if(this.validateComment(o.value)){var a={author:{nickname:this.loginUser.nick},reply_author:{nickname:e.author.nickname},discussion:{id:null,discussion_content:f.a.html2escape(o.value),ctime:Date.now(),can_delete:!0,is_delete:!1,is_hidden:!1,likes_number:0}},s=e.discussion.id;this.addComment({discussionId:s,content:o.value}).then(function(t){a.discussion.id=t.discussion_id,a.author.avatar=t.user_avatar,null===n?(e.child_discussion_number++,e.child_discussions.push(a),e.latestChildDiscussIds=e.latestChildDiscussIds&&e.latestChildDiscussIds.length?[].concat(l()(e.latestChildDiscussIds),[t.discussion_id]):[t.discussion_id]):(n.child_discussion_number++,n.child_discussions.push(a),n.latestChildDiscussIds=n.latestChildDiscussIds&&n.latestChildDiscussIds.length?[].concat(l()(n.latestChildDiscussIds),[t.discussion_id]):[t.discussion_id]),r.$set(e,"isEdit",!1),r.$set(e,"activatedBtn",!1),o.value="",o.style.height="20px"})}},submitFooterComment:function(){var t=this;if(this.validateComment(this.footerComment)){var e={author:{nickname:this.loginUser.nick},discussion:{id:null,discussion_content:f.a.html2escape(this.footerComment),ctime:Date.now(),can_delete:!0,is_delete:!1,is_hidden:!1,likes_number:0},child_discussions:[]};this.addComment({discussionId:null,content:this.footerComment}).then(function(i){e.discussion.id=i.discussion_id,e.author.avatar=i.user_avatar,t.rootComments.push(e),t.activatedFooterBtn=!1,t.footerComment="",t.$refs.footerInput.style.height="20px"})}},validateComment:function(t){return!(t.length>2e3)||(f.a.error("字数不能超过 2000 哦"),!1)},requestRootComments:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.isFirstLoad||this.$emit("scrollto",this.index),g.a.getRootDiscussions({target_id:this.commentId,target_type:this.targetType,page_type:1,prev:e,size:this.rootSize}).then(function(e){t.rootComments=t.transformRootDiscussList(e.list),t.totalPage=Math.ceil(e.page.total/t.rootSize),t.$emit("loaded"),t.isFirstLoad=!1,t.isLoading=!1}).catch(function(e){console.log(e),t.isLoading=!1})},requestChildComments:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.requesting=!0,g.a.getChildDiscussions({root_id:t.discussion.id,size:this.childSize,prev:i}).then(function(i){e.requesting=!1,t.latestChildDiscussIds&&e.deleteLatestDiscuss(t),t.child_discussions=[].concat(l()(t.child_discussions),l()(i.list)),e.rootComments=e.transformRootDiscussList(e.rootComments),t.latestChildDiscussIds=null}).catch(function(t){console.log(t),e.requesting=!1})},requestMoreChildComments:function(t){this.requesting||this.requestChildComments(t,t.lastChildScore)},addComment:function(t){var e=this;if(!this.requesting){this.requesting=!0;var i={parent_id:t.discussionId,target_id:this.commentId,target_type:this.targetType,content:t.content};return new a.a(function(t){g.a.addDiscussion(i).then(function(i){e.requesting=!1,e.totalCommentCount++,e.$emit("changeCommentCount",e.totalCommentCount),t(i)}).catch(function(t){console.log("err--\x3e",t),t&&t.response.data.error&&(f.a.error(t.response.data.error.msg),e.requesting=!1)})})}},deleteComment:function(t){p.d(this.$store,{content:"确认删除您的评论吗？",on:{confirm:function(e){g.a.deleteDiscussion({discussion_id:t.discussion.id}).then(function(e){f.a.success("删除评论成功"),t.discussion.is_delete=!0,t.discussion.discussion_content="该评论已删除"}).catch(function(t){console.log(t)}),e.close()}}})},complainComment:function(t){if(!this.loginUser)return void this.goLogin();p.d(this.$store,{content:"成功投诉后，对于违规内容我们会严肃处理。确认投诉该评论吗？",on:{confirm:function(e){g.a.complainDiscussion({discussion_id:t.discussion.id}).then(function(e){f.a.success("投诉成功，我们会认真审核"),t.discussion.is_complain=!0}).catch(function(t){console.log(t)}),e.close()}}})},transformRootDiscussList:function(t){return t.map(function(t){var e=t.child_discussions.length>0?t.child_discussions[t.child_discussions.length-1].score:0;return r()(t,{lastChildScore:e})})},deleteLatestDiscuss:function(t){for(var e=t.latestChildDiscussIds,i=0;i<e.length;i++)for(var n=0;n<t.child_discussions.length;n++)t.child_discussions[n].discussion.id===e[i]&&(t.child_discussions.splice(n,1),n--)}}}},1332:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143),r=i.n(n),o=i(65),a=i(656),s=i(215),l=i(216);e.default={data:function(){return{requesting:!1,comment:"",defaultAvatar:s.a.defaultAvatar,isWindows:!0}},props:["id","url"],mounted:function(){this.isWindows=!o.a.isMac()},computed:r()({},i.i(l.a)({loginUser:"loginUser"}),{count:function(){return this.comment.length}}),methods:{keyHandler:function(){(event.ctrlKey||event.metaKey)&&13===event.keyCode&&this.submit()},checkComment:function(){return!!this.comment.trim()||(o.a.error("留言不能为空"),!1)},submit:function(){var t=this;if(!this.requesting&&this.loginUser&&this.checkComment()){if(this.count>2e3)return void o.a.error("留言内容过长，请删减后重试");var e={aid:this.id,comment_content:this.comment,is_syn2zsxq:0,article_url:this.url};this.requesting=!0,a.a.postArticleComment(e).then(function(e){console.log("success---\x3e",e),o.a.success("留言提交成功"),t.comment="",t.requesting=!1}).catch(function(e){console.log("faile--\x3e",e),e&&e.data.code&&(o.a.error(e.data.error.msg),t.requesting=!1)})}},goLogin:function(){o.a.login()}}}},1333:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(661),r=i.n(n);e.default={name:"pagination",props:{size:{type:Number,default:10},current:{type:Number,default:1}},data:function(){return{tempNums:[],nums:[],step:1,page:1}},computed:{showPrevBtn:function(){return 1!==this.page},showNextBtn:function(){return this.page!==this.size}},created:function(){this.page=this.current,this.start()},watch:{size:function(t,e){this.start()}},methods:{add:function(t,e){for(;t<e;)this.tempNums.push(t),t++},first:function(){this.tempNums.push(1,"...")},last:function(){this.tempNums.push("...",this.size)},clickHandler:function(t){this.page=t,this.start(),this.$emit("gotoPage",this.page)},prev:function(){this.page--,this.page<1&&(this.page=1),this.start(),this.$emit("gotoPage",this.page)},next:function(){this.page++,this.page>this.size&&(this.page=this.size),this.start(),this.$emit("gotoPage",this.page)},finish:function(){this.nums=[].concat(r()(this.tempNums)),this.tempNums=[]},start:function(){this.size<2*this.step+6?this.add(1,this.size+1):this.page<2*this.step+2?(this.add(1,2*this.step+3),this.last()):this.page>this.size-2*this.step-1?(this.first(),this.add(this.size-2*this.step-1,this.size+1)):(this.first(),this.add(this.page-this.step,this.page+this.step+1),this.last()),this.finish()}}}},1334:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(65),r=i(777),o=i(722),a=i.n(o),s=i(1281);e.default={props:{content:{type:String,default:""}},created:function(){this.richContent=n.a.formatContent(this.content)},data:function(){return{preViewImg:!1,imgUrl:"",richContent:"",noteSelections:[],newVideos:[]}},mounted:function(){var t=this;this.initVideo(),this.$el.addEventListener("copy",this.copyHandler),this.$nextTick(function(){t.initPrecodecopy()});var e=this.$el.querySelectorAll("pre code");Array.prototype.forEach.call(e,function(t){r.a.lineNumbersBlock(t,{singleLine:!0})}),this.handleMathJax(this.richContent),this.$refs.container.querySelectorAll("pre code").forEach(function(t){var e=new s.a(t,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20,suppressScrollY:!0});setTimeout(function(){e.update()},1)}),this.$refs.container.querySelectorAll("a").forEach(function(t){t.onclick=function(t){var e=t.target.href||t.target.parentNode.href;if(e.match(/^time:\/\//)){var i=e.match(/url=(.+)/i);i.length>1&&window.open(decodeURIComponent(i[1]))}e.match(/^http/)&&window.open(e),t.preventDefault()}})},beforeDestroy:function(){var t=this;this.$el.removeEventListener("copy",this.copyHandler),this.newVideos.forEach(function(e){e.removeEventListener("play",t.videoPlayHandle)})},updated:function(){var t=this;this.$nextTick(function(){t.initVideo()})},methods:{initPrecodecopy:function(){document.querySelectorAll("pre").forEach(function(t){t.style.position="relative";var e=t.querySelector("code");if(e){var i=e.textContent,r=document.createElement("div");r.innerHTML='<span class="iconfont">&#xe613;</span>复制代码',r.classList.add("richcontent-pre-copy"),t.appendChild(r),r.addEventListener("click",function(t){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.style.position="absolute";var r=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);e.style.top=r+256+"px",e.style.opacity="0",document.body.appendChild(e),e.textContent=i.replace(/^\$ /,""),e.focus(),e.setSelectionRange(0,e.textContent.length),document.execCommand("copy")?n.a.success("复制成功"):n.a.error("复制失败"),document.body.removeChild(e)})}})},copyHandler:function(t){var e=window.getSelection(),r=n.a.getSelectionText();if(r){var o=r,a="<p>"+o+"</p>",s=document.createElement("div");s.style.position="absolute",s.style.left="-99999px",document.body.appendChild(s),s.innerHTML=a,e.selectAllChildren(s),window.setTimeout(function(){document.body.removeChild(s)},200)}},handleMathJax:function(t){t.indexOf("$")>-1&&n.a.handleMathJax(this.$el)},initVideo:function(){var t=this.$refs.text.querySelectorAll("video");t.length>0&&Array.prototype.slice.call(t).forEach(function(t){if(!t.attributes["x5-playsinline"]){var e=t.attributes.poster;e=e?e.value:"";var i=t.parentElement,n=i.offsetWidth,r=Math.floor(186/331*n),o=document.createElement("div"),s=t.lastChild.attributes.src.value;o.innerHTML='<video style="vertical-align: top;width:'+n+"px;height:"+r+'px" webkit-playsinline playsinline x5-playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" src="'+s+'" controls="controls" poster="'+e+'"></video>',i.insertBefore(o,t),i.removeChild(t);var l=i.querySelector("video"),c=new a.a;c.loadSource(s),c.attachMedia(l)}})}}}},1335:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143),r=i.n(n),o=i(216);e.default={props:{showreply:{type:Boolean,default:!1}},computed:r()({},i.i(o.a)({loginUser:"loginUser"})),methods:{goAccount:function(){window.location.href="//account.geekbang.org/dashboard/info?redirect="+encodeURIComponent(window.location.href)},goSetting:function(){window.location.href="//account.geekbang.org/dashboard/setting"},goReply:function(){window.location.href="//time.geekbang.org/reply"},goBuy:function(){window.location.href="//account.geekbang.org/dashboard/buy"},goLogout:function(){window.location.href="//account.geekbang.org/logout?redirect="+encodeURIComponent(location)}}}},1337:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(65);e.default={name:"article-nav",props:["loginUser","columnTitle","columnId","hadSub"],computed:{isShow:function(){return!n.a.isInApp()}},methods:{goColumn:function(){this.$router.push("/column/intro/"+this.columnId)},goHome:function(){this.$router.push("/")},goLogin:function(){window.location.href="//account.geekbang.org/signin?redirect="+encodeURIComponent(window.location.href)},goAccount:function(){window.location.href="//account.geekbang.org/dashboard?redirect="+encodeURIComponent(window.location.href)}}}},1341:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1881),r=i.n(n);e.default={props:{num:{type:Number,default:0}},data:function(){return{numbers:[]}},mounted:function(){this.render(this.num)},methods:{render:function(t){var e=this;if(t>0){this.numbers=[];for(var i=String(t).split(""),n=i.length,o=Math.ceil(n/5),a=0;a<o;a++){var s=5*a,l=5*(a+1);l>n&&(l=n);var c=i.slice(s,l);"0"===c[0]&&c.unshift("1"),this.numbers.push(Number(c.join("")))}i=i.sort(function(){return-1});for(var u=0;u<o;u++){var d=5*u,h=5*(u+1);h>n&&(h=n);var f=i.slice(d,h);"0"===f[0]&&f.unshift("1"),this.numbers.push(Number(f.join("")))}this.$nextTick(function(){e.numbers.forEach(function(t,i){r()(e.$refs["img"+i],t,{format:"pharmacode",lineColor:"#eee",width:1,height:1,margin:0,displayValue:!1})})})}}},watched:{num:function(t){t>0&&this.render(t)}}}},1342:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VueSlideBar",data:function(){return{flag:!1,size:0,currentValue:0,currentSlider:0,isComponentExists:!0,interval:1,lazy:!1,realTime:!1}},props:{data:{type:Array,default:null},customColor:{type:String,default:"white"},range:{type:Array,default:null},speed:{type:Number,default:.5},iconWidth:{type:Number,default:20},value:{type:[String,Number],default:0},min:{type:Number,default:0},max:{type:Number,default:100},showTooltip:{type:Boolean,default:!0},isDisabled:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},paddingless:{type:Boolean,default:!1},tooltipStyles:Object,labelStyles:Object,processStyle:Object},computed:{slider:function(){return this.$refs.tooltip},val:{get:function(){return this.data?this.data[this.currentValue]:this.currentValue},set:function(t){if(this.data){var e=this.data.indexOf(t);e>-1&&(this.currentValue=e)}else this.currentValue=t}},currentIndex:function(){return(this.currentValue-this.minimum)/this.spacing},indexRange:function(){return[0,this.currentIndex]},minimum:function(){return this.data?0:this.min},maximum:function(){return this.data?this.data.length-1:this.max},multiple:function(){var t=(""+this.interval).split(".")[1];return t?Math.pow(10,t.length):1},spacing:function(){return this.data?1:this.interval},total:function(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!=0&&this.printError("[VueSlideBar error]: Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap:function(){return this.size/this.total},position:function(){return(this.currentValue-this.minimum)/this.spacing*this.gap},limit:function(){return[0,this.size]},valueLimit:function(){return[this.minimum,this.maximum]}},watch:{value:function(t){this.flag?this.setValue(t):this.setValue(t,this.speed)},max:function(t){if(t<this.min)return this.printError("[VueSlideBar error]: The maximum value can not be less than the minimum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},min:function(t){if(t>this.max)return this.printError("[VueSlideBar error]: The minimum value can not be greater than the maximum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()}},methods:{bindEvents:function(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),window.addEventListener("resize",this.refresh)},unbindEvents:function(){window.removeEventListener("resize",this.refresh),document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd)},getPos:function(t){return this.realTime&&this.getStaticData(),t.clientX-this.offset},wrapClick:function(t){if(this.isDisabled||!this.draggable&&"vue-slider-bar-wrap"===t.target.id)return!1;var e=this.getPos(t);this.setValueOnPos(e)},moveStart:function(t,e){if(!this.draggable)return!1;this.flag=!0,this.$emit("dragStart",this)},moving:function(t){if(!this.flag||!this.draggable)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.setValueOnPos(this.getPos(t),!0)},moveEnd:function(t){if(!this.flag||!this.draggable)return!1;this.$emit("dragEnd",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,this.setPosition()},setValueOnPos:function(t,e){var i=this.limit,n=this.valueLimit;if(t>=i[0]&&t<=i[1]){this.setTransform(t);var r=(Math.round(t/this.gap)*(this.spacing*this.multiple)+this.minimum*this.multiple)/this.multiple;this.setCurrentValue(r,e)}else t<i[0]?(this.setTransform(i[0]),this.setCurrentValue(n[0]),1===this.currentSlider&&(this.currentSlider=0)):(this.setTransform(i[1]),this.setCurrentValue(n[1]),0===this.currentSlider&&(this.currentSlider=1))},isDiff:function(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||(Array.isArray(t)&&t.length===e.length?t.some(function(t,i){return t!==e[i]}):t!==e)},setCurrentValue:function(t,e){if(t<this.minimum||t>this.maximum)return!1;this.isDiff(this.currentValue,t)&&(this.currentValue=t,this.lazy&&this.flag||this.syncValue()),e||this.setPosition()},setIndex:function(t){t=this.spacing*t+this.minimum,this.setCurrentValue(t)},setValue:function(t,e){var i=this;if(this.isDiff(this.val,t)){var n=this.limitValue(t);this.val=n,this.syncValue()}this.$nextTick(function(){return i.setPosition(e)})},setPosition:function(t){this.flag?this.setTransitionTime(0):this.setTransitionTime(void 0===t?this.speed:t),this.setTransform(this.position)},setTransform:function(t){var e=t,i="translateX("+e+"px)";this.slider.style.transform=i,this.slider.style.WebkitTransform=i,this.slider.style.msTransform=i,this.$refs.process.style.width=t+"px",this.$refs.process.style.left=0},setTransitionTime:function(t){},limitValue:function(t){var e=this;if(this.data)return t;return function(i){return i<e.min?(e.printError("[VueSlideBar warn]: The value of the slider is "+t+", the minimum value is "+e.min+", the value of this slider can not be less than the minimum value"),e.min):i>e.max?(e.printError("[VueSlideBar warn]: The value of the slider is "+t+", the maximum value is "+e.max+", the value of this slider can not be greater than the maximum value"),e.max):i}(t)},syncValue:function(){var t=this.val;this.range&&this.$emit("callbackRange",this.range[this.currentIndex]),this.$emit("input",t)},getValue:function(){return this.val},getIndex:function(){return this.currentIndex},getStaticData:function(){this.$refs.elem&&(this.size=this.$refs.elem.offsetWidth,this.offset=this.$refs.elem.getBoundingClientRect().left)},refresh:function(){this.$refs.elem&&(this.getStaticData(),this.setPosition())},printError:function(t){console.error(t)}},mounted:function(){var t=this;if(this.isComponentExists=!0,"undefined"==typeof window||"undefined"==typeof document)return this.printError("[VueSlideBar error]: window or document is undefined, can not be initialization.");this.$nextTick(function(){t.isComponentExists&&(t.getStaticData(),t.setValue(t.limitValue(t.value),0),t.bindEvents())})},beforeDestroy:function(){this.isComponentExists=!1,this.unbindEvents()}}},1343:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VueSlideBar",data:function(){return{flag:!1,startPosX:0,currentPosX:0,size:0,currentValue:0,currentSlider:0,isComponentExists:!0,interval:1,lazy:!1,realTime:!1}},props:{data:{type:Array,default:null},range:{type:Array,default:null},speed:{type:Number,default:.5},iconWidth:{type:Number,default:20},value:{type:[String,Number],default:0},min:{type:Number,default:0},max:{type:Number,default:100},minShim:{type:Number,default:0},maxShim:{type:Number,default:0},showTooltip:{type:Boolean,default:!0},customTooltip:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},paddingless:{type:Boolean,default:!1},slideBarClass:{type:String,default:""},tooltipClass:{type:String,default:""},processClass:{type:String,default:""}},computed:{slider:function(){return this.$refs.tooltip},val:{get:function(){return this.data?this.data[this.currentValue]:this.currentValue},set:function(t){if(this.data){var e=this.data.indexOf(t);e>-1&&(this.currentValue=e)}else this.currentValue=t}},currentIndex:function(){return(this.currentValue-this.minimum)/this.spacing},indexRange:function(){return[0,this.currentIndex]},minimum:function(){return this.data?0:this.min},maximum:function(){return this.data?this.data.length-1:this.max},multiple:function(){var t=(""+this.interval).split(".")[1];return t?Math.pow(10,t.length):1},spacing:function(){return this.data?1:this.interval},total:function(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!=0&&this.printError("[VueSlideBar error]: Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap:function(){return this.size/this.total},position:function(){return(this.currentValue-this.minimum)/this.spacing*this.gap},limit:function(){return[0,this.size]},valueLimit:function(){return[this.minimum,this.maximum]}},watch:{value:function(t){this.flag||this.setValue(t)},max:function(t){if(t<this.min)return this.printError("[VueSlideBar error]: The maximum value can not be less than the minimum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},min:function(t){if(t>this.max)return this.printError("[VueSlideBar error]: The minimum value can not be greater than the maximum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()}},methods:{bindEvents:function(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),window.addEventListener("resize",this.refresh)},unbindEvents:function(){window.removeEventListener("resize",this.refresh),document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd)},getPos:function(t){return this.realTime&&this.getStaticData(),t.clientX-this.startPosX+this.currentPosX},wrapClick:function(t){if(this.isDisabled||!this.draggable&&"vue-slider-bar-wrap"===t.target.id)return!1;var e=this.getPos(t);this.setValueOnPos(e)},moveStart:function(t,e){if(!this.draggable)return!1;this.flag=!0,t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.startPosX=t.clientX,this.currentPosX=this.position,this.$emit("dragStart",this)},moving:function(t){if(!this.flag||!this.draggable)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.setValueOnPos(this.getPos(t),!0)},moveEnd:function(t){if(!this.flag||!this.draggable)return!1;this.$emit("dragEnd",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,this.setPosition()},setValueOnPos:function(t,e){var i=this.limit,n=this.valueLimit;if(t>=i[0]&&t<=i[1]){this.setTransform(t);var r=(Math.round(t/this.gap)*(this.spacing*this.multiple)+this.minimum*this.multiple)/this.multiple;this.setCurrentValue(r,e)}else t<i[0]?(this.setTransform(i[0]),this.setCurrentValue(n[0]),1===this.currentSlider&&(this.currentSlider=0)):(this.setTransform(i[1]),this.setCurrentValue(n[1]),0===this.currentSlider&&(this.currentSlider=1))},isDiff:function(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||(Array.isArray(t)&&t.length===e.length?t.some(function(t,i){return t!==e[i]}):t!==e)},setCurrentValue:function(t,e){if(t<this.minimum||t>this.maximum)return!1;this.isDiff(this.currentValue,t)&&(this.currentValue=t,this.lazy&&this.flag||this.syncValue()),e||this.setPosition()},setIndex:function(t){t=this.spacing*t+this.minimum,this.setCurrentValue(t)},setValue:function(t,e){var i=this;if(this.isDiff(this.val,t)){var n=this.limitValue(t);this.val=n,this.syncValue()}this.$nextTick(function(){return i.setPosition(e)})},setPosition:function(t){this.flag?this.setTransitionTime(0):this.setTransitionTime(void 0===t?this.speed:t),this.setTransform(this.position)},setTransform:function(t){var e=t;e<this.minShim&&(e=this.minShim);var i="translateX("+e+"px)";this.slider.style.transform=i,this.slider.style.WebkitTransform=i,this.slider.style.msTransform=i,this.$refs.process.style.width=t+"px",this.$refs.process.style.left=0},setTransitionTime:function(t){},limitValue:function(t){var e=this;if(this.data)return t;return function(i){return i<e.min?(e.printError("[VueSlideBar warn]: The value of the slider is "+t+", the minimum value is "+e.min+", the value of this slider can not be less than the minimum value"),e.min):i>e.max?(e.printError("[VueSlideBar warn]: The value of the slider is "+t+", the maximum value is "+e.max+", the value of this slider can not be greater than the maximum value"),e.max):i}(t)},syncValue:function(){var t=this.val;this.range&&this.$emit("callbackRange",this.range[this.currentIndex]),this.$emit("input",t)},getValue:function(){return this.val},getIndex:function(){return this.currentIndex},getStaticData:function(){this.$refs.elem&&(this.size=this.$refs.elem.offsetWidth-this.maxShim,this.offset=this.$refs.elem.getBoundingClientRect().left)},refresh:function(){this.$refs.elem&&(this.getStaticData(),this.setPosition())},printError:function(t){console.error(t)}},mounted:function(){var t=this;if(this.isComponentExists=!0,"undefined"==typeof window||"undefined"==typeof document)return this.printError("[VueSlideBar error]: window or document is undefined, can not be initialization.");this.$nextTick(function(){t.isComponentExists&&(t.getStaticData(),t.setValue(t.limitValue(t.value),0),t.bindEvents(),t.slider.style.transform="translateX("+t.minShim+"px)")})},beforeDestroy:function(){this.isComponentExists=!1,this.unbindEvents()}}},1344:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(65),r=i(2099),o=i.n(r);e.default={components:{SlideBar:o.a},props:{customColor:{type:String,default:"white"},customSize:{type:String,default:"middle"},customLight:{type:Number,default:100}},created:function(){this.opacity=this.customLight},data:function(){return{isInApp:n.a.isInApp(),opacity:100,isInAndroidApp:n.a.isInAndroidApp()}},methods:{changeStyle:function(t,e){this.$emit("changeStyle",t,e)},close:function(){this.$emit("closeChangeStyle")}},watch:{opacity:function(t,e){t!==e&&this.$emit("changeStyle","customLight",t)},customLight:function(t,e){t!==e&&(this.opacity=this.customLight)}}}},1428:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(44),r=i.n(n),o=i(65),a=i(2135),s=i.n(a),l=i(2134),c=i.n(l),u=i(656);e.default={name:"article-index",data:function(){return{isMobilePage:!1,isPCPage:!1,noPCPage:!1,columnData:null,articleListData:null,articleData:null,cacheData:{},lastReadId:null,isFreelyread:!1}},components:{ArticlePC:s.a,ArticleMobile:c.a},beforeRouteUpdate:function(t,e,i){this.isMobilePage?this.$refs.articleMobile.$options.beforeRouteUpdate[0].call(this.$refs.articleMobile,t,e,i):i()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},created:function(){var t=this,e=String(this.$route.params.id||this.$route.query.id),i=String(this.$route.query.cid);if(this.isFreelyread="1"===String(this.$route.query.free),"true"===this.$route.query.preview)return this.isMobilePage=!0,void(this.noPCPage=!0);if(this.checkMobile())"0"===e&&i?this.goColumn(i):this.routePage(e);else if("0"===e&&i){if(o.a.isInApp())return this.isMobilePage=!0,void(this.noPCPage=!0);this.requestColumn(i).then(function(){t.afterLoad()}),this.requestArticleList(i).then(function(){t.afterLoad()})}else this.routePage(e);window.addEventListener("resize",this.resize,!1)},methods:{checkMobile:function(){return(document.documentElement.clientWidth||document.body.clientWidth)<860},goColumn:function(t){window.location.href="//time.geekbang.org/column/intro/"+t},resize:function(){this.noPCPage||(this.checkMobile()?(this.isMobilePage=!0,this.isPCPage=!1):(this.isMobilePage=!1,this.isPCPage=!0))},afterLoad:function(){this.columnData&&this.articleListData&&(this.columnData.last_read_aid&&"0"!==String(this.columnData.last_read_aid)?this.lastReadId=this.columnData.last_read_aid:this.lastReadId=this.articleListData.list[0].id,this.$router.replace("/column/article/"+this.lastReadId),this.isPCPage=!0)},requestColumn:function(t){var e=this;return new r.a(function(i,n){u.a.getColumnInfo(t).then(function(t){e.columnData=t,i()}).catch(function(t){console.log(t)})})},requestArticleList:function(t){var e=this;return new r.a(function(i){u.a.getArticles(t,0,"earliest",100,!1).then(function(t){e.articleListData=t,i()}).catch(function(t){console.log(t)})})},requestArticle:function(t){var e=this;return new r.a(function(i,n){u.a.getArticle({id:t,includeNeighbors:!0,isFreelyread:!0}).then(function(t){e.articleData=t,i()}).catch(function(t){o.a.parseError(t)})})},routePage:function(t){var e=this;if(o.a.isInApp())return this.isMobilePage=!0,void(this.noPCPage=!0);this.requestArticle(t).then(function(){if("c3"===e.articleData.product_type){var i=e.articleData.cid;return void(window.location.href="/course/detail/"+i+"-"+t)}if(!e.articleData.cid||"0"===String(e.articleData.cid))return e.isMobilePage=!0,void(e.noPCPage=!0);if(e.checkMobile())e.isMobilePage=!0;else{if(e.isFreelyread&&e.articleData.freelyread_count===e.articleData.freelyread_total&&e.articleData.column_could_sub&&!e.articleData.column_had_sub)return void e.$router.replace("/column/intro/"+e.articleData.cid);e.isPCPage=!0}})},articlePCPageInited:function(){this.articleData=null,this.columnData=null,this.articleListData=null}}}},1430:function(t,e,i){"use strict";function n(){return{id:"",data:{},column:{},comments:[],minOpacityMap:{white:.8,yellow:.6,black:.5},content:"",isPreview:!1,prevScore:0,scrollTimer:null,saveReadHistoryTimer:null,hasMoreComments:!0,commentCount:0,commentRequesting:!1,sharePosterData:"",paragraphsOffsetTop:[],richContentOffsetHeight:0,currentParagraphPosition:0,unavailable:null,shareSaleCode:"",notesList:[],nodeid:"",customColor:"white",customSize:"middle",customLight:100,showStylePanel:!1,showNavbarAndToolbarStatus:!1,hasColumnId:!1,scrollTop:-1,swipeType:"INIT",toolbarDisplay:"normal",distance:{left:0,top:0},dpr:1,touchPoint:{startLeft:0,startTop:0,startTime:0},inited:!1,allowShowNavbarAndToolbar:!0,backgroundColorMap:{white:"#ffffff",yellow:"#F6F0E0",black:"#353535"},weexTitle:null}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(220),o=i.n(r),a=i(44),s=i.n(a),l=i(227),c=i.n(l),u=i(143),d=i.n(u),h=i(65),f=i(216),p=i(842),g=i.n(p),m=i(791),_=i.n(m),v=i(2095),y=i.n(v),b=i(879),x=i.n(b),w=i(1201),k=i.n(w),E=i(1044),T=i.n(E),S=i(656),A=i(850),C=i.n(A),R=i(2101),L=i.n(R),P=i(794),O=i(905),D=i.n(O),I=i(700),M=i(1306),N=i.n(M),F=i(226),B=void 0,U=void 0;e.default={components:{TopNav:_.a,SubBottom:x.a,MiniAudioPlayer:k.a,CommentItem:g.a,VideoPlayer:T.a,RichContent:C.a,StylePanel:L.a,BreadCrumb:D.a,ArticleNav:y.a,Pharmacode:N.a},data:function(){return d()({directionClass:"",lastThemeName:"white"},n())},beforeRouteUpdate:function(t,e,i){t.path!==e.path&&(this.forceSaveReadHistory(),document.removeEventListener("scroll",this.scrollHandle,!1),this.resetComponentData(),window.scrollTo(0,0),this.getUrlParams(t),this.loadData(),this.afterLoadedData()),i()},asyncData:function(t){var e=(t.store,t.route);this.getUrlParams(e),this.loadData()},created:function(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.getUrlParams(this.$route),this.saveOtherArticleReadHistory(),this.loadData()},mounted:function(){var t=this;h.a.isInApp()&&(document.addEventListener("notify",this.notifyHandler,!1),F.register("updateComment",function(e){var i=t.comments.findIndex(function(t){return String(t.id)===String(e)});i>-1&&S.a.getCommentDetail({id:e}).then(function(e){e.comment_is_deleted?t.comments.splice(i,1):(t.comments[i].discussion_count=e.discussion_count,t.comments[i].had_liked=e.had_liked,t.comments[i].like_count=e.like_count)}).catch(function(t){console.log(t)})}),I.a.on(document,"tap.article",function(e){setTimeout(function(){t.toggleNavbarAndToolbar(e)},10)})),this.isPreview&&(window.addEventListener("message",function(e){try{t.data=e.data,t.content=e.data.article_content}catch(t){console.log(t)}},!1),this.inited=!0),this.afterLoadedData()},beforeDestroy:function(){this.forceSaveReadHistory(),document.removeEventListener("scroll",this.scrollHandle,!1),document.body.removeEventListener("touchstart",this.firstTouchHandle,!1),h.a.isInApp()&&(I.a.off(document,"tap.article"),document.removeEventListener("notify",this.notifyHandler,!1)),"scrollRestoration"in history&&(history.scrollRestoration="auto")},computed:d()({},i.i(f.a)({loginUser:"loginUser"}),{showFreelyReadExhaust:function(){return this.loginUser&&this.data.article_content_short&&this.$route.query.free&&this.data.freelyread_total>0},isBottomShow:function(){return!h.a.isInApp()&&this.data.column_could_sub&&!this.data.column_had_sub&&!this.isPreview},canNote:function(){return!(!this.loginUser||!h.a.gteqIOSVersion("1.1.6")&&!h.a.gteqAndroidVersion("1.0.11"))},canShowPrevNext:function(){return this.data.column_had_sub||"c8"===this.data.product_type},neighbors:function(){return this.data.neighbors||null},prevArticle:function(){if(!this.neighbors)return null;var t=this.neighbors.left;return t&&t.id?t:null},nextArticle:function(){if(!this.neighbors)return null;var t=this.neighbors.right;return t&&t.id?t:null},isAlienScreen:function(){var t=window.devicePixelRatio,e=window.screen.width,i=window.screen.height;if(/iphone/gi.test(window.navigator.userAgent)&&t){var n=3===t&&375===e&&812===i,r=3===t&&414===e&&896===i,o=2===t&&414===e&&896===i;if((n||r||o)&&h.a.isInApp())return!0}return!1},isInAndroidApp:function(){return h.a.isInAndroidApp()},isInApp:function(){return h.a.isInApp()},isPC:function(){return h.a.isPC()},isShowColumnEnter:function(){return!("c1"!==this.data.product_type&&"c2"!==this.data.product_type&&"c1"!==this.column.product_type&&"c2"!==this.column.product_type||h.a.isInWXMiniProgram())}}),methods:{resetComponentData:function(){var t=this,e=n();clearTimeout(this.scrollTimer),c()(e).forEach(function(i){"customColor"!==i&&(t[i]=e[i])}),h.a.notifyApp({type:"article:title",data:{title:""}})},loadData:function(){var t=this;this.isPreview||this.$loading.open(),B=new P.a,U=new P.a,B.use(function(e){t.requestData().then(function(t){e()})}),B.use(function(e){t.requestNoteList(),t.requestComments().then(function(){e()}),U.load()}),U.use(function(e){t.requestColumn().then(function(){e()})}),U.use(function(e){t.requestReportProgress().then(function(){e()})}),B.load()},afterLoadedData:function(){var t=this;B.ready(function(){t.$loading.close(),h.a.isInApp()&&(t.isVersion("2.0.5")&&(t.restoreStyle(),t.setNavbarAndToolbarStyle(),setTimeout(function(){t.showNavbarAndToolbar()},100)),t.data.commentCount=t.commentCount,h.a.notifyApp({type:"article:data",data:t.data}),t.isVersion("2.0.5")&&t.setWeexTitle()),t.data.commentCount=t.commentCount,setTimeout(function(){t.getParagraphsOffsetTop(),t.scrollToLastReadedPosition(),t.routerUpdateMounted(),t.inited=!0},100),t.$ga.sendEvent("article","read","column_id="+t.data.cid+"&article_title="+t.data.article_title)}),U.ready(function(){t.data.column_could_sub&&h.a.notifyApp({type:"column:intro",data:t.column}),"c1"!==t.data.product_type&&"c2"!==t.data.product_type&&h.a.notifyApp({type:"column:intro",data:t.column}),t.column&&t.column.column_title?document.title="极客时间 | "+t.column.column_title:document.title="极客时间 | "+t.data.article_title,t.column.column_title&&void 0!==t.data.article_could_preview&&!t.data.article_could_preview?h.a.shareInWeixin({timelineTitle:t.column.author_name+" · "+t.column.column_title+" | 极客时间专栏",messageTitle:t.column.author_name+" · "+t.column.column_title+" | 极客时间专栏",desc:""+t.column.column_subtitle,img:""+t.column.author_header}):h.a.shareInWeixin({timelineTitle:t.data.article_sharetitle||t.data.article_title,messageTitle:t.data.article_sharetitle||t.data.article_title,desc:t.data.article_summary,img:t.data.article_cover})})},firstTouchHandle:function(){document.addEventListener("scroll",this.scrollHandle,!1),document.body.removeEventListener("load",this.onImageLoad,!1),document.body.removeEventListener("touchstart",this.firstTouchHandle,!1)},listenFirstTouch:function(){document.body.addEventListener("load",this.onImageLoad,!1),h.a.isPC()?document.addEventListener("scroll",this.scrollHandle,!1):document.body.addEventListener("touchstart",this.firstTouchHandle,!1)},resetFirstTouch:function(){document.removeEventListener("scroll",this.scrollHandle,!1),this.listenFirstTouch()},routerUpdateMounted:function(){this.resetFirstTouch(),this.setWeexTitle()},getUrlParams:function(t){this.nodeid=t.query.noteid||"",this.id=t.params.id||t.query.id||"",this.isPreview="true"===t.query.preview,this.shareSaleCode=t.query.code},requestData:function(){var t=this;return new s.a(function(e,i){t.id&&S.a.getArticle({id:t.id,includeNeighbors:!0,isFreelyread:!0}).then(function(i){t.data=i,i.cid&&(t.hasColumnId=!0),i.text_read_percent=i.text_read_percent||0,i.text_read_version=i.text_read_version||0;var n={value:i.text_read_percent,version:i.text_read_version};t.currentParagraphPosition=n.value;var r=window.localStorage.getItem("article:currentParagraphPosition:"+t.id);if(r)try{r=JSON.parse(r),r.version=r.version||0,r.version>n.version&&(t.currentParagraphPosition=r.value,t.lazySaveReadHistory(r.value,r.version))}catch(t){}t.unavailable=!!i.unavailable,t.content=null,t.$nextTick(function(){t.content=h.a.formatContent(t.data.article_content)}),e(i)}).catch(function(t){t.data&&t.data.error&&"-3371"===String(t.data.error.code)&&t.data.data.column_id||h.a.parseError(t)})})},requestComments:function(){var t=this;return new s.a(function(e,i){if(!t.id||!t.hasMoreComments||t.commentRequesting)return void e();t.commentRequesting=!0,S.a.getArticleComments(t.id,t.prevScore).then(function(i){t.commentRequesting=!1,t.comments=t.comments.concat(i.list),t.hasMoreComments=i.page.more,t.commentCount=i.page.count,t.prevScore=t.comments.length>0?t.comments[t.comments.length-1].score:0,e()}).catch(function(i){console.log(i),t.commentRequesting=!1,e()})})},requestColumn:function(){var t=this;return new s.a(function(e,i){if(!t.data.column_id)return void e();S.a.getColumnInfo(t.data.column_id).then(function(i){t.column=i||{},e()})})},requestReportProgress:function(){var t=this;return new s.a(function(e,i){t.data.column_id&&t.loginUser?S.a.reportProgress(t.data.column_id,t.id,"read").then(function(){e()}).catch(function(t){e(),console.log(t)}):e()})},requestNoteList:function(){var t=this;return new s.a(function(e,i){h.a.gteqIOSVersion("1.1.6")||h.a.gteqAndroidVersion("1.0.11")?S.a.getNoteByAid(t.data.id).then(function(i){t.notesList=i,e()}).catch(function(t){console.log("get notes list error")}):e()})},loadMore:function(t){Math.max(document.body.scrollTop,document.documentElement.scrollTop)>=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight-50&&this.requestComments()},updateReadHistory:function(){var t=this.data.text_read_version+1,e=this.getStudyProgress(),i=""+(e.length+1e3)+(e.index+1e3)+(Math.floor(1e3*e.rest)+1e3);this.currentParagraphPosition=parseInt(i),this.updateReadHistoryLocalStorage(this.id,this.currentParagraphPosition,t),this.setReadHistoryLocalStorageNoSyncId(this.id)},updateReadHistoryLocalStorage:function(t,e,i){window.localStorage.setItem("article:currentParagraphPosition:"+t,o()({value:e,time:(new Date).getTime(),version:i}))},setReadHistoryLocalStorageNoSyncId:function(t){window.localStorage.setItem("article:currentParagraphPosition:noSyncId",o()({id:t}))},getReadHistoryLocalStorageNoSyncId:function(){var t=window.localStorage.getItem("article:currentParagraphPosition:noSyncId");if(t)try{return t=JSON.parse(t),t.id}catch(t){}return null},lazySaveReadHistory:function(t,e){this.saveReadHistory("lazy",this.id,t,e)},forceSaveReadHistory:function(){this.saveReadHistory("force",this.id,this.currentParagraphPosition,this.data.text_read_version+1)},saveReadHistory:function(t,e,i,n){var r=this;this.loginUser&&this.requestSyncStudyProgress(e,i,n).then(function(){String(e)===String(r.id)&&(r.data.text_read_version=n),String(e)===String(r.getReadHistoryLocalStorageNoSyncId())&&r.setReadHistoryLocalStorageNoSyncId("")}).catch(function(o){o>=n&&(String(e)===String(r.id)&&(r.data.text_read_version=o),r.updateReadHistoryLocalStorage(e,i,o+1),"force"===t&&r.requestSyncStudyProgress(e,i,o+1).then(function(){String(e)===String(r.id)&&(r.data.text_read_version=o+1)}).catch(function(){}))})},saveOtherArticleReadHistory:function(){var t=this.getReadHistoryLocalStorageNoSyncId()||0,e=window.localStorage.getItem("article:currentParagraphPosition:"+t);if(e&&t&&String(t)!==String(this.id))try{e=JSON.parse(e),e.value&&e.version&&this.saveReadHistory("lazy",t,e.value,e.version)}catch(t){}},setWeexTitle:function(){var t=this;this.$nextTick(function(){if((document.documentElement.scrollTop||document.body.scrollTop)>60){if(!t.weexTitle){var e=h.a.subString(t.data.article_title,20);h.a.notifyApp({type:"article:title",data:{title:e+(e===t.data.article_title?"":"...")}}),t.weexTitle=t.data.article_title}}else t.weexTitle&&(h.a.notifyApp({type:"article:title",data:{title:""}}),t.weexTitle=null)})},getParagraphsOffsetTop:function(){var t=this;if(this.$refs.richContent&&this.$refs.richContent.$el){this.paragraphsOffsetTop=[];var e=this.$refs.richContent.$el.children[0],i=Array.prototype.slice.call(e.children);i.forEach(function(e,i){t.paragraphsOffsetTop.push(h.a.offset(e).top)});var n=i[i.length-1];this.paragraphsOffsetTop.push(n.offsetTop+n.offsetHeight)}},scrollToLastReadedPosition:function(){var t=this;if(this.data.column_id){var e=this.currentParagraphPosition+"";if(/^\d{12}$/.test(e)){var i=e.match(/(\d{4})(\d{4})(\d{4})/),n=parseInt(i[2]-1e3),r=parseInt(i[3]-1e3);if(n>=this.paragraphsOffsetTop.length)return n=this.paragraphsOffsetTop.length-1,void this.$nextTick(function(){window.scrollTo(0,t.paragraphsOffsetTop[n])});var o=(this.paragraphsOffsetTop[n+1]-this.paragraphsOffsetTop[n])*(r/1e3);this.$nextTick(function(){window.scrollTo(0,t.paragraphsOffsetTop[n]+o-document.documentElement.clientHeight/2)})}}},scrollHandle:function(t){var e=this;if(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){e.checkRichTextResize(function(){e.getParagraphsOffsetTop()}),e.updateReadHistory(),e.loadMore()},100),this.isVersion("2.0.5")){this.setWeexTitle();(document.documentElement.scrollTop||document.body.scrollTop)>h.a.offset(this.$refs.commentWrap).top-document.documentElement.clientHeight?"normal"===this.toolbarDisplay&&this.setToolbarDisplay("input"):"input"===this.toolbarDisplay&&this.setToolbarDisplay("normal")}},checkRichTextResize:function(t){var e=this.$refs.wrap;if(e){var i=e.offsetHeight;i!==this.richContentOffsetHeight&&(this.richContentOffsetHeight=i,t())}},onImageLoad:function(t){var e=this;"IMG"===t.target.tagName&&this.checkRichTextResize(function(){e.getParagraphsOffsetTop(),e.scrollToLastReadedPosition()})},sharePoster:function(t){this.sharePosterData={content:t.comment_content,username:t.user_name,time:t.comment_ctime,url:"https://time.geekbang.org/column/article/"+this.id}},handleMathJax:function(t){t.indexOf("$")>-1&&h.a.handleMathJax(this.$refs.content)},notifyHandler:function(t){var e=this;try{var i=t.detail.data;switch(t.detail.type){case"note:success":this.requestNoteList();break;case"article:like":this.data.had_liked=i.had_liked,this.data.like_count=i.like_count;break;case"updateComment":var n=this.comments.findIndex(function(t){return String(t.id)===String(i.id)});n>-1&&S.a.getCommentDetail({id:i.id}).then(function(t){t.comment_is_deleted?e.comments.splice(n,1):(e.comments[n].discussion_count=t.discussion_count,e.comments[n].had_liked=t.had_liked,e.comments[n].like_count=t.like_count)}).catch(function(t){console.log(t)});break;case"stylePanel:show":this.hideNavbarAndToolbar(),this.toggleStylePanel()}}catch(t){console.log(t)}},addNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((t=t.trim())&&this.loginUser){var i=this.data,n=this.column&&this.column.column_type?this.column.column_type:10;h.a.isInApp()&&h.a.canNotifyApp()&&h.a.notifyApp({type:"addnote",data:{type:n,cid:i.column_id,article_id:i.id,part:t,index:e}})}},shareContent:function(t){(t=t.trim())&&h.a.isInApp()&&h.a.notifyApp({type:"poster:notify",data:{url:"https://time.geekbang.org/column/article/"+this.data.id,username:this.loginUser.nick,avatar:this.loginUser.avatar,time:Date.now(),part:t}})},jumpComment:function(){var t="c8"!==this.data.product_type||"c9"!==this.data.product_type;null==this.loginUser?h.a.login():h.a.isPC()?(this.$ga.sendPv("/fake/web_comment_button/click"),window.open("https://time.geekbang.org/column/article/comment?id="+this.id+"&source=columnArticle&url="+window.location.href+"&isSyncXingQiu="+t)):h.a.isInApp()?h.a.notifyApp({type:"comment:nice:write",data:{}}):this.$router.push({name:"Comment",query:{id:this.id,source:"columnArticle",url:window.location.href,isSyncXingQiu:t}})},switchArticle:function(t,e,i){this.$ga.sendPv("/column/article/switchclick/"+e),i=i||"click",this.$router.replace("/column/article/"+t),"prev"===e?this.$ga.sendEvent("上一篇article_btn_prev_click",i,"article_title="+this.data.article_title):this.$ga.sendEvent("下一篇article_btn_next_click",i,"article_title="+this.data.article_title),window.localStorage.setItem("article:lastReadId",t)},changeStyle:function(t,e){var i=this;this.$ga.sendEvent("文章详情样式修改article_btn_style_change_click",""+t,""+e),this.$refs.richContent&&(document.removeEventListener("scroll",this.scrollHandle,!1),this[t]=e,this.$nextTick(function(){i.checkRichTextResize(function(){i.getParagraphsOffsetTop(),i.scrollToLastReadedPosition()}),setTimeout(function(){document.addEventListener("scroll",i.scrollHandle,!1)},10)}),h.a.notifyApp({type:"column:article:bar",data:{customStyle:{color:this.customColor}}}),window.localStorage.setItem("article:customstyle",o()({customColor:this.customColor,customLight:this.customLight,customSize:this.customSize})))},restoreStyle:function(){var t=window.localStorage.getItem("article:customstyle");if(t)try{t=JSON.parse(t),this.customColor=t.customColor,this.customLight=t.customLight,this.customSize=t.customSize}catch(t){}},toggleStylePanel:function(){this.showStylePanel=!this.showStylePanel},toggleNavbarAndToolbar:function(t){"a"!==t.target.nodeName.toLowerCase()&&this.isVersion("2.0.5")&&(this.showNavbarAndToolbarStatus?this.hideNavbarAndToolbar():this.showNavbarAndToolbar())},getNavbarAndToolbarStyle:function(){return{light:this.minOpacityMap[this.customColor]+this.customLight/100*(1-this.minOpacityMap[this.customColor]),color:this.customColor,colorConfig:{white:{background:"#fff",color:"#999",borderColor:"#F6F7FB",inputBackground:"#F6F7FB",inputColor:"#888",leftIconColor:"#999999",titleColor:"#353535"},yellow:{background:"#f6f0e0",color:"#999",borderColor:"#EFE6CF",inputBackground:"#EFE6CF",inputColor:"#888",leftIconColor:"#999999",titleColor:"#353535"},black:{background:"#4d4d4d",color:"#999",borderColor:"#3e3e3e",inputBackground:"#3e3e3e",inputColor:"#888",leftIconColor:"#999999",titleColor:"#c0c0c0"}}}},setNavbarAndToolbarStyle:function(){h.a.notifyApp({type:"column:article:bar",data:{customStyle:this.getNavbarAndToolbarStyle()}})},showNavbarAndToolbar:function(t){if(this.allowShowNavbarAndToolbar||t){var e=Math.max(document.body.scrollTop,document.documentElement.scrollTop);this.showNavbarAndToolbarStatus=!0,this.$nextTick(function(){var t=Math.max(document.body.scrollTop,document.documentElement.scrollTop);t===e&&t>=60&&window.scrollTo(0,t+60)}),h.a.notifyApp({type:"column:article:bar",data:{navbar:{visibility:"visible"},toolbar:{visibility:"visible",display:this.toolbarDisplay}}})}t||(this.allowShowNavbarAndToolbar=!0)},hideNavbarAndToolbar:function(t){if(this.allowShowNavbarAndToolbar||t){if(this.showNavbarAndToolbarStatus){var e=Math.max(document.body.scrollTop,document.documentElement.scrollTop);this.$nextTick(function(){var t=Math.max(document.body.scrollTop,document.documentElement.scrollTop);e===t&&window.scrollTo(0,t-60)})}this.showNavbarAndToolbarStatus=!1,h.a.notifyApp({type:"column:article:bar",data:{navbar:{visibility:"hidden"},toolbar:{visibility:"hidden",display:this.toolbarDisplay}}})}t||(this.allowShowNavbarAndToolbar=!0)},setToolbarDisplay:function(t){this.toolbarDisplay=t,h.a.notifyApp({type:"column:article:bar",data:{toolbar:{display:t}}})},onTouchStart:function(t){var e=t.changedTouches[0]||t.touches[0],i=e.pageX;this.touchPoint.startLeft=i;var n=e.pageY;this.touchPoint.startTop=n;var r=(new Date).getTime();this.touchPoint.startTime=r;for(var o=t.target,a=!1;o;)o.parentNode&&"pre"===o.parentNode.nodeName.toLowerCase()?(a=!0,o=null):o=o.parentNode;a&&(this.swipeType="HSCROLL"),this.isInApp||(this.swipeType="DISABLED")},onTouchMove:function(t){var e=t.changedTouches[0]||t.touches[0];this.distance.left=e.pageX-this.touchPoint.startLeft;var i=Math.abs(this.distance.left),n=Math.abs(e.pageY-this.touchPoint.startTop);switch(this.distance.top=n,this.swipeType){case"SWIPE_WIDE":case"INIT":var r=Math.PI/180;i/(n+.01)>Math.tan(45*r)?(t.preventDefault(),this.swipeType="SWIPE_WIDE",i/(n+.01)>Math.tan(65*r)&&i>30&&(this.swipeType="SWIPE")):this.swipeType="SCROLL"}},onTouchEnd:function(t){var e=this.swipeType;if(this.swipeType="INIT","SWIPE"===e||"SWIPE_WIDE"===e){var i=(new Date).getTime()-this.touchPoint.startTime;this.touchPoint.startLeft<60&&this.distance.left>40&&i<600&&h.a.notifyApp({type:"back"})}},requestSyncStudyProgress:function(t,e,i){return new s.a(function(n,r){S.a.syncStudyProgress(t,{position:e,version:i},1).then(function(){n()}).catch(function(t){t.data&&-1===t.data.code&&t.data.data.exit_version&&r(t.data.data.exit_version)})})},getStudyProgress:function(){var t=document.documentElement.clientHeight,e=(document.documentElement.scrollTop||document.body.scrollTop)+t/2;return h.a.getPositionInSortNumberList(e,this.paragraphsOffsetTop)},isVersion:function(t){return h.a.isInApp()&&(h.a.gteqIOSVersion(t)||h.a.gteqAndroidVersion(t))},commentMoreMenuHandle:function(){var t=this;this.allowShowNavbarAndToolbar=!1,setTimeout(function(){t.allowShowNavbarAndToolbar=!0},500),this.hideNavbarAndToolbar(!0)},goColumn:function(){this.loginUser&&this.data.column_had_sub?h.a.jumpColumnDetail(this.data.column_id):h.a.jumpColumnIntro(this.data.column_id)},highlightclicked:function(){var t=this;this.allowShowNavbarAndToolbar=!1,setTimeout(function(){t.allowShowNavbarAndToolbar=!0},500)}}}},1431:function(t,e,i){"use strict";function n(){return{id:0,inited:!1,freelyRead:{count:0,total:0},data:{},column:{},comments:[],content:"",previewImgUrl:"",prevScore:0,scrollTimer:null,keepScrollingTimer:null,hasMoreComments:!0,requesting:!1,foldColumn:!1,articles:[],articlesPage:{count:0,more:!1},article:{},chapters:[],unavailable:null,audioStatus:{playing:!1,progress:0},commentsCount:0,favCount:0,dataManager:null,isShowMiniAudio:!1,cacheData:{},columnId:null,columnCouldSub:!0,columnHadSub:!1,url:"",isFullScreen:!1,isShowQrcode:!1,isMiniModel:!1,isShowUserMenu:!1,isShowImgPreview:!1,isShowPackupBtn:!1,couldReplyComments:!1,currentParagraphPosition:null,paragraphsOffsetTop:[],contentWrapScrollTop:{},comment:{heights:[],currentExpandIndex:0}}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(220),o=i.n(r),a=i(44),s=i.n(a),l=i(661),c=i.n(l),u=i(227),d=i.n(u),h=i(143),f=i.n(h),p=i(65),g=i(216),m=i(2088),_=i.n(m),v=i(2087),y=i.n(v),b=i(2090),x=i.n(b),w=i(1044),k=i.n(w),E=i(1193),T=i.n(E),S=i(656),A=i(221),C=i(2092),R=i.n(C),L=i(1281),P=i(794),O=i(705),D=i.n(O),I=i(2093),M=i.n(I),N=i(1306),F=i.n(N),B={};e.default={props:["columnData","articleData","articleListData"],data:function(){return f()({},n())},head:{title:function(){return{inner:this.article.article_title||"极客时间"}},meta:function(){var t=this.article.article_title||"",e=this.article.article_summary||"",i=this.article.article_cover||"";return[{name:"keywords",content:t,id:"metakeywords"},{name:"description",content:e,id:"metadesc"},{property:"og:url",content:"https://time.geekbang.org/column/article/"+this.id},{property:"og:type",content:"article"},{property:"og:title",content:t+" | 极客时间"},{property:"og:description",content:e},{property:"og:image",content:i}]}},created:function(){this.id=this.$route.params.id||this.$route.query.id,this.loadData(),this.resize(),this.saveOtherArticleReadHistory(),window.addEventListener("resize",this.resize,!1),document.addEventListener("keydown",this.keydownHandler),document.addEventListener("keyup",this.keyupHandler)},mounted:function(){var t=this;this.sideScrollbar=new L.a(this.$refs.column,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20,handlers:["click-rail","drag-thumb","wheel","touch"]}),this.mainScrollbar=new L.a(this.$refs.contentWrap,{wheelSpeed:2,wheelPropagation:!0,suppressScrollX:!0,minScrollbarLength:20,handlers:["click-rail","drag-thumb","wheel","touch"]}),this.maskScrollbar=new L.a(this.$refs.mask,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20,handlers:["click-rail","drag-thumb","wheel","touch"]}),this.$refs.column.addEventListener("ps-y-reach-end",function(){t.requestMoreArticleList()}),this.$refs.contentWrap.addEventListener("ps-y-reach-end",function(){t.requestMoreComments()}),this.$refs.contentWrap.addEventListener("ps-scroll-y",function(){t.scrollHandler()}),document.addEventListener("click",this.clickHandler),this.afterLoadedData()},beforeDestroy:function(){window.removeEventListener("resize",this.resize),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("keyup",this.keyupHandler),document.removeEventListener("click",this.clickHandler),this.forceSaveReadHistory(),this.mainScrollbar.destroy(),this.sideScrollbar.destroy(),this.maskScrollbar.destroy()},components:{AudioPlayer:y.a,CommentItem:_.a,VideoPlayer:k.a,RichContent:R.a,CircleProgress:T.a,QrCode:D.a,Comment:x.a,Pharmacode:F.a,UserMenu:M.a},computed:f()({},i.i(g.a)({loginUser:"loginUser"}),{hasLeftFreelyReadCount:function(){return!!(this.loginUser&&this.freelyRead.count<this.freelyRead.total)},isNeedSub:function(){return this.columnCouldSub&&!this.columnHadSub},isShowChapter:function(){return this.column.show_chapter&&this.chapters.length>0},neighbors:function(){return this.article.neighbors||null},prevArticle:function(){if(!this.neighbors||!this.columnHadSub)return null;var t=this.neighbors.left;return t&&t.id?t:null},nextArticle:function(){if(!this.neighbors||!this.columnHadSub)return null;var t=this.neighbors.right;return t&&t.id?t:null},formatProgress:function(){var t=String(this.currentParagraphPosition||"");if(/^\d{12}$/.test(t)){var e=t.match(/(\d{4})(\d{4})(\d{4})/),i=parseInt(e[1]-1e3),n=parseInt(e[2]-1e3);return Math.floor(n/i*360)}return 0},filterColumnUnit:function(){var t=String(this.column.column_unit);return t=/\d/.test(t)?t.match(/\d+/)[0]:null},totalArticleList:{get:function(){var t=this.chapters,e=this.articles;return this.isShowChapter?(t.forEach(function(t,i){t.articles=e.filter(function(e){return String(e.chapter_id)===String(t.id)})}),t):this.articles}}}),methods:{resetComponentData:function(){var t=this,e=n();d()(e).forEach(function(i){"inited"!==i&&"articles"!==i&&"chapters"!==i&&"columnCouldSub"!==i&&"columnHadSub"!==i&&"couldReplyComments"!==i&&"articlesPage"!==i&&"isMiniModel"!==i&&"foldColumn"!==i&&"columnId"!==i&&"freelyRead"!==i&&"column"!==i&&(t[i]=e[i])})},loadData:function(){var t=this;this.cacheData={},this.$loading.open(),this.dataManager=new P.a,this.inited?(this.dataManager.use(function(e){t.requestArticle().then(function(t){e()}),t.requestReportProgress()}),this.dataManager.use(function(e){t.requestComments().then(function(t){e()})})):(this.dataManager.use(function(e){t.loginUser&&t.requestUserData(),t.articleData?(t.cacheData.requestArticle=t.articleData,t.columnId=t.articleData.column_id,e()):t.requestArticle().then(function(i){t.columnId=i.column_id,e()})}),this.dataManager.use(function(e){t.requestChapters().then(function(){e()}),t.columnData?t.column=t.columnData:t.requestColumn(),t.requestComments(),t.requestReportProgress()}),this.dataManager.use(function(e){t.articleListData?(t.cacheData.requestArticleList=t.articleListData,e()):t.requestArticleList().then(function(){e()})})),this.dataManager.load()},useData:function(){var t=this,e=void 0;if(this.cacheData.requestArticle){e=this.cacheData.requestArticle,this.article=e,this.articles.every(function(e){return e.id!==t.article.id||(e.had_freelyread=t.article.had_freelyread,!1)}),this.freelyRead={count:e.freelyread_count||0,total:e.freelyread_total||0},this.unavailable=!!e.unavailable,this.content=p.a.formatContent(e.article_content),this.columnCouldSub=e.column_could_sub,this.columnHadSub=e.column_had_sub,this.favCount=this.article.like_count,this.url="https://time.geekbang.org/column/article/"+this.id,this.article.text_read_percent=this.article.text_read_percent||0,this.article.text_read_version=this.article.text_read_version||0;var i={value:this.article.text_read_percent,version:this.article.text_read_version};this.currentParagraphPosition=i.value;var n=window.localStorage.getItem("article:currentParagraphPosition:"+this.id);if(n)try{n=JSON.parse(n),n.version=n.version||0,n.version>i.version&&(this.currentParagraphPosition=n.value,this.lazySaveReadHistory(n.value,n.version))}catch(t){}this.$nextTick(function(){t.getParagraphsOffsetTop()})}this.cacheData.requestArticleList&&(e=this.cacheData.requestArticleList,this.articles=[].concat(c()(this.articles),c()(e.list)),this.articlesPage=e.page),this.cacheData.requestChapters&&(e=this.cacheData.requestChapters,this.chapters=e),this.cacheData.requestComments&&(e=this.cacheData.requestComments,this.comments=[].concat(c()(this.comments),c()(e.list)),this.commentsPage=e.page,this.hasMoreComments=e.page.more,this.commentsCount=this.commentsPage.count),!this.inited&&this.isShowChapter&&this.expandLastReadChapter(),this.inited=!0,this.$emit("updateHead"),this.$emit("inited"),this.cacheData={}},afterLoadedData:function(){var t=this;this.dataManager.ready(function(){t.inited||(t.foldColumn=!1),t.$loading.close(),t.useData(),t.article.audio_url&&t.$refs.contentWrap.addEventListener("ps-scroll-y",function(){if(t.$refs.audioPlayer){var e=p.a.offset(t.$refs.audioPlayer.$el).top;t.$refs.contentWrap.scrollTop>e?t.isShowMiniAudio=!0:t.isShowMiniAudio=!1}})})},requestMoreComments:function(t){var e=this;if(this.hasMoreComments&&!this.requesting){this.requesting=!0;var i=this.comments.length>0?this.comments[this.comments.length-1].score:0;this.requestComments(i).then(function(){e.useData(),e.requesting=!1})}},requestMoreArticleList:function(t){var e=this;if(this.articlesPage.more&&!this.requesting){this.requesting=!0;var i=this.articles.length>0?this.articles[this.articles.length-1].score:0;this.requestArticleList(i).then(function(){e.useData(),e.requesting=!1})}},requestArticle:function(){var t=this;return new s.a(function(e,i){S.a.getArticle({id:t.id,includeNeighbors:!0,isFreelyread:!0}).then(function(i){t.cacheData.requestArticle=i,e(i)}).catch(function(t){p.a.parseError(t)})})},requestComments:function(t){var e=this;return t=t||0,new s.a(function(i){S.a.getArticleComments(e.id,t).then(function(t){e.cacheData.requestComments=t,i()}).catch(function(t){console.log(t)})})},requestColumn:function(){var t=this;S.a.getColumnInfo(this.columnId).then(function(e){t.column=e}).catch(function(t){console.log(t)})},requestArticleList:function(t){var e=this;return t=t||0,new s.a(function(i){S.a.getArticles(e.columnId,t,"earliest",100,!1).then(function(t){e.cacheData.requestArticleList=t,i()}).catch(function(t){console.log(t)})})},requestChapters:function(){var t=this;return new s.a(function(e){S.a.getChapters(t.columnId).then(function(i){t.cacheData.requestChapters=i,e()}).catch(function(t){console.log(t)})})},requestReportProgress:function(){this.columnId&&this.loginUser&&S.a.reportProgress(this.columnId,this.id,"read").then(function(){}).catch(function(t){console.log(t)})},requestSyncStudyProgress:function(t,e,i){return new s.a(function(n,r){S.a.syncStudyProgress(t,{position:e,version:i},1).then(function(){n()}).catch(function(t){t.data&&-1===t.data.code&&t.data.data.exit_version&&r(t.data.data.exit_version)})})},requestUserData:function(t,e,i){var n=this;return new s.a(function(t,e){A.a.getUserData().then(function(t){n.couldReplyComments=t.could_reply}).catch(function(t){console.log("get user type error: ",t)})})},like:function(){var t=this;S.a.likeArticle(this.id,"article").then(function(e){t.likeRequesting=!1,t.article.had_liked=!0,t.favCount+=1}).catch(function(e){t.likeRequesting=!1})},unlike:function(){var t=this;S.a.unlikeArticle(this.id,"article").then(function(e){t.likeRequesting=!1,t.article.had_liked=!1,t.favCount-=1}).catch(function(e){t.likeRequesting=!1})},goAccount:function(t){this.isShowUserMenu||t.stopPropagation(),this.isShowUserMenu=!this.isShowUserMenu},goLogin:function(){window.location.href="//account.geekbang.org/signin?redirect="+encodeURIComponent(window.location.href)},goColumn:function(t){this.$ga.sendPv("/column/article/pc/goColumn/"+t),this.openNewTab("//time.geekbang.org/column/intro/"+this.columnId)},goRegister:function(){window.location.href="//account.geekbang.org/signup?redirect="+encodeURIComponent(window.location.href)},goIndex:function(){window.location.href="//time.geekbang.org"},download:function(){window.location.href="//time.geekbang.org/download"},openNewTab:function(t){window.open(t)},backTop:function(){function t(){setTimeout(function(){e.scrollTop=i+o,i+o>n&&(o+=r,t())},20)}var e=this.$refs.contentWrap,i=e.scrollTop,n=0,r=(n-i)/5,o=0;t()},weiboShare:function(){p.a.weiboShare({url:this.url,title:this.article.article_title,image:this.article.article_cover||""})},scrollComment:function(){var t=p.a.offset(this.$refs.commentBox.$el).top;this.$refs.contentWrap.scrollTop=t-100},toggleFav:function(){this.loginUser?this.article.had_liked?!this.likeRequesting&&this.unlike():!this.likeRequesting&&this.like():this.goLogin()},enterFullScreen:function(){this.isFullScreen=!0},exitFullScreen:function(){this.isFullScreen=!1},togglePlayAudio:function(){this.$refs.audioPlayer.toggle()},expandChapter:function(t,e){var i=this.totalArticleList.findIndex(function(e){return e.id===t.id});i>=0&&(this.$set(this.totalArticleList[i],"isActive",!this.totalArticleList[i].isActive),this.$forceUpdate());var n=this.$refs.articleList[e].offsetHeight;this.$refs.articleListWrapper[e].style.height=t.isActive?n+"px":"0px"},expandLastReadChapter:function(){var t=this,e=0;this.id&&this.isShowChapter&&(e=this.totalArticleList.findIndex(function(e){return e.articles.map(function(t){return String(t.id)}).indexOf(t.id)>-1}),this.totalArticleList.forEach(function(t,i){t.isActive=i===e}),this.$nextTick(function(){var i=t.$refs.articleList[e].offsetHeight;t.$refs.articleListWrapper[e].style.height=i+"px"}))},switchArticle:function(t,e){return!this.loginUser&&this.freelyRead.total>0&&!t.article_could_preview?void p.a.error("登录后，你可以任选"+this.freelyRead.total+"讲全文学习。"):this.isAllowRead(t)?(this.$ga.sendPv("/column/article/switchclick/"+e),this.$router.replace("/column/article/"+t.id),void(this.id!==t.id&&(this.article.audio_url&&this.$refs.audioPlayer.pause(),!this.article.had_freelyread&&this.hasLeftFreelyReadCount&&!t.article_could_preview&&this.isNeedSub&&(this.freelyRead.count=this.freelyRead.count+1),this.forceSaveReadHistory(),this.resetComponentData(),this.id=t.id,this.backTop(),this.loadData(),this.afterLoadedData()))):void p.a.error("请先购买专栏解锁")},audioUpdateHanlder:function(t){this.audioStatus=t},resize:function(){(document.documentElement.clientWidth||document.body.clientWidth)<1200?this.isMiniModel||(this.isMiniModel=!0,this.foldColumn=!0):this.isMiniModel&&(this.isMiniModel=!1,this.foldColumn=!1)},switchFold:function(){this.foldColumn=!this.foldColumn},keydownHandler:function(t){if(!B.keydown)switch(27===t.keyCode&&this.isFullScreen&&(this.isFullScreen=!1),37!==t.keyCode&&72!==t.keyCode||(this.prevArticle?this.switchArticle(this.prevArticle,"leftkey"):p.a.success("没有上一篇了")),39!==t.keyCode&&76!==t.keyCode||(this.nextArticle?this.switchArticle(this.nextArticle,"rightkey"):p.a.success("没有下一篇了")),70===t.keyCode&&t.shiftKey&&t.metaKey&&p.a.isMac()&&(this.isFullScreen=!this.isFullScreen),122===t.keyCode&&p.a.isWin()&&(this.isFullScreen=!this.isFullScreen),71===t.keyCode&&t.shiftKey&&this.scrollBottom(),71===t.keyCode&&B.g&&this.scrollTop(),71!==t.keyCode||t.shiftKey||t.metaKey||t.altKey||t.ctrlKey||(B.g=!0,setTimeout(function(){return delete B.g},300)),85===t.keyCode&&t.ctrlKey&&this.scrollDownPage(!0),68===t.keyCode&&t.ctrlKey&&this.scrollUpPage(!0),B.keydown=!0,t.keyCode){case 38:case 75:this.scrollUp();break;case 40:case 74:this.scrollDown();break;case 33:this.scrollUpPage();break;case 32:case 34:this.scrollDownPage();break;case 36:this.scrollTop();break;case 35:this.scrollBottom();break;case 80:this.togglePlayAudio();break;default:return}},keyupHandler:function(){clearTimeout(this.keepScrollingTimer),delete B.keydown},commentDeletedHandler:function(){this.commentsCount=this.commentsCount-1},scrollHandler:function(t){var e=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){e.updateReadHistory(),e.getPackupBtnStatus()},100)},getPackupBtnStatus:function(){for(var t=this.$refs.contentWrap,e=t.scrollTop,i=t.scrollTop+document.documentElement.clientHeight,n=this.comment.heights,r=0;r<n.length;r++){if(e>n[r].height1&&i<n[r].height2){this.isShowPackupBtn=!0,this.comment.currentExpandIndex=this.$refs.comments.querySelectorAll("div[data-commentnest]")[r].dataset.index;break}this.isShowPackupBtn=!1}},commentPackupHandler:function(){this.isShowPackupBtn=!1,this.$refs.commentItem[this.comment.currentExpandIndex].expandComment(),this.$refs.contentWrap.scrollTop=this.contentWrapScrollTop[this.comment.currentExpandIndex],this.calCommentNestHeights()},commentExpandHandler:function(t){var e=this;t.isShowCommentNest?this.contentWrapScrollTop[t.currentIndex]=this.$refs.contentWrap.scrollTop:this.calCommentNestHeights(),this.$nextTick(function(){e.mainScrollbar.update()})},commentLoadedHandler:function(){this.calCommentNestHeights()},commentScrolltoHandler:function(t){var e=this;this.$nextTick(function(){var i=e.$refs.commentItem[t].$el.querySelector("div[data-commentnest]");e.$refs.contentWrap.scrollTop=i.offsetTop})},calCommentNestHeights:function(){var t=this;this.$nextTick(function(){var e=t.$refs.comments.querySelectorAll("div[data-commentnest]");t.comment.heights=[],e.forEach(function(e){var i=p.a.offset(e).top,n=p.a.offset(e).top+e.offsetHeight;t.comment.heights.push({height1:i,height2:n})})})},getParagraphsOffsetTop:function(){var t=this;if(this.$refs.richContent&&this.$refs.richContent.$el){this.paragraphsOffsetTop=[];var e=this.$refs.richContent.$el.children[0],i=Array.prototype.slice.call(e.children);i.forEach(function(e,i){t.paragraphsOffsetTop.push(p.a.offset(e).top)});var n=i[i.length-1];this.paragraphsOffsetTop.push(n.offsetTop+n.offsetHeight)}},updateReadHistory:function(){var t=this.article.text_read_version+1,e=this.getStudyProgress(),i=""+(e.length+1e3)+(e.index+1e3)+(Math.floor(1e3*e.rest)+1e3);this.currentParagraphPosition=parseInt(i),this.updateReadHistoryLocalStorage(this.id,this.currentParagraphPosition,t),this.setReadHistoryLocalStorageNoSyncId(this.id)},updateReadHistoryLocalStorage:function(t,e,i){window.localStorage.setItem("article:currentParagraphPosition:"+t,o()({value:e,time:(new Date).getTime(),version:i}))},setReadHistoryLocalStorageNoSyncId:function(t){window.localStorage.setItem("article:currentParagraphPosition:noSyncId",o()({id:t}))},getReadHistoryLocalStorageNoSyncId:function(){var t=window.localStorage.getItem("article:currentParagraphPosition:noSyncId");if(t)try{return t=JSON.parse(t),t.id}catch(t){}return null},lazySaveReadHistory:function(t,e){this.saveReadHistory("lazy",this.id,t,e)},forceSaveReadHistory:function(){this.saveReadHistory("force",this.id,this.currentParagraphPosition,this.article.text_read_version+1)},saveReadHistory:function(t,e,i,n){var r=this;this.loginUser&&this.requestSyncStudyProgress(e,i,n).then(function(){String(e)===String(r.id)&&(r.data.text_read_version=n),String(e)===String(r.getReadHistoryLocalStorageNoSyncId())&&r.setReadHistoryLocalStorageNoSyncId("")}).catch(function(o){o>=n&&(String(e)===String(r.id)&&(r.data.text_read_version=o),r.updateReadHistoryLocalStorage(e,i,o+1),"force"===t&&r.requestSyncStudyProgress(e,i,o+1).then(function(){String(e)===String(r.id)&&(r.data.text_read_version=o+1)}).catch(function(){}))})},saveOtherArticleReadHistory:function(){var t=this.getReadHistoryLocalStorageNoSyncId()||0,e=window.localStorage.getItem("article:currentParagraphPosition:"+t);if(e&&t&&String(t)!==String(this.id))try{e=JSON.parse(e),e.value&&e.version&&this.saveReadHistory("lazy",t,e.value,e.version)}catch(t){}},getStudyProgress:function(){var t=document.documentElement.clientHeight,e=this.$refs.contentWrap.scrollTop+t/2;return p.a.getPositionInSortNumberList(e,this.paragraphsOffsetTop)},scrollTop:function(){this.$refs.contentWrap.scrollTop=0},scrollBottom:function(){var t=p.a.offset(this.$refs.commentBox.$el).top;this.$refs.contentWrap.scrollTop=t-500},scrollUp:function(){this.keepScrolling(-1)},scrollDown:function(){this.keepScrolling(1)},scrollUpPage:function(t){var e=this.$refs.contentWrap,i=e.clientHeight-100;t&&(i=e.clientHeight/2),e.scrollTop=e.scrollTop-i},scrollDownPage:function(t){var e=this.$refs.contentWrap,i=e.clientHeight-100;t&&(i=e.clientHeight/2),e.scrollTop=e.scrollTop+i},keepScrolling:function(t,e){var i=this;clearTimeout(this.keepScrollingTimer),this.keepScrollingTimer=setTimeout(function(){function e(){B.keydown&&window.requestAnimationFrame(function(){r+=6*t,n.scrollTop=r,e()})}var n=i.$refs.contentWrap,r=n.scrollTop;e()},e||0)},clickHandler:function(){this.isShowUserMenu=!1},imgClickHandler:function(t){var e=t.target;"img"===e.nodeName.toLowerCase()&&(this.previewImgUrl=e.currentSrc,this.showPreview(e))},showPreview:function(t){var e=this;this.isShowImgPreview=!0,this.$nextTick(function(){var i=t.offsetWidth/t.naturalWidth,n=e.$refs.imgPreview.getBoundingClientRect(),r=t.getBoundingClientRect(),o=(r.x-n.x)/i,a=(r.y-n.y)/i;e.$refs.imgPreview.style.transform="scale("+i+") translate("+o+"px, "+a+"px)"}),setTimeout(function(){e.$refs.imgPreview.style.transition="all ease .3s",e.$refs.imgPreview.offsetHeight>document.documentElement.clientHeight&&(e.$refs.imgPreviewInner.style.alignItems="flex-start",e.$refs.imgPreviewInner.style.paddingTop="10px"),e.$refs.imgPreview.style.transform="scale(1) translate(0, 0)"})},hidePreview:function(){this.$refs.imgPreview.style.transform="",this.$refs.imgPreview.style.transition="",this.$refs.imgPreviewInner.style.alignItems="center",this.$refs.imgPreviewInner.style.paddingTop="",this.isShowImgPreview=!1},isAllowRead:function(t){return!this.isNeedSub||t.article_could_preview||this.hasLeftFreelyReadCount||t.had_freelyread}}}},1502:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=function(){function t(){r()(this,t),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return a()(t,[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var i=0;i<this.events[t].length;i++)this.events[t][i](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.audioEvents.indexOf(t)?"audio":(console.error("Unknown event name: "+t),null)}}]),t}();e.a=s},1503:function(t,e,i){"use strict";e.a=function(t){var e={container:t.element||document.getElementsByClassName("aplayer")[0],mini:t.narrow||t.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:t.showlrc||t.lrc||0,preload:"metadata",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:t.fixed,listMaxHeight:t.listmaxheight||250,audio:t.music||[],storageName:"aplayer-setting"};for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i]);return t.listMaxHeight=parseFloat(t.listMaxHeight),"[object Array]"!==Object.prototype.toString.call(t.audio)&&(t.audio=[t.audio]),t.audio.map(function(t){return t.name=t.name||t.title||"Audio name",t.artist=t.artist||t.author||"Audio artist",t.cover=t.cover||t.pic,t}),t.audio.length<=1&&"one"===t.loop&&(t.loop="all"),t}},1504:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=i(1503),l=i(1505),c=i(1502),u=i(722),d=i.n(u),h=[],f=function(){function t(e){r()(this,t),this.options=i.i(s.a)(e),this.container=this.options.container,this.paused=!0,this.container=this.options.container,this.events=new c.a,this.timer=new l.a(this),this.initAudio(),this.bindEvents(),this.setAudio(this.options.audio[0]),h.push(this)}return a()(t,[{key:"initAudio",value:function(){var t=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var e=0;e<this.events.audioEvents.length;e++)!function(e){t.audio.addEventListener(t.events.audioEvents[e],function(i){t.events.trigger(t.events.audioEvents[e],i)})}(e)}},{key:"bindEvents",value:function(){var t=this;this.on("play",function(){t.paused&&t.setUIPlaying()}),this.on("pause",function(){t.paused||t.setUIPaused()}),this.on("timeupdate",function(){t.disableTimeupdate}),this.on("durationchange",function(){t.duration});this.on("error",function(){t.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){}),this.on("ended",function(){})}},{key:"setAudio",value:function(t){this.hls&&(this.hls.destroy(),this.hls=null);var e=t.type;this.options.customAudioType&&this.options.customAudioType[e]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[e])?this.options.customAudioType[e](this.audio,t,this):console.error("Illegal customType: "+e):(e&&"auto"!==e||(e=/m3u8(#|\?|$)/i.exec(t.url)?"hls":"normal"),"hls"===e?d.a.isSupported()?(this.hls=new d.a,this.hls.loadSource(t.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=t.url:this.notice("Error: HLS is not supported."):"normal"===e&&(this.audio.src=t.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[e]&&(this.list.audios[e].theme=t)}},{key:"seek",value:function(t){t=Math.max(t,0),t=Math.min(t,this.duration),this.audio.currentTime=t}},{key:"setUIPlaying",value:function(){if(this.paused&&(this.paused=!1),this.timer.enable("loading"),this.options.mutex)for(var t=0;t<h.length;t++)this!==h[t]&&h[t].pause()}},{key:"play",value:function(){var t=this;this.setUIPlaying();var e=this.audio.play();e&&e.catch(function(e){console.warn(e),"NotAllowedError"===e.name&&t.setUIPaused()})}},{key:"setUIPaused",value:function(){this.paused||(this.paused=!0),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"volume",value:function(t,e){return t=parseFloat(t),isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),e||this.storage.set("volume",t),this.audio.volume=t,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"toggle",value:function(){this.paused?this.play():this.pause()}},{key:"addAudio",value:function(t){this.list.add(t)}},{key:"removeAudio",value:function(t){this.list.remove(t)}},{key:"destroy",value:function(){h.splice(h.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"notice",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}]),t}();e.a=f},1505:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=function(){function t(e){r()(this,t),this.player=e,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),this.types=["loading"],this.init()}return a()(t,[{key:"init",value:function(){var t=this;this.types.forEach(function(e){t["init"+e+"Checker"]()})}},{key:"initloadingChecker",value:function(){var t=this,e=0,i=0,n=!1;this.loadingChecker=setInterval(function(){t.enableloadingChecker&&(i=t.player.audio.currentTime,n||i!==e||t.player.audio.paused||(t.player.container.classList.add("aplayer-loading"),n=!0),n&&i>e&&!t.player.audio.paused&&(t.player.container.classList.remove("aplayer-loading"),n=!1),e=i)},100)}},{key:"enable",value:function(t){this["enable"+t+"Checker"]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable"+t+"Checker"]=!1}},{key:"destroy",value:function(){var t=this;this.types.forEach(function(e){t["enable"+e+"Checker"]=!1,t[e+"Checker"]&&clearInterval(t[e+"Checker"])})}}]),t}();e.a=s},1524:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._3pPXuiMg_0{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._3jpE9SVX_0{position:relative;border-radius:2px;background-color:#d7d7d7;height:2px}._1YW_70lx_0{cursor:pointer}._3881ADPa_0{border-radius:15px;background-color:#afafaf;z-index:1;width:0;height:100%;will-change:width}._1YsN3Sbi_0,._3881ADPa_0{position:absolute;-webkit-transition:all 0s;transition:all 0s;top:0;left:0}._1YsN3Sbi_0{will-change:transform;cursor:pointer;z-index:3}._91z_KPXU_0{position:absolute;top:18px;width:36px;height:36px;background:hsla(0,0%,100%,.01);-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}._91z_KPXU_0:before{position:absolute;left:9px;top:9px;content:"";width:18px;height:18px;background:#fff;-webkit-box-shadow:0 3px 7px 2px rgba(209,212,223,.54);box-shadow:0 3px 7px 2px rgba(209,212,223,.54);border-radius:50%}',""]),e.locals={wrap:"_3pPXuiMg_0",main:"_3jpE9SVX_0",cursor:"_1YW_70lx_0",process:"_3881ADPa_0",tooltipContainer:"_1YsN3Sbi_0",tooltip:"_91z_KPXU_0"}},1526:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,"._1ysv2txS_0{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;font-weight:400}._1Q_izgym_0{left:350px;right:0}._1Q_izgym_0,._3-b6SqNP_0{position:absolute;top:0;bottom:0;-webkit-transition:left .6s ease;transition:left .6s ease}._3-b6SqNP_0{left:0;width:350px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:#fefdfc;border-right:1px solid #e4e4e4;z-index:10}._3-b6SqNP_0 ._3sZn_BpW_0{position:absolute;right:40px;top:24px;font-size:16px;cursor:pointer;-webkit-transition:all .6s ease;transition:all .6s ease}._2bUO5eUH_0 ._1Q_izgym_0{left:0}._2bUO5eUH_0 ._3-b6SqNP_0{left:-350px}._2bUO5eUH_0 ._3sZn_BpW_0{-webkit-transform:rotate(180deg);transform:rotate(180deg)}._3drao_sU_0 .rBDXhMZ0_0{-webkit-transform:translateY(-64px);transform:translateY(-64px)}._3drao_sU_0 .rBDXhMZ0_0 ._3_oK3mNE_0{-webkit-transition-delay:.6s;transition-delay:.6s;opacity:1}._3drao_sU_0 .rBDXhMZ0_0 ._3_oK3mNE_0._1gyq1m3x_0{-webkit-transform:translateY(64px);transform:translateY(64px)}._3drao_sU_0 ._1Q_izgym_0{left:0}._3drao_sU_0 .ibY_sXau_0{top:0}._3drao_sU_0 ._3-b6SqNP_0{left:-350px}._3drao_sU_0 ._3sZn_BpW_0{-webkit-transform:rotate(180deg);transform:rotate(180deg)}._3drao_sU_0 ._35V_pofE_0,._3drao_sU_0 .k7LpsVQS_0{-webkit-transform:translateY(-65px);transform:translateY(-65px);opacity:0;visibility:hidden}.sWeanalh_0 ._1Q_izgym_0{left:0}._2hLfI_o-_0{height:32px;width:124px;margin-top:22px;margin-bottom:74px;margin-left:40px;background:url("+n(i(797))+') no-repeat;background-size:124px}._2hLfI_o-_0,._2wfEnz-D_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer}._2wfEnz-D_0{display:-webkit-box;display:-ms-flexbox;display:flex;height:110px;border-bottom:1px solid #e9e9e9;margin:0 40px;padding-bottom:29px}._2wfEnz-D_0 ._1QssW2v6_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;height:110px;width:90px;overflow:hidden;position:relative;border-radius:5px}._2wfEnz-D_0 ._1QssW2v6_0 img{position:absolute;height:100%;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._2wfEnz-D_0 ._382D6fck_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-left:14px;color:#888;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}._2wfEnz-D_0 ._382D6fck_0 .WRb7YQxC_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-size:16px;line-height:20px;color:#404040;font-weight:600;-webkit-font-smoothing:antialiased}._2wfEnz-D_0 ._382D6fck_0 ._1fBrkBPF_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-size:14px;line-height:20px}._2wfEnz-D_0 ._382D6fck_0 .oEwj0Qjl_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:14px;line-height:20px;width:166px;overflow:hidden;height:40px;white-space:nowrap;text-overflow:ellipsis}._2wfEnz-D_0 ._382D6fck_0 ._1hBhduO5_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;height:22px;display:-webkit-box;display:-ms-flexbox;display:flex}._2wfEnz-D_0 ._382D6fck_0 ._3M6PPT62_0{width:60px;height:22px;line-height:22px;font-size:12px;color:#fff;background:#fa8919;border-radius:4px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;text-align:center;font-weight:300}._2wfEnz-D_0 ._382D6fck_0 .FEGIvKpJ_0{background:#b2b2b2}._2wfEnz-D_0 ._382D6fck_0 ._2Ia7EL4__0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:14px;font-weight:400;line-height:16px;text-align:right;font-size:12px;margin-top:6px}._4hc0Y8wO_0{padding:0 40px}.faLsNCZ2_0{margin-top:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.faLsNCZ2_0 ._3q5its6A_0{padding-top:30px;padding-bottom:10px}.faLsNCZ2_0 ._3q5its6A_0 ._2dpgqe6F_0{font-size:24px;padding-left:15px;position:relative;height:40px;line-height:40px;color:#404040;font-weight:600;-webkit-font-smoothing:antialiased}.faLsNCZ2_0 ._3q5its6A_0 ._2dpgqe6F_0:after{content:" ";width:3px;height:24px;border-radius:2px;background:#fa8919;left:0;top:8px;position:absolute}.faLsNCZ2_0 ._3q5its6A_0 ._2JNDR3hy_0{color:#888;font-size:14px;line-height:20px}.rMLmCpCA_0{padding-top:20px;border-bottom:1px solid #e9e9e9}.rMLmCpCA_0._3kBNzF8S_0{border-bottom:none}._3dm3SgPe_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer}._3dm3SgPe_0 ._1jdQlhOK_0{margin-left:10px;color:#b2b2b2;-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}._3dm3SgPe_0 ._1jdQlhOK_0._3kBNzF8S_0{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}._2NgRM2G9_0{font-size:18px;color:#404040;font-weight:600;-webkit-font-smoothing:antialiased}._2NgRM2G9_0:hover{text-decoration:underline}._2F5tWEFn_0{margin-top:13px;height:0;overflow:hidden;-webkit-transition:height .3s ease;transition:height .3s ease}._1NHkz9xq_0{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:66px;padding-top:12px;padding-bottom:12px;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #e9e9e9;cursor:pointer}._1NHkz9xq_0,._1NHkz9xq_0 .YTMtUePw_0{display:-webkit-box;display:-ms-flexbox;display:flex}._1NHkz9xq_0 .YTMtUePw_0 ._3DJrlH2u_0{margin-left:10px}._1NHkz9xq_0 ._3idS3Tmc_0,._1NHkz9xq_0 .tHLaw6Yu_0{height:14px;width:14px;padding-top:2px}._1NHkz9xq_0 ._3idS3Tmc_0{font-size:12px;line-height:14px;color:#dfdfdf}._1NHkz9xq_0 ._3DJrlH2u_0{font-size:14px;line-height:20px;color:#4c4c4c;font-weight:400}._1NHkz9xq_0 ._3DJrlH2u_0:hover{text-decoration:underline}._1NHkz9xq_0 ._3DJrlH2u_0.xRDKfMS__0{margin-left:20px;color:#888}._1NHkz9xq_0 ._15jp1rJ4_0{border:1px solid #fa8919;color:#fa8919;font-size:12px;text-align:center;background:#fff;border-radius:3px;width:36px;height:15px;line-height:15px;margin-top:4px;margin-left:25px}.mF4wADMk_0 ._3DJrlH2u_0{color:#b2b2b2!important}.mF4wADMk_0 ._3DJrlH2u_0:hover{text-decoration:none}._2AkdpMxn_0 ._3DJrlH2u_0{color:#fa8919!important}.rBDXhMZ0_0{height:65px;border-bottom:1px solid #e2e2e2;background:#fff;position:relative;z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 38px;-webkit-transition:all .6s ease;transition:all .6s ease}.rBDXhMZ0_0 .ZV1AiwXX_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.rBDXhMZ0_0 ._3sZn_BpW_0{font-size:16px;-webkit-transition:all .6s ease;transition:all .6s ease}.rBDXhMZ0_0 ._3M6PPT62_0,.rBDXhMZ0_0 ._3sZn_BpW_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer}.rBDXhMZ0_0 ._3M6PPT62_0{width:116px;height:33px;line-height:33px;font-size:14px;font-weight:300;color:#fff;background:#fa8919;border-radius:4px;text-align:center;margin-left:18px}.rBDXhMZ0_0 ._2YojnHsc_0{font-size:18px;margin-left:25px;text-overflow:ellipsis;max-width:500px;overflow:hidden;white-space:nowrap;cursor:pointer;color:#404040;font-weight:600;-webkit-font-smoothing:antialiased}.rBDXhMZ0_0 ._2YojnHsc_0:hover{color:#fa8919}.rBDXhMZ0_0 ._1Th3f96m_0{height:57px;width:53px;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fcfcfc;border:1px solid #dcdcdc;border-top:none;margin-bottom:7px;border-bottom-left-radius:50%;border-bottom-right-radius:50%;margin-right:15px;padding-top:11px;padding-left:7px;position:relative;-webkit-transform:translateY(-57px);transform:translateY(-57px);-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.rBDXhMZ0_0 ._1Th3f96m_0._1gyq1m3x_0{-webkit-transform:translateY(0);transform:translateY(0)}.rBDXhMZ0_0 ._3_oK3mNE_0{-webkit-transition:-webkit-transform .6s ease;transition:-webkit-transform .6s ease;transition:transform .6s ease;transition:transform .6s ease,-webkit-transform .6s ease;-webkit-transition-delay:0s;transition-delay:0s;position:absolute;left:50%;top:0;margin-left:426px;opacity:0}.rBDXhMZ0_0 ._3_oK3mNE_0,.rBDXhMZ0_0 ._3_oK3mNE_0._1gyq1m3x_0{-webkit-transform:translateY(-64px);transform:translateY(-64px)}.rBDXhMZ0_0 ._260OOPjj_0{background-repeat:no-repeat;background-position:0 0;background-size:300px;border-radius:50%;width:32px;height:32px;position:absolute;top:14px;left:10px;-webkit-animation:_20hWdDc3_0 4s linear infinite;animation:_20hWdDc3_0 4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.rBDXhMZ0_0 ._2t5Wwqq5_0{background:rgba(0,0,0,.12)}.rBDXhMZ0_0 ._2t5Wwqq5_0,.rBDXhMZ0_0 ._3ZzS9WVl_0{position:absolute;border-radius:50%;top:14px;left:10px;width:32px;height:32px;z-index:2}.rBDXhMZ0_0 ._3ZzS9WVl_0{line-height:32px;text-align:center;color:#fff;font-size:13px;cursor:pointer}.rBDXhMZ0_0 ._2N34YPJB_0{left:12px}.rBDXhMZ0_0 .Om1BnS6m_0{font-size:16px;color:#404040;font-weight:400}.rBDXhMZ0_0 .Om1BnS6m_0 ._3A9iccKL_0{font-size:18px}.rBDXhMZ0_0 .Om1BnS6m_0 span{display:inline-block;height:28px;padding-left:5px;padding-right:5px;text-align:center;cursor:pointer}.rBDXhMZ0_0 ._1MA-AdXE_0{position:absolute;top:66px;right:30px;width:138px}.rBDXhMZ0_0 ._1jvSGstr_0{cursor:default!important;text-align:center;display:inline-block;vertical-align:top;padding-left:0!important;padding-right:0!important}.ibY_sXau_0{overflow:hidden;position:absolute;-webkit-transition:all .6s ease;transition:all .6s ease;top:65px;left:0;right:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex}._1Dgl7pMn_0{width:680px;margin:0 auto}._3-9A2Wmt_0{text-align:center}._3-9A2Wmt_0 img{vertical-align:top;max-width:100%;border-radius:8px}.cZCVMzBP_0{color:#404040;font-weight:600;-webkit-font-smoothing:antialiased;line-height:1.5;font-size:28px;margin-top:60px}._2VF1_VFy_0{color:#888;font-size:16px;margin-top:10px}._2SKlnZlt_0{margin-top:30px}._2sg1Tei__0{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:14px;border-top:.5px solid #e2e2e2;padding-top:10px}._2sg1Tei__0 span{font-size:16px}._3-W_zrq4_0{margin-top:80px;padding-bottom:80px}._3-W_zrq4_0 h2{font-size:16px;color:#404040;font-weight:600;-webkit-font-smoothing:antialiased;position:relative;z-index:1;margin-bottom:1rem}._1DRwKyCv_0{position:fixed;left:50%;margin-left:416px;bottom:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:80px;height:32px;font-size:13px;color:#888;border-radius:3px;-webkit-box-shadow:0 4px 8px 1px rgba(140,163,191,.2);box-shadow:0 4px 8px 1px rgba(140,163,191,.2);background:#f6f7fb;-webkit-transform:translateY(64px);transform:translateY(64px);opacity:0;padding-left:4px;cursor:pointer}._1DRwKyCv_0._1gyq1m3x_0{-webkit-transition:opacity .3s ease,-webkit-transform .3s ease;transition:opacity .3s ease,-webkit-transform .3s ease;transition:transform .3s ease,opacity .3s ease;transition:transform .3s ease,opacity .3s ease,-webkit-transform .3s ease;-webkit-transform:translateY(0);transform:translateY(0);opacity:1}._1DRwKyCv_0 ._1QBZRYBq_0{margin-left:4px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}._38N0ffYT_0{font-size:15px;color:#888;line-height:24px;border-left:3px solid #e8e8e8;padding-left:15px}._3qftfzyH_0{border-radius:5px;padding:15px;background-color:#f6f7fb;margin-top:20px}._3qftfzyH_0 ._2rnRKKqV_0{font-size:16px;line-height:24px;text-align:center;color:#404040;font-weight:500;-webkit-font-smoothing:antialiased;padding-bottom:10px}._3qftfzyH_0 .CJJSHwZ8_0{width:150px;height:38px;line-height:38px;font-weight:300;font-size:16px;color:#fff;background:#fa8919;border-radius:4px;text-align:center;cursor:pointer;margin:0 auto}._2i1ytqT9_0{margin-top:30px}.EdaaidhQ_0{margin-top:24px}._1AKFIzv0_0{-webkit-animation-play-state:running!important;animation-play-state:running!important}._35V_pofE_0{margin-left:380px}._35V_pofE_0,.k7LpsVQS_0{position:absolute;left:50%;top:50%;margin-top:150px;height:40px;width:40px;-webkit-transition:all .6s ease;transition:all .6s ease}.k7LpsVQS_0{margin-left:-420px}.OJ1-O2lA_0{height:38px;width:38px;font-size:18px;border-radius:50%;background:#f6f7f9;line-height:38px;text-align:center;color:#999;position:absolute;cursor:pointer;border:1px solid #f6f7f9}.OJ1-O2lA_0:hover{border:1px solid #fa8919;color:#fa8919;background:#fff}._1lgUyPfS_0{font-size:20px;letter-spacing:-3px}._3Z-tRdhG_0{font-size:20px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}._19KVU7IX_0{top:-394px}._19KVU7IX_0 span{position:absolute;font-size:12px;top:0;right:-12px;background:#bdbdbd;color:#fff;height:14px;line-height:14px;width:24px;overflow:hidden;border-radius:7px;font-family:PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}._3QWdWikl_0{top:-334px}._3QWdWikl_0._1gyq1m3x_0{color:#fa8919}._3QWdWikl_0 span{position:absolute;font-size:12px;top:0;right:-12px;background:#bdbdbd;color:#fff;height:14px;line-height:14px;width:24px;overflow:hidden;border-radius:7px;font-family:PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}.P00Ux77Z_0{font-size:16px;top:-274px}._1GGnOK0Z_0{font-size:22px;top:-214px}._23jDaBCo_0{font-size:19px;top:-154px}.FSrxdnjI_0{top:60px}.FSrxdnjI_0 a{color:#999}.FSrxdnjI_0 ._2NDI-Prg_0{display:block}.FSrxdnjI_0 ._15yXCNVi_0{padding-top:6px;font-size:12px;line-height:14px;color:#fa8919;-webkit-transform:scale(.8);transform:scale(.8);display:none}.FSrxdnjI_0:hover ._2NDI-Prg_0{display:none}.FSrxdnjI_0:hover ._15yXCNVi_0{display:block}._2nVCVrRU_0{top:120px}._2nVCVrRU_0 ._2NDI-Prg_0{display:block;font-size:12px}._2nVCVrRU_0 ._15yXCNVi_0{padding-top:6px;font-size:12px;line-height:14px;-webkit-transform:scale(.8);transform:scale(.8);display:none}._2nVCVrRU_0:hover ._2NDI-Prg_0{display:none}._2nVCVrRU_0:hover ._15yXCNVi_0{display:block}.nRnSOUfp_0{height:28px;border-radius:15px;line-height:28px;width:148px;font-size:14px;position:absolute;top:66px;left:50%;margin-left:380px;background:#f6f7f9;color:#999;border:1px solid #f6f7f9;cursor:pointer;text-align:center;-webkit-transition:top .6s ease;transition:top .6s ease}.nRnSOUfp_0 span{font-size:10px;margin-right:5px;vertical-align:top}.nRnSOUfp_0:hover{background:#fff;color:#fa8919;border:1px solid #fa8919}.nRnSOUfp_0._1gyq1m3x_0{top:80px}._1jwi88iD_0{border-radius:3px;background:#fff;position:absolute;border:1px solid #dadada;top:-94px;left:-18px}._3d13BJVh_0{color:#b2b2b2}.fiIC337b_0{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;padding-bottom:10px;background-color:rgba(26,26,26,.65);overflow:hidden;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.fiIC337b_0 .lAnZTJb0_0{overflow:auto;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fiIC337b_0 .lAnZTJb0_0 ._17jvtdGR_0{-webkit-transform-origin:top left;transform-origin:top left;position:relative;max-width:calc(100% - 60px)}._2d3kT8Od_0{background:#fafafa;height:45px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;padding-left:40px;color:#4c4c4c;margin-bottom:10px}._2d3kT8Od_0 strong{font-weight:400;color:#fa8919;margin:0 3px}._2d3kT8Od_0 ._2ihi-M3Z_0{font-size:21px;color:#fa8919;margin-right:6px;margin-top:-4px}.ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{height:15px;bottom:0}.ps__rail-x,.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;position:absolute}.ps__rail-y{width:15px;right:0}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:4px;right:2px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@-webkit-keyframes _20hWdDc3_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _20hWdDc3_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),e.locals={wrap:"_1ysv2txS_0",main:"_1Q_izgym_0",side:"_3-b6SqNP_0",foldBtn:"_3sZn_BpW_0",fold:"_2bUO5eUH_0",fullScreen:"_3drao_sU_0",nav:"rBDXhMZ0_0",audioStatus2:"_3_oK3mNE_0",on:"_1gyq1m3x_0",contentWrap:"ibY_sXau_0",rightSideMenus:"_35V_pofE_0",leftSideMenus:"k7LpsVQS_0",mini:"sWeanalh_0",logo:"_2hLfI_o-_0",columnInfo:"_2wfEnz-D_0",avatar:"_1QssW2v6_0",bd:"_382D6fck_0",columnName:"WRb7YQxC_0",authorName:"_1fBrkBPF_0",authorTitle:"oEwj0Qjl_0",status:"_1hBhduO5_0",subBtn:"_3M6PPT62_0",off:"FEGIvKpJ_0",subNum:"_2Ia7EL4__0",pd40:"_4hc0Y8wO_0",column:"faLsNCZ2_0",hd:"_3q5its6A_0",tit:"_2dpgqe6F_0",info:"_2JNDR3hy_0",chapterItem:"rMLmCpCA_0",open:"_3kBNzF8S_0",chapterTitleWrapper:"_3dm3SgPe_0",expand:"_1jdQlhOK_0",chapterTitle:"_2NgRM2G9_0",articleListWrapper:"_2F5tWEFn_0",articleItem:"_1NHkz9xq_0",top:"YTMtUePw_0",txt:"_3DJrlH2u_0",progress:"tHLaw6Yu_0",lock:"_3idS3Tmc_0",noContent:"xRDKfMS__0",trialTag:"_15jp1rJ4_0",unsub:"mF4wADMk_0",isCurrentArticle:"_2AkdpMxn_0",space:"ZV1AiwXX_0",columnTitle:"_2YojnHsc_0",audioStatus:"_1Th3f96m_0",cover:"_260OOPjj_0",rotate:"_20hWdDc3_0",coverMask:"_2t5Wwqq5_0",icon:"_3ZzS9WVl_0",playIcon:"_2N34YPJB_0",userStatus:"Om1BnS6m_0",userIcon:"_3A9iccKL_0",userMenu:"_1MA-AdXE_0",split:"_1jvSGstr_0",contentWrapScroller:"_1Dgl7pMn_0",articleCover:"_3-9A2Wmt_0",articleTitle:"cZCVMzBP_0",articleInfo:"_2VF1_VFy_0",articleContent:"_2SKlnZlt_0",copyright:"_2sg1Tei__0",comments:"_3-W_zrq4_0",btnPackup:"_1DRwKyCv_0",pakupIcon:"_1QBZRYBq_0",emptyCommentTip:"_38N0ffYT_0",unavailable:"_3qftfzyH_0",text:"_2rnRKKqV_0",btn:"CJJSHwZ8_0",richConent:"_2i1ytqT9_0",audioPlayer:"EdaaidhQ_0",running:"_1AKFIzv0_0",menuItem:"OJ1-O2lA_0",nextBtn:"_1lgUyPfS_0",prevBtn:"_3Z-tRdhG_0",commentBtn:"_19KVU7IX_0",favoriteBtn:"_3QWdWikl_0",fullScreenBtn:"P00Ux77Z_0",weiboSahreBtn:"_1GGnOK0Z_0",wechatSahreBtn:"_23jDaBCo_0",downloadBtn:"FSrxdnjI_0",txt1:"_2NDI-Prg_0",txt2:"_15yXCNVi_0",backTopBtn:"_2nVCVrRU_0",exitFullScreenBtn:"nRnSOUfp_0",qrcode:"_1jwi88iD_0",gray:"_3d13BJVh_0",mask:"fiIC337b_0",imgPreviewInner:"lAnZTJb0_0",imgPreview:"_17jvtdGR_0",freeReadTip:"_2d3kT8Od_0",leftCount:"_2ihi-M3Z_0"}},1541:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".xOSN1__a_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px}.xOSN1__a_0 button,.xOSN1__a_0 i{padding:0 15px;font-weight:400;color:#4c4c4c;background-color:transparent;border:none;outline:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xOSN1__a_0 ._38Gla8Vu_0{color:#b2b2b2}.xOSN1__a_0 .X8THQnxO_0{cursor:default}",""]),e.locals={pagination:"xOSN1__a_0",current:"_38Gla8Vu_0",disabled:"X8THQnxO_0"}},1544:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._1QFlQFbV_0{height:62px;background:#fefdfc;padding-left:22px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:33px;border-radius:6px;border:1px solid #e7e6e5}._1fyhPbAt_0{border-radius:50%;width:38px;height:38px;border:1px solid #fa8919;position:relative;cursor:pointer;overflow:hidden}.ATSIdCr2_0{background-repeat:no-repeat;background-position:0 0;background-size:300px;position:absolute;top:0;left:0;opacity:.9;-webkit-filter:blur(2px);filter:blur(2px)}.ATSIdCr2_0,.JtBkdAPm_0{border-radius:50%;width:38px;height:38px}.JtBkdAPm_0{line-height:38px;text-align:center;z-index:2;position:relative}._1w0mM49m_0 .JtBkdAPm_0{color:#fa8919;margin-left:2px}._2UiP6wJV_0 .JtBkdAPm_0{color:#fa8919}._1w0mM49m_0 .ATSIdCr2_0{-webkit-animation:_2ayLxSPU_0 4s linear infinite;animation:_2ayLxSPU_0 4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}._2UiP6wJV_0 .ATSIdCr2_0{-webkit-animation:_2ayLxSPU_0 4s linear infinite;animation:_2ayLxSPU_0 4s linear infinite;-webkit-animation-play-state:running;animation-play-state:running}.wiOGMsgm_0{margin-top:18px;padding-right:61px;position:relative}.XMJhrxdZ_0{color:#fa8919;font-size:12px;position:absolute;top:-7px;right:0;width:45px;height:16px;line-height:16px;font-weight:400}._29xRN1a__0{margin-right:10px;margin-top:.125rem;font-size:12px;font-weight:500;line-height:1rem;margin-top:16px;color:#999;font-weight:300}._29xRN1a__0 span:first-child{margin-right:20px}._1jNLtQR1_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-left:22px;height:62px}._1QFlQFbV_0 ._3KFNSK5r_0{background:#fce2d0}._1QFlQFbV_0 ._3KFNSK5r_0:before{left:0;background:#f6751f}._1QFlQFbV_0 ._3KFNSK5r_0:after,._1QFlQFbV_0 ._3KFNSK5r_0:before{content:"";position:absolute;height:6px;width:6px;top:-2px;border-radius:50%}._1QFlQFbV_0 ._3KFNSK5r_0:after{right:0;background:#fce2d0}._1QFlQFbV_0 ._3f3uWEuQ_0{background:#f6751f}._1QFlQFbV_0 ._2G5BBjOu_0{height:16px;width:45px;background:#fa8919;color:#fff;font-size:12px;text-align:center;line-height:16px;border-radius:8px;position:absolute;font-weight:300;left:0;top:-7px;-webkit-box-shadow:0 4px 10px 0 rgba(255,227,200,.55);box-shadow:0 4px 10px 0 rgba(255,227,200,.55)}@-webkit-keyframes _2ayLxSPU_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _2ayLxSPU_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),e.locals={main:"_1QFlQFbV_0",btn:"_1fyhPbAt_0",cover:"ATSIdCr2_0",icon:"JtBkdAPm_0",btnPlay:"_1w0mM49m_0",btnPause:"_2UiP6wJV_0",rotate:"_2ayLxSPU_0",progress:"wiOGMsgm_0",length:"XMJhrxdZ_0",audioInfo:"_29xRN1a__0",left:"_1jNLtQR1_0",slideBar:"_3KFNSK5r_0",process:"_3f3uWEuQ_0",tooltip:"_2G5BBjOu_0"}},1545:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._3cmxkTas_0{border-radius:6px;background:#fff;-webkit-box-shadow:0 3px 10px 4px rgba(139,162,192,.13);box-shadow:0 3px 10px 4px rgba(139,162,192,.13);font-size:13px;cursor:pointer}._3cmxkTas_0:after{display:block;content:" ";position:absolute;top:-4px;right:16px;width:10px;height:10px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}._3cmxkTas_0 a{display:-webkit-box;display:-ms-flexbox;display:flex;width:138px;height:43px;line-height:43px;padding-left:16px;color:#b2b2b2}._3cmxkTas_0 a,._3cmxkTas_0 a:first-child{-webkit-box-sizing:border-box;box-sizing:border-box}._3cmxkTas_0 a:first-child{position:relative;z-index:10;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:54px;line-height:normal;padding-top:10px;border-bottom:1px solid #e9e9e9}._3cmxkTas_0 a:last-child{border-top:1px solid #e9e9e9}._3cmxkTas_0 a:hover{background-color:#f6f7fb}._3cmxkTas_0 a ._3YELXzQR_0{color:#404040}._3cmxkTas_0 a ._1Ff4WugJ_0{font-size:12px;-webkit-transform:scale(.8);transform:scale(.8);margin-left:-13px}._3cmxkTas_0 a ._3yjc57xz_0{margin-left:4px}',""]),e.locals={wrap:"_3cmxkTas_0",name:"_3YELXzQR_0",cellphone:"_1Ff4WugJ_0",text:"_3yjc57xz_0"}},1546:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".aWoEm1VW_0{margin-top:120px}._3_vpCYgD_0{width:100px;height:34px;font-weight:300;background:#fa8919;color:#fff;text-align:center;line-height:34px;border-radius:3px;font-size:16px;margin-left:40px;cursor:pointer}._1NJ7vnCW_0{background:#b2b2b2;cursor:default}._1tbWAlsU_0{height:74px;border:1px solid #dcdcdc;border-radius:5px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;padding:8px 12px;background-color:#fff}._1tbWAlsU_0 textarea{background:transparent}._1tbWAlsU_0 textarea::-webkit-input-placeholder{color:#b2b2b2}._23Q5Ko9I_0{background:#f9fafc}._2KHEOPSr_0{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:74px;font-size:14px;line-height:20px;color:#353535;outline:none;resize:none;border-color:transparent}._2KHEOPSr_0:placeholder{color:#888}.Yy13DVC5_0{color:#b2b2b2;font-size:14px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:right}._1veVZDxP_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:34px;padding-left:12px;margin-top:11px}._35yjm5PG_0{font-size:14px;color:#b2b2b2;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:40px}._3SZaEKao_0{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:13px}._1162B7i7_0{width:34px;height:34px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}._20XltAts_0{color:#3d464d;font-weight:600;-webkit-font-smoothing:antialiased;font-size:16px;line-height:34px;padding-left:10px}._20XltAts_0 .ieiqepdd_0{cursor:pointer;color:#fa8919}._20XltAts_0 ._2xgUAzrs_0{color:#b2b2b2;font-weight:400}",""]),e.locals={wrap:"aWoEm1VW_0",save:"_3_vpCYgD_0",disabled:"_1NJ7vnCW_0",commentBox:"_1tbWAlsU_0",disabledInput:"_23Q5Ko9I_0",input:"_2KHEOPSr_0",counter:"Yy13DVC5_0",status:"_1veVZDxP_0",tip:"_35yjm5PG_0",user:"_3SZaEKao_0",avatar:"_1162B7i7_0",username:"_20XltAts_0",txt1:"ieiqepdd_0",txt2:"_2xgUAzrs_0"}},1548:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,'._3ADRghFH_0{background:#000}._21xvFvr7_0{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._3O_7qs2p_0{opacity:0}._2q1SuvsS_0{opacity:1}._20-cXID6_0{max-width:46.25rem;min-height:100vh;margin:0 auto;background:#fff;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}._20-cXID6_0 .PYIrCCrf_0{color:#888}._20-cXID6_0 ._1EUVUUrC_0,._20-cXID6_0 .PYIrCCrf_0{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}._20-cXID6_0 ._1EUVUUrC_0{color:#fff;background-color:#fa8919;font-weight:500}._20-cXID6_0 ._2QmGFWqF_0{padding-left:22px;padding-right:15px}._20-cXID6_0 ._3lTiSebX_0{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}._20-cXID6_0 ._3lTiSebX_0 ._7OuU9_xM_0{font-size:12px}._20-cXID6_0 ._50pDbNcP_0{padding-top:22px;padding-bottom:82px}._20-cXID6_0 .vJXgmLTi_0{color:#353535;font-weight:700;line-height:30px;font-size:22px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}._20-cXID6_0 ._2LbT9q3y_0{color:#888;font-size:13px;font-weight:400;margin-top:4px;margin-bottom:12px}._20-cXID6_0 ._2LbT9q3y_0 ._3FoXPaWx_0{margin-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}._20-cXID6_0 ._2LbT9q3y_0 ._3FoXPaWx_0 .YLYfWxsg_0{color:#404040;font-size:15px;font-weight:400;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._20-cXID6_0 ._2LbT9q3y_0 ._3FoXPaWx_0 .nJKayDbe_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:10px;height:23px;border-radius:23px;font-size:13px;font-weight:400;color:#fa8919;padding-left:10px;padding-right:6px;background:#fbf5ee;white-space:nowrap}._20-cXID6_0 ._2LbT9q3y_0 ._3FoXPaWx_0 .nJKayDbe_0 ._2k8p2GLU_0{margin-left:2px;font-size:12px;-webkit-transform:scale(.7);transform:scale(.7)}._20-cXID6_0 ._3Jbcj4Iu_0._3BZBHEhm_0 video-webkit-media-controls-fullscreen-button{display:none}._20-cXID6_0 ._1-ZfmNK8_0{border-radius:6px;vertical-align:top;margin-bottom:24px;width:100%}._20-cXID6_0 ._3IatBmhv_0{margin-top:0}._20-cXID6_0 ._22WJb59B_0{color:#b2b2b2;padding-bottom:20px;font-size:13px;font-weight:400}._20-cXID6_0 ._22WJb59B_0 ._3ODTLCec_0{font-size:15px}._20-cXID6_0 ._3c2GGLul_0{width:100%;margin:20px 0}._20-cXID6_0 ._3EKy7lL9_0{overflow:hidden;padding-top:10px;margin-bottom:-30px}._20-cXID6_0 ._3EKy7lL9_0 a._1EUVUUrC_0{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}._20-cXID6_0 ._1qhD3bdE_0{padding-top:32px;border-top:10px solid #f6f7fb;-webkit-transition:border-top .3s ease;transition:border-top .3s ease;position:relative}._20-cXID6_0 ._1qhD3bdE_0 h2{color:#404040;position:relative;z-index:1;margin-bottom:1rem;font-weight:700;font-size:19px}._20-cXID6_0 ._1qhD3bdE_0 ._2FC_cD1O_0{font-size:16px;margin-left:5px}._20-cXID6_0 ._2-nZIZjB_0{position:absolute;z-index:2;background:#fa8919;font-size:13px;color:#fff;text-align:center;height:28px;width:80px;line-height:28px;-webkit-box-shadow:4px 5px 20px 1px rgba(250,137,25,.24);box-shadow:4px 5px 20px 1px rgba(250,137,25,.24);border-radius:28px;right:22px;top:32px}._20-cXID6_0 .YGjSYR8B_0{z-index:10;cursor:pointer}._20-cXID6_0 ._2DmyW7ex_0{cursor:pointer;padding-top:24px;padding-bottom:24px;position:relative}._20-cXID6_0 ._2DmyW7ex_0:before{content:" ";height:.5px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:22px;right:22px}._20-cXID6_0 ._2DmyW7ex_0 ._1M5b-cvc_0{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._20-cXID6_0 ._2DmyW7ex_0 ._1M5b-cvc_0 ._3l55W_ak_0{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}._20-cXID6_0 ._2DmyW7ex_0 ._1M5b-cvc_0 ._3Ov-zF0e_0{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}.ZphmEful_0{height:60px;background:transparent}._2zq_fmRg_0{font-size:15px;color:#888;line-height:24px;border-left:3px solid #e8e8e8;padding-left:15px}._3uTMOfKI_0,._24nFYvU9_0{-webkit-transition:all .3s ease;transition:all .3s ease}._3WwMT2EY_0 ._1uEolA82_0,._9b3gTd1B_0 ._2NnvkXgw_0{-webkit-transform:translateX(-508px);transform:translateX(-508px)}._3WwMT2EY_0 ._2NnvkXgw_0,._9b3gTd1B_0 ._1uEolA82_0{-webkit-transform:translateX(508px);transform:translateX(508px)}._3BZBHEhm_0 ._2LbT9q3y_0{font-weight:700}._3BZBHEhm_0 ._2DmyW7ex_0:before{height:1px}@media only screen and (max-width:769px){._15u7cU5H_0{display:none!important}}@media only screen and (min-width:740px){._3ADRghFH_0{background:#fff}}.g78dTtKm_0{background:#f6f0e0}.g78dTtKm_0 ._1qhD3bdE_0{border-top:10px solid #efe6cf}.g78dTtKm_0 ._2DmyW7ex_0:before{background:#e5d8b5}.g78dTtKm_0 ._2DmyW7ex_0 ._1M5b-cvc_0 ._3l55W_ak_0{background:#efe6cf}.g78dTtKm_0 ._3lTiSebX_0{background-color:#efe6cf}._3uMzBYfb_0{background:#353535}._3uMzBYfb_0 ._2LbT9q3y_0,._3uMzBYfb_0 .vJXgmLTi_0{color:silver}._3uMzBYfb_0 ._1qhD3bdE_0{border-top:10px solid #3e3e3e}._3uMzBYfb_0 ._2DmyW7ex_0:before{background:#4c4c4c}._3uMzBYfb_0 ._2DmyW7ex_0 ._1M5b-cvc_0 ._3l55W_ak_0{background:#3e3e3e;color:silver}._3uMzBYfb_0 ._1qhD3bdE_0 h2,._3uMzBYfb_0 ._2DmyW7ex_0 ._1M5b-cvc_0 ._3Ov-zF0e_0{color:silver}._3uMzBYfb_0 ._3lTiSebX_0{background-color:#3e3e3e}._25ls2Q2l_0{margin-bottom:24px}._4ikL8tnR_0{padding-top:40px!important}.gpDqvVI7_0{position:fixed;top:0;bottom:0;width:100%;z-index:-1}._8kOu8YaF_0{background:#fbf5ee;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}._8kOu8YaF_0 ._3x5zU2uX_0{width:50px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:12px;margin-left:20px;font-size:30px;color:#fa8919}._8kOu8YaF_0 ._2UvA-dfj_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:10px;color:#543100;font-size:12px}._8kOu8YaF_0 ._2UvA-dfj_0 b{font-weight:400;color:#fa8919;margin-left:3px;margin-right:3px}._8kOu8YaF_0 ._1M5b-cvc_0{width:38%;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;height:100%;font-size:15px;font-weight:500;background:#fa8919;color:#fff}._8kOu8YaF_0 ._1M5b-cvc_0,.HBiqX0vM_0{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.HBiqX0vM_0{position:absolute;z-index:1;left:0;right:0;bottom:0;top:0}.HBiqX0vM_0 ._3Ph62eXZ_0{height:30px;width:200px;font-weight:400;padding-top:106px;-webkit-transform:translateY(-50px);transform:translateY(-50px);background:#fff url('+n(i(2026))+") no-repeat top;background-size:170px;font-size:15px;color:#b2b2b2;text-align:center}",""]),e.locals={wrap:"_3ADRghFH_0",disabledUserSelect:"_21xvFvr7_0",hidden:"_3O_7qs2p_0",init:"_2q1SuvsS_0",white:"_20-cXID6_0",buttonCancel:"PYIrCCrf_0",buttonPrimary:"_1EUVUUrC_0",pd:"_2QmGFWqF_0",articleUnavailable:"_3lTiSebX_0",iconfont:"_7OuU9_xM_0",main:"_50pDbNcP_0",articleTitle:"vJXgmLTi_0",articleInfo:"_2LbT9q3y_0",articleInfoAuthor:"_3FoXPaWx_0",authorName:"YLYfWxsg_0",articleColumn:"nJKayDbe_0",arrowIcon:"_2k8p2GLU_0",articleContent:"_3Jbcj4Iu_0",android:"_3BZBHEhm_0",headImg:"_1-ZfmNK8_0",richContent:"_3IatBmhv_0",copyright:"_22WJb59B_0",bigSize:"_3ODTLCec_0",audioPlayer:"_3c2GGLul_0",toComment:"_3EKy7lL9_0",articleComments:"_1qhD3bdE_0",num:"_2FC_cD1O_0",writeComment:"_2-nZIZjB_0",articleSubBottom:"YGjSYR8B_0",switchBtns:"_2DmyW7ex_0",btn:"_1M5b-cvc_0",tag:"_3l55W_ak_0",txt:"_3Ov-zF0e_0",topPadding:"ZphmEful_0",emptyCommentTip:"_2zq_fmRg_0",enterActive:"_3uTMOfKI_0",leaveActive:"_24nFYvU9_0",prev:"_3WwMT2EY_0",enter:"_1uEolA82_0",next:"_9b3gTd1B_0",leaveTo:"_2NnvkXgw_0",breadcrumb:"_15u7cU5H_0",yellow:"g78dTtKm_0",black:"_3uMzBYfb_0",audio:"_25ls2Q2l_0",alienScreen:"_4ikL8tnR_0",background:"gpDqvVI7_0",freeReadTipBtn:"_8kOu8YaF_0",count:"_3x5zU2uX_0",tip:"_2UvA-dfj_0",freelyReadExhaust:"HBiqX0vM_0",con:"_3Ph62eXZ_0"}},1551:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._2SACi4xg_0{line-height:0}._2SACi4xg_0 img{vertical-align:top;margin-left:20px;opacity:.5}",""]),e.locals={main:"_2SACi4xg_0"}},1553:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._2yuwIf8S_0{border-radius:4px;-webkit-box-shadow:0 0 8px 1px rgba(140,163,191,.18);box-shadow:0 0 8px 1px rgba(140,163,191,.18);padding-bottom:38px}._11bXF5Yc_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:96px}.Qpg85O4l_0{font-size:14px;font-weight:500;color:#353535;padding:10px 0 10px 20px;border-bottom:1px solid #e9e9e9}._2iyZS_ij_0{padding:0 24px}._1Z-FB1eS_0{width:100%;margin-top:20px;border-bottom:1px solid #e9e9e9}._1Z-FB1eS_0 ._3mZypSMX_0{display:-webkit-box;display:-ms-flexbox;display:flex}._1Z-FB1eS_0 ._1l4eGqqY_0{margin-left:40px}._1Z-FB1eS_0 .Dk_TY5aR_0{display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:20px;border-top:1px solid #e9e9e9;-webkit-transition:border-top .3s ease;transition:border-top .3s ease}._1Z-FB1eS_0 ._3ACOG9On_0{width:34px;height:34px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}._1Z-FB1eS_0 ._1hY1FPHv_0{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:14px}._1Z-FB1eS_0 ._1hY1FPHv_0 ._2qXmRShf_0{margin-top:10px;color:#505050;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;white-space:normal;word-break:break-all;line-height:24px}._1Z-FB1eS_0 ._1hY1FPHv_0 ._2qXmRShf_0._3Zc_rq7l_0{color:#888}._1Z-FB1eS_0 ._1hY1FPHv_0 ._1UqyJsrZ_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:16px;color:#3d464d;font-weight:500;-webkit-font-smoothing:antialiased;line-height:34px}._1Z-FB1eS_0 ._1hY1FPHv_0 ._3P0Q0v5q_0{margin-left:4px;margin-right:4px;font-size:12px;color:#919292;-webkit-transform:scale(.7);transform:scale(.7)}._1Z-FB1eS_0 ._2ziRWEM__0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:15px}._1Z-FB1eS_0 ._2ziRWEM__0 ._2JZ0H2MR_0{color:#b2b2b2;font-size:14px}._1Z-FB1eS_0 ._2ziRWEM__0 ._1ob-ph2d_0,._1Z-FB1eS_0 ._3YHcMaMD_0,._1Z-FB1eS_0 .g_TM64aa_0,._1Z-FB1eS_0 .w5igvdWQ_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._1Z-FB1eS_0 ._3YHcMaMD_0,._1Z-FB1eS_0 .g_TM64aa_0,._1Z-FB1eS_0 .w5igvdWQ_0{margin-left:30px;text-decoration:none;cursor:pointer}._1Z-FB1eS_0 ._3YHcMaMD_0 i,._1Z-FB1eS_0 .g_TM64aa_0 i,._1Z-FB1eS_0 .w5igvdWQ_0 i{color:#888;display:inline-block;font-size:15px;margin-right:4px;height:27px;width:15px}._1Z-FB1eS_0 ._3YHcMaMD_0 span,._1Z-FB1eS_0 .g_TM64aa_0 span,._1Z-FB1eS_0 .w5igvdWQ_0 span{color:#888;font-size:12px;font-weight:400}._1Z-FB1eS_0 ._3YHcMaMD_0._2YwKn89c_0 i,._1Z-FB1eS_0 ._3YHcMaMD_0._2YwKn89c_0 span{color:#fa8919}._1Z-FB1eS_0 .g_TM64aa_0{-webkit-transition:opacity .2s;transition:opacity .2s;opacity:0}._1Z-FB1eS_0 .g_TM64aa_0._2YwKn89c_0{opacity:1}._1Z-FB1eS_0 .AVOphXMn_0{font-size:13px;color:#b2b2b2;height:16px;padding-top:8px}._1Z-FB1eS_0 .AVOphXMn_0 span{font-weight:500}._1Z-FB1eS_0 .AVOphXMn_0 i,._1Z-FB1eS_0 .AVOphXMn_0 span{height:16px;line-height:16px;display:inline-block;vertical-align:top}._1y0O-p3Z_0{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;margin-top:10px;padding-right:100px}._1y0O-p3Z_0._2r4Ta25I_0{margin:0 0 20px 40px}._1y0O-p3Z_0._1nCk_q2m_0{margin:20px 20px 0}._1y0O-p3Z_0 ._3sNk9S2s_0{-webkit-box-flex:1;-ms-flex:auto;flex:auto;display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px 12px;border-radius:5px;border:1px solid #dcdcdc}._1y0O-p3Z_0 ._3sNk9S2s_0,._1y0O-p3Z_0 .vJpAu_hx_0{font-size:13px;-webkit-box-sizing:border-box;box-sizing:border-box}._1y0O-p3Z_0 .vJpAu_hx_0{width:100%;height:20px;line-height:20px;font-weight:400;color:#4c4c4c;text-align:justify;outline:none;resize:none;border-color:transparent;background:transparent;overflow:hidden}._1y0O-p3Z_0 .vJpAu_hx_0::-webkit-input-placeholder{color:#b2b2b2;line-height:18px}._1y0O-p3Z_0 .vJpAu_hx_0::-ms-input-placeholder{color:#b2b2b2;line-height:18px}._1y0O-p3Z_0 .vJpAu_hx_0::placeholder{color:#b2b2b2;line-height:18px}._1y0O-p3Z_0 ._2eA30Zhz_0{color:#b2b2b2;background:#f9fafc}._1y0O-p3Z_0 ._2eA30Zhz_0 ._30Lk9c6y_0{margin-right:5px;color:#fa8919;cursor:pointer}._1y0O-p3Z_0 ._1CSWU_Nk_0{position:absolute;bottom:1px;right:0;width:80px;height:32px;line-height:32px;text-align:center;font-size:13px;font-weight:400;color:#fff;background:#fa8919;border-radius:3px;outline:none;border:none;cursor:pointer}._1y0O-p3Z_0 ._1CSWU_Nk_0._3NKN0fml_0{color:#b2b2b2;background:#e9e9e9;cursor:default}._1y0O-p3Z_0 ._2_hFcH-E_0._3NKN0fml_0{color:#fff;background:#fa8919;opacity:.6}._1qiEaLIw_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;font-weight:400;color:#888;margin-top:8px;margin-left:40px;padding-top:8px;padding-bottom:8px;border-top:1px solid #e9e9e9;cursor:pointer}.jBhDrWTu_0{margin-top:20px}",""]),e.locals={commentWrap:"_2yuwIf8S_0",loadingWrap:"_11bXF5Yc_0",commentTitle:"Qpg85O4l_0",commentList:"_2iyZS_ij_0",rootItem:"_1Z-FB1eS_0",commentRoot:"_3mZypSMX_0",commentChildWrap:"_1l4eGqqY_0",commentChildItem:"Dk_TY5aR_0",avatar:"_3ACOG9On_0",info:"_1hY1FPHv_0",bd:"_2qXmRShf_0",deleted:"_3Zc_rq7l_0",username:"_1UqyJsrZ_0",toIcon:"_3P0Q0v5q_0",control:"_2ziRWEM__0",time:"_2JZ0H2MR_0",actions:"_1ob-ph2d_0",btnComment:"w5igvdWQ_0",btnPraise:"_3YHcMaMD_0",btnComplain:"g_TM64aa_0",on:"_2YwKn89c_0",more:"AVOphXMn_0",reply:"_1y0O-p3Z_0",replyRoot:"_2r4Ta25I_0",replyFooter:"_1nCk_q2m_0",inputWrap:"_3sNk9S2s_0",input:"vJpAu_hx_0",disabledFooterInput:"_2eA30Zhz_0",login:"_30Lk9c6y_0",btnSubmit:"_1CSWU_Nk_0",disabled:"_3NKN0fml_0",btnFooter:"_2_hFcH-E_0",btnMore:"_1qiEaLIw_0",paginationWrap:"jBhDrWTu_0"}},1561:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".WS8Ti3eu_0{position:fixed;z-index:100}._13C9VfH_0,.WS8Ti3eu_0{top:0;left:0;width:100%;height:100%}._13C9VfH_0{position:absolute;z-index:1;background-color:hsla(0,0%,100%,.01)}._1oxkb6lR_0{background:#fff;-webkit-transition:background-color .3s ease;transition:background-color .3s ease;height:208px;position:fixed;left:0;bottom:0;width:100%;z-index:100;border-top-left-radius:10px;border-top-right-radius:10px;-webkit-box-sizing:border-box;box-sizing:border-box;transform:translateZ(0);-webkit-transform:translateZ(0);padding-top:30px;-webkit-box-shadow:0 -3px 15px 0 hsla(0,0%,53%,.23);box-shadow:0 -3px 15px 0 hsla(0,0%,53%,.23)}._1-C75Syl_0{display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;padding-left:22px;padding-right:22px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:30px}._25itMQ7G_0{-webkit-box-flex:0;-ms-flex:0 0 56px;flex:0 0 56px;color:#ccc;font-size:14px;color:#888}.RO6CxH32_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}._2zlfly-X_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:30px}._2zlfly-X_0 ._2vfFN8k3_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:30px;height:26px;text-align:center;background:#fff;border:2px solid #dedede;border-radius:5px;line-height:26px;font-size:13px;color:silver}._2zlfly-X_0 ._2vfFN8k3_0:last-child{margin-right:0}._2zlfly-X_0 ._8rste0df_0{border:2px solid #888;color:#888}._2psLhAK3_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:30px}._2psLhAK3_0 ._2vfFN8k3_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:20px;height:26px;border-radius:5px;margin-right:30px}._2psLhAK3_0 ._2vfFN8k3_0:last-child{margin-right:0}._2psLhAK3_0 ._3s1yi5yv_0{background:#fff;border:2px solid #dedede}._2psLhAK3_0 ._3wtjEYIR_0{background:#f5e2bc;border:2px solid #f5e2bc}._2psLhAK3_0 ._3_LatKBI_0{background:#4d4d4d;border:2px solid #4d4d4d;color:#5e697a;text-align:center;line-height:26px}._2psLhAK3_0 ._8rste0df_0{border:2px solid #888}._1OYKok9y_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._1OYKok9y_0 ._4t8a6YL7_0{color:#999;line-height:20px;height:20px;width:20px}._1OYKok9y_0 ._23ss_AWP_0{font-size:15px;text-align:left;margin-right:10px}._1OYKok9y_0 .QDAkfXFE_0{font-size:20px;text-align:right;margin-left:16px}._1OYKok9y_0 ._2846Rhrf_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}._22u096fL_0{background:#f6f0e0}._22u096fL_0 ._25itMQ7G_0{color:#9a8d58}._22u096fL_0 ._2zlfly-X_0 ._2vfFN8k3_0{background:#f6f0e0;color:#dec99e;border:2px solid #dec99e}._22u096fL_0 ._2zlfly-X_0 ._8rste0df_0{color:#ad904e;border:2px solid #ad904e}._22u096fL_0 ._2psLhAK3_0 ._3s1yi5yv_0{border:2px solid #fff}._22u096fL_0 ._2psLhAK3_0 ._8rste0df_0{border:2px solid #ad904e}._22u096fL_0 ._1OYKok9y_0 ._4t8a6YL7_0{color:#9a8d58}._34xZeFC5_0{background:#4d4d4d;-webkit-box-shadow:0 -3px 15px 0 rgba(0,0,0,.15);box-shadow:0 -3px 15px 0 rgba(0,0,0,.15)}._34xZeFC5_0 ._25itMQ7G_0{color:#888}._34xZeFC5_0 ._2zlfly-X_0 ._2vfFN8k3_0{background:#4d4d4d;color:silver;border:2px solid #888}._34xZeFC5_0 ._2zlfly-X_0 ._8rste0df_0{color:#dedede;border:2px solid #dedede}._34xZeFC5_0 ._2psLhAK3_0 ._3s1yi5yv_0{background:#f0f0f0;border:2px solid #f0f0f0}._34xZeFC5_0 ._2psLhAK3_0 ._8rste0df_0{border:2px solid #dedede}._34xZeFC5_0 ._1OYKok9y_0 ._4t8a6YL7_0{color:#979797}._3baRuYsi_0,.ph74nWtc_0{-webkit-transition:all .3s ease;transition:all .3s ease}._1JAFFwhi_0,._1PE9Zrp8_0{-webkit-transform:translateY(208px);transform:translateY(208px);opacity:0}._3Mqbo0ZK_0 ._2zlfly-X_0 ._2vfFN8k3_0{line-height:30px}",""]),e.locals={maskLayerWrap:"WS8Ti3eu_0",maskLayer:"_13C9VfH_0",white:"_1oxkb6lR_0",row:"_1-C75Syl_0",label:"_25itMQ7G_0",con:"RO6CxH32_0",size:"_2zlfly-X_0",item:"_2vfFN8k3_0",on:"_8rste0df_0",color:"_2psLhAK3_0",whiteColor:"_3s1yi5yv_0",yellowColor:"_3wtjEYIR_0",blackColor:"_3_LatKBI_0",light:"_1OYKok9y_0",lightIcon:"_4t8a6YL7_0",lessLight:"_23ss_AWP_0",moreLight:"QDAkfXFE_0",slideBar:"_2846Rhrf_0",yellow:"_22u096fL_0",black:"_34xZeFC5_0",enterActive:"ph74nWtc_0",leaveActive:"_3baRuYsi_0",enter:"_1PE9Zrp8_0",leaveTo:"_1JAFFwhi_0",android:"_3Mqbo0ZK_0"}},1574:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._3HCtER94_0{height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:18px;padding-right:22px;font-size:15px;color:#888;padding-top:20px}.XPK3khh7_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:17px;font-weight:400}.u9KJ6z9x_0{width:16px;font-size:12px;text-align:left;margin-right:4px}.S8msnNlD_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-weight:400}._3FTQNYev_0{width:20px;text-align:center;display:inline-block;vertical-align:top}",""]),e.locals={main:"_3HCtER94_0",left:"XPK3khh7_0",icon:"u9KJ6z9x_0",right:"S8msnNlD_0",split:"_3FTQNYev_0"}},1575:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._1kh1ihh6_0{font-weight:400;color:#4c4c4c;line-height:1.76;white-space:normal;word-break:normal;font-size:16px;-webkit-font-smoothing:antialiased;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}._1kh1ihh6_0 .MathJax_Display{overflow:auto}._1kh1ihh6_0 .poster{position:fixed;left:-10000px;top:-10000px;overflow:hidden;padding:1rem;background:#ececec}._1kh1ihh6_0 .richcontent-pre-copy{font-size:13px;color:#888;position:absolute;right:1em;top:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._1kh1ihh6_0 .richcontent-pre-copy .iconfont{font-size:12px;margin-right:.2em}._1kh1ihh6_0 a{color:#fa8919;border-bottom:1px solid #fa8919}._1kh1ihh6_0 img{display:block;max-width:80%;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#eee;vertical-align:top;border-radius:6px}._1kh1ihh6_0 audio,._1kh1ihh6_0 video{width:100%;background-color:#eee}._1kh1ihh6_0 pre{margin-top:16px;padding:35px 0 30px;margin-bottom:30px;border-radius:6px;background:rgba(246,247,251,.749);border:0}._1kh1ihh6_0 code{word-break:break-all}._1kh1ihh6_0 pre code{font-size:12px;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;word-break:normal;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:16px;margin-right:16px;overflow:hidden;position:relative}._1kh1ihh6_0 hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}._1kh1ihh6_0 h1,._1kh1ihh6_0 h2,._1kh1ihh6_0 h3,._1kh1ihh6_0 h4,._1kh1ihh6_0 h5{margin-bottom:20px;margin-top:0;font-weight:700}._1kh1ihh6_0 b,._1kh1ihh6_0 strong{font-weight:700}._1kh1ihh6_0 h1{font-size:20px}._1kh1ihh6_0 h2{font-size:19px}._1kh1ihh6_0 h3{font-size:18px}._1kh1ihh6_0 h4{font-size:17px}._1kh1ihh6_0 h5{font-size:16px}._1kh1ihh6_0 center,._1kh1ihh6_0 p{font-weight:400;color:#4c4c4c;margin-top:0;margin-bottom:30px;word-break:break-word}._1kh1ihh6_0 center{text-align:center}._1kh1ihh6_0 blockquote{margin-top:0;margin-bottom:34px;border-left:3px solid #e8e8e8;padding-left:17px;color:#4c4c4c}._1kh1ihh6_0 blockquote p{margin-top:0;margin-bottom:0}._1kh1ihh6_0 ol,._1kh1ihh6_0 ul{margin-bottom:30px}._1kh1ihh6_0 ol p,._1kh1ihh6_0 ul p{margin-top:0;margin-bottom:0}._1kh1ihh6_0 ol{list-style:decimal;margin-left:20px}._1kh1ihh6_0 ul li{padding-left:17px;position:relative;margin-bottom:10px}._1kh1ihh6_0 ul li:after{content:"";height:6px;width:6px;border-radius:50%;background:#4c4c4c;position:absolute;top:10px;left:0}._1kh1ihh6_0 .orange{color:#fa8919}._1kh1ihh6_0 .reference{color:#888}._1kh1ihh6_0 .m-right{text-align:right}._1kh1ihh6_0 .m-center{text-align:center;display:block}._1kh1ihh6_0 .m-gray{color:#888}._1kh1ihh6_0 .m-small{font-size:14px}._1kh1ihh6_0 table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}._1kh1ihh6_0 table.hljs-ln,._1kh1ihh6_0 table.hljs-ln tbody,._1kh1ihh6_0 table.hljs-ln td,._1kh1ihh6_0 table.hljs-ln tr{-webkit-box-sizing:border-box;box-sizing:border-box}._1kh1ihh6_0 table.hljs-ln td{padding:0;border:0}._1kh1ihh6_0 table.hljs-ln td.hljs-ln-numbers{min-width:15px;font-size:12px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._1kh1ihh6_0 table.hljs-ln td.hljs-ln-code,._1kh1ihh6_0 table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:20px;vertical-align:top}._1kh1ihh6_0 table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;font-size:13px;color:#666;word-wrap:normal;white-space:pre}',""]),e.locals={main:"_1kh1ihh6_0"}},1585:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._2J1ojH9R_0{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._2J1ojH9R_0 ._1LoKHo2u_0{position:relative;border-radius:2px;background-color:#d7d7d7;cursor:pointer;height:2px}._2J1ojH9R_0 ._1LoKHo2u_0:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;z-index:2}._2J1ojH9R_0 .r_AW3EOK_0{border-radius:15px;background-color:#afafaf;z-index:1;width:0;height:100%;will-change:width}._2J1ojH9R_0 ._3LOH08eY_0,._2J1ojH9R_0 .r_AW3EOK_0{position:absolute;-webkit-transition:all 0s;transition:all 0s;top:0;left:0}._2J1ojH9R_0 ._3LOH08eY_0{will-change:transform;cursor:pointer;z-index:3}._2J1ojH9R_0 ._3qLrrfHl_0{position:absolute;top:18px;width:36px;height:36px;background:hsla(0,0%,100%,.01);-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}._2J1ojH9R_0 ._3qLrrfHl_0:before{position:absolute;left:9px;top:9px;content:"";width:18px;height:18px;background:#fff;-webkit-box-shadow:0 3px 7px 2px rgba(209,212,223,.54);box-shadow:0 3px 7px 2px rgba(209,212,223,.54);border-radius:50%}._1Qag2K3w_0 ._1LoKHo2u_0{background:#dec99e}._1Qag2K3w_0 .r_AW3EOK_0{background:#ad904e}._1Qag2K3w_0 ._3qLrrfHl_0:before{-webkit-box-shadow:0 3px 7px 2px rgba(209,212,223,.24);box-shadow:0 3px 7px 2px rgba(209,212,223,.24)}._3LR-5bmd_0 ._3qLrrfHl_0:before{-webkit-box-shadow:0 3px 7px 2px rgba(209,212,223,.1);box-shadow:0 3px 7px 2px rgba(209,212,223,.1)}',""]),e.locals={white:"_2J1ojH9R_0",main:"_1LoKHo2u_0",process:"r_AW3EOK_0",tooltipContainer:"_3LOH08eY_0",tooltipTop:"_3qLrrfHl_0",yellow:"_1Qag2K3w_0",black:"_3LR-5bmd_0"}},1589:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,"._2sjJGcOH_0{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-top:26px;border-bottom:1px solid #e9e9e9}._2sjJGcOH_0:hover .pcY1JGz5_0{opacity:1}._2sjJGcOH_0 a,._2sjJGcOH_0._3q0V3Eyl_0{border-bottom:none}._2sjJGcOH_0 ._3FLYR4bF_0{width:34px;height:34px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}._2sjJGcOH_0 ._36ChpWj4_0{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:20px}._2sjJGcOH_0 ._36ChpWj4_0 ._2_QraFYR_0{margin-top:12px;color:#505050;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;white-space:normal;word-break:break-all;line-height:24px}._2sjJGcOH_0 ._36ChpWj4_0 ._2zFoi7sd_0{font-size:16px;color:#3d464d;font-weight:500;-webkit-font-smoothing:antialiased;line-height:34px}._2sjJGcOH_0 ._3klNVc4Z_0{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:15px}._2sjJGcOH_0 ._3klNVc4Z_0,._2sjJGcOH_0 ._3klNVc4Z_0 ._3_7joXrw_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._2sjJGcOH_0 .pcY1JGz5_0{font-size:12px;color:#888;margin-right:44px;opacity:0;cursor:pointer;-webkit-transition:opacity .2s;transition:opacity .2s}._2sjJGcOH_0 ._3r0uuaYZ_0,._2sjJGcOH_0 ._24fTab90_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:$font-size-headline;text-decoration:none;cursor:pointer}._2sjJGcOH_0 ._3r0uuaYZ_0 i,._2sjJGcOH_0 ._24fTab90_0 i{color:#888;display:inline-block;font-size:15px;margin-right:4px;height:27px;width:15px}._2sjJGcOH_0 ._3r0uuaYZ_0 i._22PbUa81_0,._2sjJGcOH_0 ._24fTab90_0 i._22PbUa81_0{background:url("+n(i(764))+") no-repeat 50%;background-size:15px}._2sjJGcOH_0 ._3r0uuaYZ_0 span,._2sjJGcOH_0 ._24fTab90_0 span{color:#888;font-size:12px;font-weight:400}._2sjJGcOH_0 ._3r0uuaYZ_0 span._22PbUa81_0,._2sjJGcOH_0 ._24fTab90_0 span._22PbUa81_0{color:#fa8919}._2sjJGcOH_0 ._3r0uuaYZ_0{margin-right:44px}._2sjJGcOH_0 ._2zG2XGh8_0{font-size:13px;color:#b2b2b2;height:16px;padding-top:8px}._2sjJGcOH_0 ._2zG2XGh8_0 span{font-weight:500}._2sjJGcOH_0 ._2zG2XGh8_0 i,._2sjJGcOH_0 ._2zG2XGh8_0 span{height:16px;line-height:16px;display:inline-block;vertical-align:top}._2sjJGcOH_0 ._10o3OAxT_0{margin-top:18px;border-radius:4px;background-color:#f6f7fb}._2sjJGcOH_0 ._10o3OAxT_0 ._3KxQPN3V_0{color:#505050;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;white-space:normal;word-break:normal;padding:20px 20px 20px 24px}._2sjJGcOH_0 ._3Hkula0k_0{color:#b2b2b2;font-size:14px}._3ZqVltck_0{height:15px;line-height:15px;width:34px;overflow:hidden;font-size:10px;color:#fff;background:#cbcbcb;text-align:center;display:inline-block;border-radius:2px;vertical-align:top;margin-top:10px;font-weight:300}",""]),e.locals={main:"_2sjJGcOH_0",btnMore:"pcY1JGz5_0",expand:"_3q0V3Eyl_0",avatar:"_3FLYR4bF_0",info:"_36ChpWj4_0",bd:"_2_QraFYR_0",username:"_2zFoi7sd_0",control:"_3klNVc4Z_0",actions:"_3_7joXrw_0",btnComment:"_3r0uuaYZ_0",btnPraise:"_24fTab90_0",on:"_22PbUa81_0",more:"_2zG2XGh8_0",reply:"_10o3OAxT_0",content:"_3KxQPN3V_0",time:"_3Hkula0k_0",topTag:"_3ZqVltck_0"}},1703:function(t,e,i){var n=i(1524);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("8cc471e6",n,!0,{})},1705:function(t,e,i){var n=i(1526);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("799e8626",n,!0,{})},1720:function(t,e,i){var n=i(1541);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("168431be",n,!0,{})},1723:function(t,e,i){var n=i(1544);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("04306e05",n,!0,{})},1724:function(t,e,i){var n=i(1545);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("efe5b62c",n,!0,{})},1725:function(t,e,i){var n=i(1546);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("38bac924",n,!0,{})},1727:function(t,e,i){var n=i(1548);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("d02e23d6",n,!0,{})},1730:function(t,e,i){var n=i(1551);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("2bde8706",n,!0,{})},1732:function(t,e,i){var n=i(1553);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("d19b41d2",n,!0,{})},1740:function(t,e,i){var n=i(1561);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("42819b07",n,!0,{})},1753:function(t,e,i){var n=i(1574);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("6373d68a",n,!0,{})},1754:function(t,e,i){var n=i(1575);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("1298ab53",n,!0,{})},1764:function(t,e,i){var n=i(1585);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("097143ec",n,!0,{})},1768:function(t,e,i){var n=i(1589);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("9fad4ffc",n,!0,{})},1881:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){t=""+t;var n=new e(t,i);if(!n.valid())throw new x.InvalidInputException(n.constructor.name,t);var r=n.encode();r=(0,h.default)(r);for(var o=0;o<r.length;o++)r[o].options=(0,u.default)(i,r[o].options);return r}function o(){return l.default.CODE128?"CODE128":Object.keys(l.default)[0]}function a(t,e,i){e=(0,h.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,u.default)(i,e[n].options),(0,p.default)(e[n].options);(0,p.default)(i),new(0,t.renderer)(t.element,e,i).render(),t.afterRender&&t.afterRender()}var s=i(1905),l=n(s),c=i(1036),u=n(c),d=i(1911),h=n(d),f=i(1908),p=n(f),g=i(1910),m=n(g),_=i(1260),v=n(_),y=i(1907),b=n(y),x=i(1259),w=i(1261),k=n(w),E=function(){},T=function(t,e,i){var n=new E;if(void 0===t)throw Error("No element to render on was provided.");return n._renderProperties=(0,m.default)(t),n._encodings=[],n._options=k.default,n._errorHandler=new b.default(n),void 0!==e&&(i=i||{},i.format||(i.format=o()),n.options(i)[i.format](e,i).render()),n};T.getModule=function(t){return l.default[t]};for(var S in l.default)l.default.hasOwnProperty(S)&&function(t,e){E.prototype[e]=E.prototype[e.toUpperCase()]=E.prototype[e.toLowerCase()]=function(i,n){var o=this;return o._errorHandler.wrapBarcodeCall(function(){n.text=void 0===n.text?void 0:""+n.text;var a=(0,u.default)(o._options,n);a=(0,v.default)(a);var s=t[e],l=r(i,s,a);return o._encodings.push(l),o})}}(l.default,S);E.prototype.options=function(t){return this._options=(0,u.default)(this._options,t),this},E.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this},E.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var i=(0,u.default)(this._options,t.options);"auto"==i.format&&(i.format=o()),this._errorHandler.wrapBarcodeCall(function(){var e=i.value,n=l.default[i.format.toUpperCase()],o=r(e,n,i);a(t,o,i)})}}},E.prototype.render=function(){if(!this._renderProperties)throw new x.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)a(this._renderProperties[t],this._encodings,this._options);else a(this._renderProperties,this._encodings,this._options);return this},E.prototype._defaults=k.default,"undefined"!=typeof window&&(window.JsBarcode=T),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each(function(){i.push(this)}),T(i,t,e)}),t.exports=T},1882:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1034),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=i(1012),u=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c.A_START_CHAR+t,i))}return o(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+c.A_CHARS+"+$").test(this.data)}}]),e}(l.default);e.default=u},1883:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1034),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=i(1012),u=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c.B_START_CHAR+t,i))}return o(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+c.B_CHARS+"+$").test(this.data)}}]),e}(l.default);e.default=u},1884:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1034),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=i(1012),u=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c.C_START_CHAR+t,i))}return o(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+c.C_CHARS+"+$").test(this.data)}}]),e}(l.default);e.default=u},1885:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1034),l=n(s),c=i(1886),u=n(c),d=function(t){function e(t,i){if(r(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,u.default)(t),i));else var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o(n)}return a(e,t),e}(l.default);e.default=d},1886:function(t,e,i){"use strict";function n(t,e){var i=e?o.A_CHARS:o.B_CHARS,a=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+String.fromCharCode(204)+r(t.substring(a[1].length));var s=t.match(new RegExp("^"+i+"+"))[0];return s.length===t.length?t:s+String.fromCharCode(e?205:206)+n(t.substring(s.length),!e)}function r(t){var e=l(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var r=a(t)>=s(t);return e+String.fromCharCode(r?206:205)+n(t,r)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1012),a=function(t){return t.match(new RegExp("^"+o.A_CHARS+"*"))[0].length},s=function(t){return t.match(new RegExp("^"+o.B_CHARS+"*"))[0].length},l=function(t){return t.match(new RegExp("^"+o.C_CHARS+"*"))[0]};e.default=function(t){var e=void 0;if(l(t).length>=2)e=o.C_START_CHAR+r(t);else{var i=a(t)>s(t);e=(i?o.A_START_CHAR:o.B_START_CHAR)+n(t,i)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(t,e){return String.fromCharCode(203)+e})}},1887:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CODE128C=e.CODE128B=e.CODE128A=e.CODE128=void 0;var r=i(1885),o=n(r),a=i(1882),s=n(a),l=i(1883),c=n(l),u=i(1884),d=n(u);e.CODE128=o.default,e.CODE128A=s.default,e.CODE128B=c.default,e.CODE128C=d.default},1888:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return s(c(t))}function s(t){return m[t].toString(2)}function l(t){return g[t]}function c(t){return g.indexOf(t)}function u(t){for(var e=0,i=0;i<t.length;i++)e+=c(t[i]);return e%=43}Object.defineProperty(e,"__esModule",{value:!0}),e.CODE39=void 0;var d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(865),f=function(t){return t&&t.__esModule?t:{default:t}}(h),p=function(t){function e(t,i){return n(this,e),t=t.toUpperCase(),i.mod43&&(t+=l(u(t))),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),d(e,[{key:"encode",value:function(){for(var t=a("*"),e=0;e<this.data.length;e++)t+=a(this.data[e])+"0";return t+=a("*"),{data:t,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(f.default),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];e.CODE39=p},1889:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},l=i(1013),c=i(1256),u=function(t){return t&&t.__esModule?t:{default:t}}(c),d=function(t){return(10-t.substr(0,12).split("").map(function(t){return+t}).reduce(function(t,e,i){return i%2?t+3*e:t+e},0)%10)%10},h=function(t){function e(t,i){n(this,e),-1!==t.search(/^[0-9]{12}$/)&&(t+=d(t));var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.lastChar=i.lastChar,o}return o(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===d(this.data)}},{key:"leftText",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),i=l.EAN13_STRUCTURE[this.data[0]];return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,i)}},{key:"rightText",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),e}(u.default);e.default=h},1890:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1013),c=i(1014),u=n(c),d=i(865),h=n(d),f=function(t){function e(t,i){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return a(e,t),s(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var t=l.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,u.default)(this.data,t,"01"),text:this.text}}}]),e}(h.default);e.default=f},1891:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1013),c=i(1014),u=n(c),d=i(865),h=n(d),f=function(t){return t.split("").map(function(t){return+t}).reduce(function(t,e,i){return i%2?t+9*e:t+3*e},0)%10},p=function(t){function e(t,i){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return a(e,t),s(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var t=l.EAN5_STRUCTURE[f(this.data)];return{data:"1011"+(0,u.default)(this.data,t,"01"),text:this.text}}}]),e}(h.default);e.default=p},1892:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},l=i(1256),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=function(t){return(10-t.substr(0,7).split("").map(function(t){return+t}).reduce(function(t,e,i){return i%2?t+e:t+3*e},0)%10)%10},d=function(t){function e(t,i){return n(this,e),-1!==t.search(/^[0-9]{7}$/)&&(t+=u(t)),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),e}(c.default);e.default=d},1893:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){for(var i=parseInt(t[t.length-1]),n=p[i],r="",o=0,a=0;a<n.length;a++){var s=n[a];r+="X"===s?t[o++]:s}return""+(r=""+e+r)+(0,f.checksum)(r)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(1014),u=n(c),d=i(865),h=n(d),f=i(1257),p=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],g=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(n.isValid=!1,-1!==t.search(/^[0-9]{6}$/))n.middleDigits=t,n.upcA=s(t,"0"),n.text=i.text||""+n.upcA[0]+t+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===t.search(/^[01][0-9]{7}$/))return o(n);if(n.middleDigits=t.substring(1,t.length-1),n.upcA=s(n.middleDigits,t[0]),n.upcA[n.upcA.length-1]!==t[t.length-1])return o(n);n.isValid=!0}return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return a(e,t),l(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=this.encodeMiddleDigits(),t+="010101",{data:t,text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=this.upcA[this.upcA.length-1],i=g[parseInt(e)][parseInt(t)];return(0,u.default)(this.middleDigits,i)}}]),e}(h.default);e.default=m},1894:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.UPCE=e.UPC=e.EAN2=e.EAN5=e.EAN8=e.EAN13=void 0;var r=i(1889),o=n(r),a=i(1892),s=n(a),l=i(1891),c=n(l),u=i(1890),d=n(u),h=i(1257),f=n(h),p=i(1893),g=n(p);e.EAN13=o.default,e.EAN8=s.default,e.EAN5=c.default,e.EAN2=d.default,e.UPC=f.default,e.UPCE=g.default},1895:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GenericBarcode=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(865),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),a(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(l.default);e.GenericBarcode=c},1896:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1258),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){var e=t.substr(0,13).split("").map(function(t){return parseInt(t,10)}).reduce(function(t,e,i){return t+e*(3-i%2*2)},0);return 10*Math.ceil(e/10)-e},u=function(t){function e(t,i){return n(this,e),-1!==t.search(/^[0-9]{13}$/)&&(t+=c(t)),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===c(this.data)}}]),e}(l.default);e.default=u},1897:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.START_BIN="1010",e.END_BIN="11101",e.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},1898:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ITF14=e.ITF=void 0;var r=i(1258),o=n(r),a=i(1896),s=n(a);e.ITF=o.default,e.ITF14=s.default},1899:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1015),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(1035),c=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,l.mod10)(t),i))}return o(e,t),e}(s.default);e.default=c},1900:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1015),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(1035),c=function(t){function e(t,i){return n(this,e),t+=(0,l.mod10)(t),t+=(0,l.mod10)(t),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),e}(s.default);e.default=c},1901:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1015),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(1035),c=function(t){function e(t,i){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,l.mod11)(t),i))}return o(e,t),e}(s.default);e.default=c},1902:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1015),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(1035),c=function(t){function e(t,i){return n(this,e),t+=(0,l.mod11)(t),t+=(0,l.mod10)(t),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return o(e,t),e}(s.default);e.default=c},1903:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MSI1110=e.MSI1010=e.MSI11=e.MSI10=e.MSI=void 0;var r=i(1015),o=n(r),a=i(1899),s=n(a),l=i(1901),c=n(l),u=i(1900),d=n(u),h=i(1902),f=n(h);e.MSI=o.default,e.MSI10=s.default,e.MSI11=c.default,e.MSI1010=d.default,e.MSI1110=f.default},1904:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.codabar=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(865),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,i){n(this,e),0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A");var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),i));return o.text=o.options.text||o.text.replace(/[A-D]/g,""),o}return o(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var t=[],e=this.getEncodings(),i=0;i<this.data.length;i++)t.push(e[this.data.charAt(i)]),i!==this.data.length-1&&t.push("0");return{text:this.text,data:t.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(l.default);e.codabar=c},1905:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1888),r=i(1887),o=i(1894),a=i(1898),s=i(1903),l=i(1906),c=i(1904),u=i(1895);e.default={CODE39:n.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:o.EAN13,EAN8:o.EAN8,EAN5:o.EAN5,EAN2:o.EAN2,UPC:o.UPC,UPCE:o.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:u.GenericBarcode}},1906:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.pharmacode=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(865),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.number=parseInt(t,10),o}return o(e,t),a(e,[{key:"encode",value:function(){for(var t=this.number,e="";!isNaN(t)&&0!=t;)t%2==0?(e="11100"+e,t=(t-2)/2):(e="100"+e,t=(t-1)/2);return e=e.slice(0,-2),{data:e,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(l.default);e.pharmacode=c},1907:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this.api=e}return r(t,[{key:"handleCatch",value:function(t){if("InvalidInputException"!==t.name)throw t;if(this.api._options.valid===this.api._defaults.valid)throw t.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var e=t.apply(void 0,arguments);return this.api._options.valid(!0),e}catch(t){return this.handleCatch(t),this.api}}}]),t}();e.default=o},1908:function(t,e,i){"use strict";function n(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},1909:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e={};for(var i in l.default)l.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,a.default)(e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1260),a=n(o),s=i(1261),l=n(s);e.default=r},1910:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if("string"==typeof t)return o(t);if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(r(t[i]));return e}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return a(t);if(t&&"svg"===t.nodeName||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,c.default)(t),renderer:d.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,c.default)(t),renderer:d.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:d.default.CanvasRenderer};if(t&&"object"===(void 0===t?"undefined":s(t))&&!t.nodeName)return{element:t,renderer:d.default.ObjectRenderer};throw new h.InvalidElementException}function o(t){var e=document.querySelectorAll(t);if(0!==e.length){for(var i=[],n=0;n<e.length;n++)i.push(r(e[n]));return i}}function a(t){var e=document.createElement("canvas");return{element:e,options:(0,c.default)(t),renderer:d.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=i(1909),c=n(l),u=i(1913),d=n(u),h=i(1259);e.default=r},1911:function(t,e,i){"use strict";function n(t){function e(t){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else t.text=t.text||"",t.data=t.data||"",i.push(t)}var i=[];return e(t),i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},1912:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(1036),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=i(1262),l=function(){function t(e,i,r){n(this,t),this.canvas=e,this.encodings=i,this.options=r}return r(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,a.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,s.getTotalWidthOfEncodings)(this.encodings),i=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var i,n=this.canvas.getContext("2d"),r=e.data;i="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,n.fillStyle=t.lineColor;for(var o=0;o<r.length;o++){var a=o*t.width+e.barcodePadding;"1"===r[o]?n.fillRect(a,i,t.width,t.height):r[o]&&n.fillRect(a,i,t.width,t.height*r[o])}}},{key:"drawCanvasText",value:function(t,e){var i=this.canvas.getContext("2d"),n=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var r,o;o="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,i.font=n,"left"==t.textAlign||e.barcodePadding>0?(r=0,i.textAlign="left"):"right"==t.textAlign?(r=e.width-1,i.textAlign="right"):(r=e.width/2,i.textAlign="center"),i.fillText(e.text,r,o)}}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),t}();e.default=l},1913:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1912),o=n(r),a=i(1915),s=n(a),l=i(1914),c=n(l);e.default={CanvasRenderer:o.default,SVGRenderer:s.default,ObjectRenderer:c.default}},1914:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i,r){n(this,t),this.object=e,this.encodings=i,this.options=r}return r(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();e.default=o},1915:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(1036),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=i(1262),l="http://www.w3.org/2000/svg",c=function(){function t(e,i,r){n(this,t),this.svg=e,this.encodings=i,this.options=r,this.document=r.xmlDocument||document}return r(t,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var e=0;e<this.encodings.length;e++){var i=this.encodings[e],n=(0,a.default)(this.options,i.options),r=this.createGroup(t,n.marginTop,this.svg);this.setGroupOptions(r,n),this.drawSvgBarcode(r,n,i),this.drawSVGText(r,n,i),t+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,s.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,s.getTotalWidthOfEncodings)(this.encodings),e=(0,s.getMaximumHeightOfEncodings)(this.encodings),i=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,e),this.options.background&&this.drawRect(0,0,i,e,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,e,i){var n,r=i.data;n="top"==e.textPosition?e.fontSize+e.textMargin:0;for(var o=0,a=0,s=0;s<r.length;s++)a=s*e.width+i.barcodePadding,"1"===r[s]?o++:o>0&&(this.drawRect(a-e.width*o,n,e.width*o,e.height,t),o=0);o>0&&this.drawRect(a-e.width*(o-1),n,e.width*o,e.height,t)}},{key:"drawSVGText",value:function(t,e,i){var n=this.document.createElementNS(l,"text");if(e.displayValue){var r,o;n.setAttribute("style","font:"+e.fontOptions+" "+e.fontSize+"px "+e.font),o="top"==e.textPosition?e.fontSize-e.textMargin:e.height+e.textMargin+e.fontSize,"left"==e.textAlign||i.barcodePadding>0?(r=0,n.setAttribute("text-anchor","start")):"right"==e.textAlign?(r=i.width-1,n.setAttribute("text-anchor","end")):(r=i.width/2,n.setAttribute("text-anchor","middle")),n.setAttribute("x",r),n.setAttribute("y",o),n.appendChild(this.document.createTextNode(i.text)),t.appendChild(n)}}},{key:"setSvgAttributes",value:function(t,e){var i=this.svg;i.setAttribute("width",t+"px"),i.setAttribute("height",e+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+t+" "+e),i.setAttribute("xmlns",l),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,e,i){var n=this.document.createElementNS(l,"g");return n.setAttribute("transform","translate("+t+", "+e+")"),i.appendChild(n),n}},{key:"setGroupOptions",value:function(t,e){t.setAttribute("style","fill:"+e.lineColor+";")}},{key:"drawRect",value:function(t,e,i,n,r){var o=this.document.createElementNS(l,"rect");return o.setAttribute("x",t),o.setAttribute("y",e),o.setAttribute("width",i),o.setAttribute("height",n),r.appendChild(o),o}}]),t}();e.default=c},2026:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqoAAAF6CAMAAADmjYrqAAAC/VBMVEUAAAD9zqf//////vn/8uj/9On/+d//8uf/9+v/9er/9On/9ez/8en/9u3/8uj/8+n//Pj/9uz/8+f/9Or/9ev/8+j/9ez/9er/9er/8+n+uYH/8+j/+PD/8+n/8ef/9On/9ev/8un//fv/9Oz/9Or/9ez/9Or/9On/8ef/8+j/9uz/8uf/9Or//v3/8ef//vz//vz/8+j/8uj/8uj/8+f//vz//v3/9On/9uz//vz/+/b+u4T/+fH/9+3/9On///7/+O////7/+fP/+O//+/b/////+PD/s3T/+PH//fz/+vX//Pf+5dD/+O///Pj/6Nb/6Nb/6tr/rmv/59b+59b/6tn90av/rGr/r2//rGf/rWv/q2b+uoP/qGf/8ef90q3/+PH/+vX/+/b//fv/9er//Pn//Pj/+fP/+PD/+fL/9+3//v3/4Mb/9uv/9+//9e3/9On//vz//////fz94cr9zKT84Mn+4sz+v43+xJX+yZ/+tXz9y6P+vIf/u4T/uYH+vor+xpj/rWr/rmz+wY//rGj/r2//tXn+wpL+snf/snT/uH7/9Or/sXH738j/q2b+x5z/5M7/tHb/6db+3L7/7Nz/4cn+x5r+xZf+4cv/59T9yqH+5dH+yJ35t4j5sn//5tH+w5T/uoP6u436tYX6tIL6vpH6wJT4qXH+t4D5sHz6xJ34rXf+vYn6yqb6wpn/6tn70bD/t376uYr/qmX4qG7/7uL6wZf5zqz6w5v/8OT72Lz4pmz/rGn72r/+mj/6yKP4rHX+wpH6vI/707T+07D/8eb73sb6x6H5r3n/7d/70rP6xp/6zKj6yaX/48v+q2z4q3P9wI/71rn+r3L6zar959X+pGD71bj+z6j+v4r+rW/+p2X71Lb+u4f/tHf+oVv/69v4pGj6z6373MP/sHD+wZH/qWj+voz6vpP/nlT4o2f+3cP70bH/s3r+sHT/snP+2bz+yqD+1bP/tnz+0av+17f6x6D4pWn6zq3+mkz8xJz+y6L+zKP6t4dYXz1LAAAAXnRSTlMA5DEE7jYIEwqQ1y4OSNF5YBhuPhveWfv2T+i6+uXCqilVcSCzl350+mYkisnjsI+BRPWeX1HChO6xqurMvaOh59Dw3b/xZ/TVQJz48m/d3byZ4tCo8PCUYz+1dbUvn66lHQAAIt5JREFUeNrs3UtME0EYwPEhVBAQjQ+kiohGxWiNiY8E4ismJurFixffdg97avrYSyPFWgrIu4SXPGwlAS6GAwkhxEMTLiZw4GJijAkeJBwkHogKqCdN3O50u53uWroIdGb9fonxwPVPmc7sN4tAumUd2Ln7qOVMSdHW3GKTWcBOmwq2Fl2y7NiTtxkBkGabN+0uLTlRLKyguCjnbF4mAiAdsvNLS3IFHU4XlZ3KQgBspLxjlwqE1TDvP3oAAbAhDh0rMQn/osCyCQGwvjJ3WnKFNVBQehwBsF4y88+YhDWz/yysW8G62HTEJKwtk2UXAmBtbd9WIKyDwpI8BMDaOXWyUFgvRfAVC6yRzVfJL1IQK6BSdplJWHclsB0A/tH2HLOwEQpzshEA/xIqv1FMx+AJAbBKW8rM/EY6AUtWsBqZO8r5DSZY4FlBoNueXD4NCnYiAPQ4dJhPDyEHDltB6jJLzXza5MLxFUjVplw+nczHEAApyLIIfJpd2oIAoPwjFRYBIDWZ2wp5Gph3IwCS2HWRp0UZAuCv8k08PU7CcQD4i8wynipbDyEANGQX8ZQphi9XQENeAU+dcjhmBSr5Zp5C5oMIAMKOtG/7axPg5ArEy8zhqbUNASDLKuEpBq0C2RZ69v2h1f/GnXu37t68eQ3b+1fnCRVPo17HNIoGMU9MH1at6E3Qr6gULSl+Yb8j3IQZxY8I6+TyswEBWjW0rHs329ra6iQTETVRtVH12CesVfJN1BzV1NQ0izVgjyXfxyQtw5IqyZDEJ3mCjUj8kg8fKmTKb4Gcf3z4ccW348Ql3skXfJxSBIzkjhiqUVINhUIzHbxiBwLGcbutzVCphkKTYT7mLAJGcbvNcKmG3O95WWAPAsZwZ9yAqXrdHQ5Z4SkEjGDLTUOm6nUPOGRmeHbFEG6Nq1JtbvguG4tqkVWpepObI7PDpOxU6SnxebDEAlV7WPL2Fa4QI3atyG0rdyjy82mHrBhuDTaAB+MJqT559pBjnqvbbvVaeYdsKwwHsu8umWrrAmcUo9YFR0wR3L/GuuxxItXZbo4L9xhD2LU45Yg5ggDbbhGp1o5yHDfVYRABZ4dDAUcBjLtGpLrMGctD3hFTCGMBTMtqi0+12clNdRsJN+1QlMNoIMtuj8enOsNxQbuRvBJTVVyAkWuG3SdS7eA410O18FwwONrVFQy+SOJ5z6O5h7QJBBzxShBg1l4iVYFzqQR6+v197tQsTrso4+QdDvhqZQhkqlyXPdFCaLACp5qSn3a6jE4RqRbCGwOYdY1MNRxMMODuw6mm6lmQKnNhB+EKvDaIVWSqU1yihX6cauqmOKq8cpAOI8AmMtUejuPC5J9/3alO2qky7UhwAwEmkakuiakKA3H0pYoNUGXOlaAQHghk03ki1foAR3q0ilTDHE3UexK5sLvKJDLVut+cKNAVs7iKVHu6aNLtUoEHV5j0kkx14k3kg8ges7yKVBftNBl1qeUjwJ4MMtW6+o7Ix2qM3rWqVxQM0KTbpXZ5OwLMyfhGplpXM+nkFPaVUvWqjXI06XZpgB0rBmX4yFRFDctzzoRUPaHIUJMXx5lcKMRAqi54Bwt7MnpVqUbGVVu/Yc3NnZ2d4j/xf9Fs55JGm4n8eEwQ80mIydSK1xI8gqo1Bag9BrikYwxQZI3qcmkphyUAczK8s6pUtYar67FKIk61SpFPPVzd0oJnq5MNV5Oz1erh6kHN4WoiaHK4Gsf83uWCJYAhZHgb9aTar46TQF+qXTZtsARgTYa3clZHqu2acfYT6EnVnSRVWAKwRkzVM6EjVTJOUjvGRqo2eMyaMWKq7SOpp9qrihPrjTPERqo2OAhgSyTV6mGNVLWvrKom4lSpjlgp1aG1T7V9NalegWcBmCKl6hlLOVWNOLG+GFZStVkQYAhOtXGoJrVU+3CbRJwEsSNmUt0HjwOyJJrqU//sRCqpejTjxAajqlhJ1XYCAXbIqVb4n3xvbq2vF6usqZmYqB3GcF1KXx7cZtSgSqOoAhcXRdxZiSVeXYml8i6WfpESJT69kuE0CTOiUVsScPU6Q+JS9VW1PG5oEnutranrtGrzaMSpmJe4rTSZtiVxGa6yZIfOVHGbinnS2wi6Ug3bkslBgBV6U51PjJPAXKr7DiDACJ2pNhJtEsS16GcJS6naLiLACJ2pzqviJPgjvFaahG3JHUSADTpTffs5gV8yEo+tVK9kIcAE3an6sRHSE8lHSchKk7BtBXCFBSN0pvpZI06Sz0dZqs4VlMMtVmzQmerIRzWfbAhjLFUnbFixQWequE0lTlKVZMlKk5VT3XccAQboTVUzzmECa6k6zyHAAJ2p+sg2SWOSx5VWmoSdK4P7gVmgM9UhzThJ/VaapJIqnAOwQGeqw0SbKl8i2EvVCS9hZ4DeVNVxKpowBlO9gAD1dKY6htuUNWnptdIk7EwFHK/ST2eqj5u0fI3z7h2LqV6H91pT7w97d+/TRBgHcPyJhZYWau37EahWLRKwUfElohFCxBhfgn8Cd5pL1Kbt3ULUyZg4OLAY8Q0xwdHBhDA4sMvAogMJMTLAookhGtPA4GTpKbHaQp/e8zz3u+P32dy/ebje87uflKl+K2vTMF8GXKo3aoLLVsCjTLUU6XxFn/6wZap4rIJHmer3inFu+LDungyJkerWdhEEG22qFeMs90yGpNZUB/FYBY4y1fl/2yz795cSe6aKxyp0lKn+W+r3kXtGoBsWF22aKh6rwNGmWt7l9Kosj8wvlrsjQ7KeKr4EcALKVEtH6EaUb+R1q9OLvy2U2DXVCwRBRpnql4rH5+0Fg71TvdFKEGC0qS5s+PBC3vB0ccGwVPRKhoQiVZwEAI0y1fUkDfMf5b+MfFoqsXWqN3A5MGT0qRo9TsvlVqc3Un0gQ0KTKs6tQkaZ6sKS4bb8n/tLXw32TfUGfg4AWF2pLlS8O325YKT6WYaEKlX8ygowylRLJ+eXEbmijx9Kqd6XIZlRaODHq3DVker8qlzN659Fdk61gyCoKFMtlnpX3sSDr/ZOtR1XrYBFnepneVMvln7eliGZUaicJAgo2p9Vm3zkPzax7ta3kQkeVsSkOoCLAaGiTPWjXN2UwtOymFQVnAWEqmqq9N4qPM0KShWHVqBimKqm8JQXlKoSJggkdqkWFL7WBKWaIggkdqlmFb6eiEkVrwGgYpfqlMLXY1Gp4mpgmJil+i6vcFaoL9WbtM7if74OUrVUwf39V5Rbcj1mb1LD91UgMUt1VuFtVFSq+DUASKxSXVH4e8I/VQOOrULEKNV3owp/WkFQqpcIgodRquOKCMuCUsX5KojYpDqmiJHlnqphH0HgMEl1TVPEyP8Qk+ogQeCwSLWgK6Joa7xTNVwkCJpqqcIs1WhVQKrb/XtAV7A57I91hUKBQCAU6jre2tPY7SGUwKX6Q1NE0laoU8UfVjSSsYNt0bhegeRLebsaW0itoKX6PK8INkGbKv6wqpGrsfNQg76V6J7ORjepAaxU1+YU8WZ+8E91+01Yt+ztb9BrFU8f7GkiW4CUamFcscbUWu2pXq/P9rqxaoql4jolaXcgSTYDJ9WxKcU6y2OcU91ON1bhfkmvT9Tb4yLVwEi1sDKuK9YafbRS4JjqthkFbAn5dDMaOihqFZpq4cnEo7lRBYbRuUcTTwqsUzVsj1HA4MFe3bSEt5FQYJyq5XeotRvjk+o54nz7O+IqG77OIPkXpso/VcN+4nBBb1xlJ57yu0gZTFVUqgeIozUdkFTGogEP+QumKipVZ8+s7E2oHMT7m8kGTFVAqgYHL6/o7lN56Wslv2GqwlJ17LJVV6ekcuTrcpN1mKqwVM86dCtgMq1ylhhqIoRgqiJSNZwgThSSVP4aAi2YKmWqw1fr58SpVU9KFaM30IKpCku1vYU4TWNCrQr4yYqpbsZxl6uhuCpSIuTGVMWkeoo4ivuYKlo0hqkKSfWyo75b8exWLbCzB1OtNVV8AjB0R1VrtCUxVf6pOmi8qrFBtUq8w4Op8k71epA4hF9SLdTb6cJUuaVqGCLO0BrPWcvXg6kyStXZTwCxeM5yeyKYKs9UnTFgHctBIAXcmCqXVA1O2F0Bo9QiXxhTrU43maoDtq1b/pz6l2MeTLUa7apJtn8C6JFygPQeh5aqNrc8ZdpjHUCqdn8CaAZValHbflCpTmXZmNQsT9Xm7wD2D+SgkYZccFKdzLLyXrMwVYOtbwE8vhxA6WYoqc5l2Rm3PFU7zwG4+nIgxTtdMFJ9n2VoVFyqzpsE7NCgSichpKplWXprdaqX7fstQEiDq3iwWp/qaJalOQtTNcSITYU10NLdlqeaz7I0Y3mqp0ldXN17A8fadiYkvURK+Hb3nzwucJd+ZECDTeqyOlVlMstQ3vJU69gH0OQ/mD6qVxbtDzUTAdxpDbxU0OJUh7PsPLb8DcDVq35CJXK+La5vrqF/bxPhzJuxgd5WnqkKfVs1bvkVQNElmrMsZnS6JWkP3yWP/ow9dLitva0anmRzATBn/mL1mnlna24qcrJBr12C45LHSG/GJi40WzyukteHzdI1RQGR6rVwzUugdTqSN0L46MvYRvsQTlYxS/UIqYGnriXQca+HcDCUsZOUB1NllOoFsiXX+QZun8jRS7ZnbGUgjKkaqZoW4boI0hcmbLnOZGym/YALU2WS6vmtduvGVVO8bsLSgYz99AUxVRZOkc1E+lSzfMlt/OffMBDGVBm47CbVhROqeVIXYcWVzthSewBTZcBPqjofV5nwuggbQ3m7avNgqqYdJlW4vCorbS2EhcjZvG0N7sBUzbpCKnPvUdnZGSQMnM7bWPsuTNWsJKmkKaWyFI0Q0/x5e7vkFp2qpg+bBuZitWhfxVL7cmwluolJ7sG8zZ2JCE119qGTxlXWnauURSrH2mCEmBPI295AWGCqj7OsTP5i73520gjiAI7/EiKKQLumxtRkE/9iU1KjTRq1BFuCxqBNeuzRzCxh/5AFfBAuhMjBUx/BPoQevPgMpC/SKtpQIuwM7MwsM/N5hm9mZ3Z/A1FJ9dscDIqt1MI3PwuTWCi608884ZbqrR+e64ikaqVhUKLGwoc5mMCZK4WzOKdUW36IGhFJdQcGvKuxsQnjS7qSyC/AoB+Rv1x9F5FUS/C/dI2VfRjboSuLwgyPVM/9MHUjkurAdFX2oMbMGowp7crDNAZTjfzvAFxGJVUD+szNN9g5yMJ48q5MBr40/2axV+34ITqPSqpfoc+XBkuv4jCOJVcuhyno84tFql0/PK2ovAGwtvujaLCVgDHEjlzJlDbgn/gNi1TrLT8snWZkUrWS8GzjoMHYR6BnuNI5eAPPVpmkiupXYa2pTTRhqnU7NOscr4MepcZYVJF8zE/wZDn8VHual9ftiXVvUSCOqR7Dk5MqewmgZSAp7ULP+o3sk1Uhpvp8FWDxbZWDGaATKyE55ebgwY5OlcIpPNqs8pCPAZUlJKvel6ucTpXCLjxYrvLxXi+qTwpJAMjrVCns9QZCq3wUUkBhDUmsmAbY1qlSeBwEfF3lZR8o5D2ZmUbc1qlSblYXinVezEUgdupJbkenSrtZzdT5OQNinz3JYZ0qlT3ImnV+zA0gtOrJTqdKu1ldqfOUAUIZT3Y6VUqG6fJEuqzOmp7srIr8qVbCVHL5ygCRLU96zFJtdFs+ic7V7TSlarucmbNAIF7wpGczSvW84xNrowERThW7vG0BgSVHfhU2qTY7PoXrqUnVdrkrxCDYsSM/RqlSTqs2pyVV7PK3BIFWHQX8TTUC/7HanZZUkQDHEGjHkR9mk+qFT+cKTYBjqhiJkIQA8aIjv4dUI3C5elpSdZAICQhgOArA0dgAXKIJ8EvVQkIEHqzyjgIYpYraUh6rHCTGMoyUdFRgMUq10eF3quKXqifIJoyUwCpglSpq3tO8Vp2OVC1PEDMFI8QKWAU2q1RR/e7nPYlW+wJNSarYE8WAEdJYCZWKHlcJIP7573mHMEIOK0GnGiASi6o3amYlZWIl6FTJOQIZMJSB1VAul6VP1S2HQmiqORjqGKtBp0rMcgQqxmGIRawGS6dKzBEqDUOsYzXoVInZjlAZGCKP1aBTJWZhob7DyzawInSqxLBgWbWf/9jWqRKqYMFO1H7+61SJ2ViwHLwki1Xxhz27aW0iCAM4PiiooAdF8SwePAiilwp6EUUEFfsRdueF2Rwq2YYWgx/AWyhE7UEJevAVlZpQjKaRVWmb6LZ6qYaKeojNRYiHUKjoySZNzO7sZMcak06m+7vOLfln8zyzQao+ZBpVETqxvv//EV0PqULyT+QaVRHaCjgO4/WCBKm2JNeoyh9Wd+B1I0i1JclGVYSOAa/tWCUItxSk2pp0///cm9UjWBlodCSfT+QwX5CqFwqHIZUyVbQLsLacxaoID5dqCihI9a9ow/mqQohIN6oi1AdYfVgV4bxVl0BBqmI4UWpIExcDS+AQYJ3BikAj2T8KmGOdpIrI30EXrKYCdUUsg5OAdQArIjHnMIE5jCDVptCI5ZSgsqV6AjA2YEVoX5yyIcwKUnUyRrJuheYZxVLYD9z2YUVYMy4FzApSdUpkWWnZUmX3qpNYDaMpt6kQZgSpOqTnPLJQqq3Ks1dtQ1gN888YBexBh5YpnyoeEgvNzXuNNE6xHI6oeVVlf2DNYEaQatOFKZ70yqEcWxXG/WpeVVljHhPYLUj1D22GK0trp5KMqhhvAU79hhLgu5ceFwxWkOoKkv3OV1xJ1ZDEBuCw31BD4YfXgsEikWXqpxoRsVMtzNc+IWlS3Q0cThlqyD7kgIZLkGrD/LNW7OqxIYtDwOGooYaXGQ7bcAlSrZt41lJWqlSPAocDhhLgU554kCqX9bY1MxIhhiyOg6athhq0ezxWkCoPHPMRlynVE6Bpr6EG+y7PlOESpLoi/s7HQiRC5bHZMapSNRRv8fykjCDVqoWXfmIypbrBMapSNSTHed5SlyDVGvO1r4RMqfaBhj1UEckbPGOUMTSwbNWpVnImlIt/qsaAr+isr6khKo+9oOEUVUTxNs8H6iJK1cf0Ujluh+GaixXj5cqirreT6sxDX7NUIgdBwzGqiPQdni+UEfFNVWS6XFzTWnPRJV1EnCp9mPGXo/I4Chr6qSLCN3lGKEOQqthiwoRrZLSiV7Wd6sRjgQSRx0lQt4sqY/wBR7qtVPkWr8C1YNcfqO2nmngqYBF59IO6PqqMmUde44YnVYpDUJCqUEWD3Wae11chRAZ8zN0T+EnkcRbUHaTKiL155VGiTTgETXNQq9IFqQpNF2F3pRf11UhrWsyEyOAX+/ObwGsikW1gxWGqjrn7rEmDVqFQ2IxpTeJUxeKwm5LT+ipTrRs0wyFEmVQf3hW4RySyB9RsPEvUQWefuN2J4eVIB7UGcaqStnpFZ4hTdYuZ0BHspBAl8jgNajYQlRip5063RjWGMFU5W03qbaTqEAuHcHUkuCUkU6p9oOYc6S0UIWSQ1uzMk691tyua1tFU9SLsDnu6nVRZgyYcF5Ip1VOg5hjpJYOFfFXURoSPIhgrXLj461M+YWtap1Od1mA3mIt6m6mybgjJlOpeUHOc9A6YKDXkbUpYptlYnT6+uKwxOpKqXoHdUNa7nyoZkschULVFpl+PgJYvOUQhaTJC4ZiWjCbSXU5VvwI7z9b/e6q3hYYkcgZU7SQ9w7ZcSnmT1OBQ/WGai5cr1ya6m+piGHbc0v9PdfKOwK2IRI6Cqr2kV4xaHjGCoKk15eJfUql4e6nK91gd1f9/qpmbApmIRE721laVtjhsjXHl+9jsQrKbqS7BTrvagVRTolRnIhI53FNbVSzLY6U1Rno+c29yqoup6hOws2J6B1ItPxCIDkjkOFi2qUe2KmhluUo5jRV9PH77fXupSvUe4HonUk0/eOPrQdQORwZk0d9D76pofq6FKOdrSN35/OLSv6cq2X1VuROpaplHviaHh4ejyRwekMJv9u70x4UwDuD4E1s3dUtE3Ffd1BVeEAkS4gWJ1z9X8KJiqWaGF7zwhoQ0aapiGVbc5+pGDIY4glnGFRHjilC8QfdFsyGWREwdLbPtzPN0tfM8s8/nD9gXm2+ePtfMjESGjkuZEH+aVwIaip66cqxEqRoWFdfNoqQqXLNUHUoTxV3aooDzZiLD6LUsKH+Z30UVLJQiVdUcFw1TVbtU4fpDCwdDv4miKGnljkwFzKlOXMuApe9uWJCcTjVmrsv5/X+MVKWHR/N6+DKUIRqkRHnASUFkGLmWfsviN6w8lR1ONbKtmKQipQp38qd6QhBCWWJaxNFaEUIt19Bu6Ypy5eUdS+H/mqpbyGDn6tk83gtpplbTY+uqgEMQQrPX0G1xOQCEqq3VyjzVQlKF+ks5nRYM5lh/kbQVQScghGatodiSVZAm11bbqOGpFpQqCJVfGjhZLWSYZwFpu5RlwZJLbwCsodXSFdvgl/BbWzJPtaBUQXl66M0/bl+tCYfDuWIVMyLRbcESQwjNCNBp+arsf/PteVshnip2qmZ67ZHKox8Nl07uPfEo/Es2Vl2LNIz1wT5tSbCU0hsAAQqtWbwNskKP7d3hqZKlarb+ypUNoZoaY0Q1tRoH0ENp5lgjc4c3Kx2E2gXos3TRavhb7T0MOk+VKFVFbpDqc0WvMccaSgBAQsjZqhHr/FaoZJoHaLNsFfxLr8JxmadKlGoiEokrplQBZOnfWCUZDJog5Is1sqAlKpGOAboYoZpdrMJxT+GpEo2q0spkcpdqShVAiUvC71ZD+u+/IOddXxmtRuYNQCUxJkCTZeXQgFx1H4vEUyVJFZSKZOpRKmpONU2RtVhMUyAjZG7VFGsnVALTAvT4NaKaVVzFc5GnSpQqKDtSL+9UpzRTqrlIFhtXD37GWoJpwMQALdaugpxu3MJTpfJUiVIFVbxT/fheVVKxTTUuGCxmAYYFZajIZgYosQJyk2/dxRTlqZJuVsXv3Lt/61uVZJeqLKRZzwK8XVAR0bNXtWQb5CGewPWOp0qaKsipW99OnztcrVmnChGb46sHD2IAfbqiImoWoMHScsjrEXaqtTxV0lQN0q1zh6+fOXDZOtWE3VlrHAz+IWWoaCYEKbAYLNy/gOuuylMlTxXkG9fPfD9YuckyVRBNrZpi1eGXEW1RsfQPOm5NOViIncYX56mSp2qQzh2sPP7aOlUtHLYYWKPwh69DsQbW0UGnLV4NVioIUg3xVAtKFZSXh24bqW4GC3o4f6xx+EvvIs1YpwSdFVgE1i6ew3eRp2pKFVvi6pMrV9aBFSnTqilWUYN/eNqjYpgYdFSgHGzUH8H3lqdqSpVAYst6FayoUjjnwCopYDYYFcHIoJOWrQY7JwhSvcVTJUiVnB5uGKuYgBz6FOHC1drgzIyRWdOzJmZMzpqWMWd0xpis/hkdsyZktJ/9Uwc/2FEPEzjHUy1qqiBLpljFuAo59W6J3KSfD2zJh0moPFWiVMnJupC9yirFVMjH66ZWu+OEFbtOQuapkqZKTo7raXFNBSttOiG3aO8DDIkDJGQgcdPtqSrgJG875A7N/YAjSpSqBviaQKrgrN5lyA069QIs+hkSZKnWuTzVOnDYIOQCZT0Bj76XBFmq212eagqc1h2xbwhgKW6qostTTYLTPAMQ6wb4AVP0IAkZSMguT3UXOG4gYt0owBUvYqrwzN2pyuC89ohtzQGbdoiEAkS2uzrV7UABL2JbH8Amk5S6F8jIu92cahxoMBaxrJMP8B2sxPceCH12carOr/9/GoVY1hkInK7Edw8IKbvdm2oCqOBj+syqJxB4exxfCkiJrk21AijRD7GrzAMEwgSpRoHYZ5emul0FSrRG7BoAJJTK27gOQAE+uTLVzwrQoidiVxcgcvckrrdQiE8uTDVFw5bqb90Qu3oAkQrsVBNQkM+uSzVJz5gK4EHs6gFkDlzDcwEKtG+nq1Kto+BA1SWptgcy4YdYrulQsNQ616RaJ9I0pBp6IXa1BULnjuKogsZYuWejC1Kt276LslABRiB2tVKBTOw4RqkHZWikhLj9c11d3c3PFUwSI7oGFJqKGOYFQuGjZ+2c1IGjUmfEsOFA6p1dqddE4Og0DDGsORBLHr1k5TYvlVaM3wL0AjHpkEWpByi5msG57PcfoaFATqk/+ia3k0+Bo5WH6YtVCJV1gwLI9bc/NlR5h7rtGS5rMGJcPyiIKtw/dOlj1qXvjyXgKNarFWLdKCiUGtPFV1+/fj0V0TVqLrpxefRAzOvqgUbYeuXKlfXAUY/p7X/SiwCyAmY8VVa0YXxN9VsHwKHui+xLqPAPniojPH2RO4wDHFFxx8qV8X9i5amywcf2c9V/KRsFGJTIymQylYxDFk+VCSrLz/8V1mpFcnvq0cukxlNlis9FpRqtjgMMSoVR6o3a6pUK/MJTZYDfBdtUBdyxkj7fqF1Yf69egp94qvTzNEduM94HGOIvq+vvVd2/VZsAA0+Vel7236vaUPNugEFOpUv99u1CSgHgqdKuD/vHqbm0HAU4xKpbd7+dPvf+WwR4qnTzMX7vz0JnP2DQao1Sjxw+cOZejKdKM29b5F59ewOOmm9GqQfOHDyT4qlSyze8BXKzMsyBtf66UeqhQ5VPeKqU8rpv5W/WtQ/gqHj//eChyuMfeKpU8gxxx0fVbLRvAxjkt0apt3mqVJraFTUNZZ09gEE6d/taOtX9wFGlt/t/+7NaDcaKNXnmtZHqJ+Ao4mX9qz+kWg73A4bkiw/PgaNHG1fdTcHUqbUfOLa0Gd8kVlMNtbSYBhCSE7ouSboe1yh6i7Pb9O7RRENNa9W5GzSeEg3VZAkSla/JY97ALqhpK+vXGxpHjYZrTIQ4fxj7//IPcsvTU43SdpAfCieLNTmE+Mj6H7Xp7I4HUv+Ddp29UCBNCOem84H1//D1aeq//CbNB3mgALFwPjUSf8PVf+Ad0glxJi2691SBkBa2IPJxtZE8rZvSuRSRrkO8QEIWwlb4C9kaw9enKe9NYeg7GL9WVQxbo+M7+SzyjRrPV1L22k5qA1j0sB1+HlAIX0/eKX6tHUaALVmwxacAxPx9urdEHIlOQwf6wJIk2JMhH1VLn8Ua9Djfg/2j16D27n4KpVha9RjXC/LSBAw65KQmpJCQFdL5TAHUEYP5er8x2v5o7252E4XCMAAv5KhghQgeE0I4SlR+1JAgJOy8giaOabs9V0HkOozpxrCYS+iql8DCzey8njnNpJPJqFVrf/j5nq1x9+bz4+WAlmbTg5LlGaKU7kufov1Ml7uF1X0DfvavV2/yIt3zvDzL9sA34+UB5b0VO9WsIj8l/dVaneF/tcBueZbddr1LVmwj/ZvEx+URZfxLLJuYCmynH67d8TF9lcbRhVZ/ovgYHVO2uWqT0IOYfpqWwU9symyjy21SSp+jN5Tn4opzJaWYr5vKlLoiDbin6B2SlCbRG8pRwwq+A4dPv05FWdzdvmOunhjGRb8Tqw/MJlzpf4N6cD+/MK/xiY+LW1lNydgoy4smMqoW3F80X0s4VvVBaIzglFQ21FW2D8TR9Va0UGyhK3lwNjpzKkj6Mb+Nr1OYwgq7YacBozTL6t74msCuad7ZgjsOEDRReVFBMlth48vlua/SiW+psJTmU0WRF2zGJqv4XLnsAFhGJQNBC1UENeSwyD7sNkmhllVOdHlZ7cHd0QJqIUPyyfxhvTk6aHNwaMXGZBY6zR7soyVQ7Ssda6GxzK43P1e//pXdZpUTNT90VATlUznVeophLdw7th2w0DIZqwA4gXR5iQW0DzMUvLoZIdUxx8OuJupT+n04PBnMWDwNr9GGNRScUm2NkGc4VsjPXDIRMJfSzzHlsEg01+dNOVCVRh8eawbXqtb6DeSpRuDIkjnmfd91NUImoihgrHMv6B6be4ExFkWREDJwu/6QD01LDgJVVVCvfQMt6L7fX8cEYQ0FwMcAAAAASUVORK5CYII="},2087:function(t,e,i){function n(t){this.$style=i(1723)}var r=i(22)(i(1329),i(2218),n,null,null);t.exports=r.exports},2088:function(t,e,i){function n(t){this.$style=i(1768)}var r=i(22)(i(1330),i(2323),n,null,null);t.exports=r.exports},2089:function(t,e,i){function n(t){this.$style=i(1732)}var r=i(22)(i(1331),i(2240),n,null,null);t.exports=r.exports},2090:function(t,e,i){function n(t){this.$style=i(1725)}var r=i(22)(i(1332),i(2220),n,null,null);t.exports=r.exports},2091:function(t,e,i){function n(t){this.$style=i(1720)}var r=i(22)(i(1333),i(2215),n,null,null);t.exports=r.exports},2092:function(t,e,i){function n(t){this.$style=i(1754)}var r=i(22)(i(1334),i(2293),n,null,null);t.exports=r.exports},2093:function(t,e,i){function n(t){this.$style=i(1724)}var r=i(22)(i(1335),i(2219),n,null,null);t.exports=r.exports},2095:function(t,e,i){function n(t){this.$style=i(1753)}var r=i(22)(i(1337),i(2292),n,null,null);t.exports=r.exports},2099:function(t,e,i){function n(t){this.$style=i(1764)}var r=i(22)(i(1342),i(2316),n,null,null);t.exports=r.exports},2100:function(t,e,i){function n(t){this.$style=i(1703)}var r=i(22)(i(1343),i(2180),n,null,null);t.exports=r.exports},2101:function(t,e,i){function n(t){this.$style=i(1740)}var r=i(22)(i(1344),i(2264),n,null,null);t.exports=r.exports},2134:function(t,e,i){function n(t){this.$style=i(1727)}var r=i(22)(i(1430),i(2228),n,null,null);t.exports=r.exports},2135:function(t,e,i){function n(t){this.$style=i(1705)}var r=i(22)(i(1431),i(2187),n,null,null);t.exports=r.exports},2180:function(t,e){t.exports={render:function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{class:e.$style.wrap,attrs:{id:"vue-slide-bar-wrap"},on:{click:e.wrapClick}},[n("div",{ref:"elem",class:[e.$style.main,e.slideBarClass,(t={},t[e.$style.cursor]=!e.isDisabled,t)],attrs:{id:"slider"}},[n("div",{ref:"tooltip",class:e.$style.tooltipContainer,on:{mousedown:e.moveStart,touchstart:e.moveStart}},[e.customTooltip?e._e():n("div",{class:[e.$style.tooltip,e.tooltipClass]}),e._v(" "),e.customTooltip?e._t("tooltip"):e._e()],2),e._v(" "),n("div",{ref:"process",class:[e.$style.process,e.processClass]})])])},staticRenderFns:[]}},2187:function(t,e){t.exports={render:function(){var t,e,i,n,r,o,a=this,s=a.$createElement,l=a._self._c||s;return l("div",{class:[a.$style.wrap,(t={},t[a.$style.mini]=a.isMiniModel,t),(e={},e[a.$style.fold]=a.foldColumn,e),(i={},i[a.$style.fullScreen]=a.isFullScreen,i)]},[l("div",{class:a.$style.side},[l("div",{class:a.$style.logo,on:{click:a.goIndex}}),a._v(" "),a.isMiniModel?l("div",{class:[a.$style.foldBtn,"iconfont"],on:{click:a.switchFold}},[a._v(a._s(""))]):a._e(),a._v(" "),l("div",{class:a.$style.columnInfo,on:{click:function(t){return a.goColumn("left")}}},[l("div",{class:a.$style.avatar},[a.column.author_header?l("img",{attrs:{src:a.column.author_header}}):a._e()]),a._v(" "),l("div",{class:a.$style.bd},[l("div",{class:a.$style.columnName},[a._v(a._s(a.column.column_title))]),a._v(" "),l("div",{class:a.$style.authorName},[a._v(a._s(a.column.author_name))]),a._v(" "),l("div",{class:a.$style.authorTitle},[a._v(a._s(a.column.author_intro))]),a._v(" "),l("div",{class:a.$style.status},[a.isNeedSub?l("div",{class:a.$style.subBtn},[a._v("立即订阅")]):a.columnHadSub?l("div",{class:[a.$style.subBtn]},[a._v("查看详情")]):a.columnCouldSub?a._e():l("div",{class:[a.$style.subBtn,a.$style.off]},[a._v("已下架")]),a._v(" "),l("div",{class:a.$style.subNum},[a._v(a._s(a.column.sub_count)+" 人已学习")])])])]),a._v(" "),l("div",{ref:"column",class:a.$style.column},[l("div",{class:[a.$style.hd,a.$style.pd40]},[l("div",{class:a.$style.tit},[a._v("课程目录")]),a._v(" "),a.column.is_finish?l("div",{class:a.$style.info},[a._v("已完结 "+a._s(a.articlesPage.count)+" 讲")]):l("div",{class:a.$style.info},[a._v("已更新 "+a._s(a.articlesPage.count)+" 讲 "+a._s(a.filterColumnUnit?"/ 共 "+a.filterColumnUnit+" 讲":""))])]),a._v(" "),a.freelyRead.total>0&&!a.columnHadSub?l("div",{class:a.$style.freeReadTip},[a.loginUser?[a.freelyRead.count<a.freelyRead.total?[l("span",{class:a.$style.leftCount},[a._v(a._s(a.freelyRead.count)+"/"+a._s(a.freelyRead.total))]),l("span",[a._v("你可以任选"),l("strong",[a._v(a._s(a.freelyRead.total))]),a._v("讲全文学习，目前已学"),l("strong",[a._v(a._s(a.freelyRead.count))]),a._v("讲")])]:[l("span",{class:a.$style.leftCount},[a._v(a._s(a.freelyRead.count)+"/"+a._s(a.freelyRead.total))]),l("span",[a._v("你已学"),l("strong",[a._v(a._s(a.freelyRead.count))]),a._v("讲，订阅后可学习全部内容。")])]]:[l("span",{class:a.$style.leftCount},[a._v(a._s(a.freelyRead.count)+"/"+a._s(a.freelyRead.total))]),l("span",[a._v("登录后，你可以任选"),l("strong",[a._v(a._s(a.freelyRead.total))]),a._v("讲全文学习。")])]],2):a._e(),a._v(" "),a.isShowChapter?a._l(a.totalArticleList,function(t,e){var i,n;return l("div",{key:e,class:[a.$style.chapterItem,a.$style.pd40,(i={},i[a.$style.open]=t.isActive,i)]},[l("div",{class:a.$style.chapterTitleWrapper,on:{click:function(i){return a.expandChapter(t,e)}}},[l("div",{class:a.$style.chapterTitle},[a._v(a._s(t.title)+" ("+a._s(t.articles.length)+"讲)")]),a._v(" "),l("div",{class:[a.$style.expand,"iconfont",(n={},n[a.$style.open]=t.isActive,n)]},[a._v("")])]),a._v(" "),l("div",{ref:"articleListWrapper",refInFor:!0,class:[a.$style.articleListWrapper]},[l("div",{ref:"articleList",refInFor:!0,class:[a.$style.articleList]},[t.articles.length>0?a._l(t.articles,function(t,e){var i,n;return l("div",{key:e,class:[a.$style.articleItem,(i={},i[a.$style.unsub]=!a.isAllowRead(t),i),(n={},n[a.$style.isCurrentArticle]=String(t.id)===String(a.id),n)],on:{click:function(e){return a.switchArticle(t,"sidebar")}}},[l("div",{class:a.$style.top},[a.isAllowRead(t)?l("div",{class:a.$style.progress},[l("CircleProgress",{attrs:{size:10,border:2,progress:0,color:"#fa8919",backgroundColor:"#dfdfdf"}})],1):a._e(),a._v(" "),a.isAllowRead(t)?a._e():l("div",{class:[a.$style.lock,"iconfont"]},[a._v("")]),a._v(" "),l("div",{class:a.$style.txt},[a._v(a._s(t.article_title))])]),a._v(" "),a.isNeedSub&&t.article_could_preview?l("div",{class:a.$style.trialTag},[a._v("免费")]):a._e(),a._v(" "),a.isNeedSub&&t.had_freelyread?l("div",{class:a.$style.trialTag},[a._v("已学")]):a._e()])}):[l("div",{class:a.$style.articleItem},[l("div",{class:[a.$style.txt,a.$style.noContent]},[a._v("该章节暂未更新内容，敬请期待")])])]],2)])])}):a._l(a.articles,function(t,e){var i,n;return l("div",{key:e,class:[a.$style.articleItem,(i={},i[a.$style.unsub]=!a.isAllowRead(t),i),(n={},n[a.$style.isCurrentArticle]=String(t.id)===String(a.id),n)],on:{click:function(e){return a.switchArticle(t,"sidebar")}}},[l("div",{class:a.$style.top},[a.isAllowRead(t)?l("div",{class:a.$style.progress},[l("CircleProgress",{attrs:{size:10,border:2,progress:0,color:"#fa8919",backgroundColor:"#dfdfdf"}})],1):a._e(),a._v(" "),a.isAllowRead(t)?a._e():l("div",{class:[a.$style.lock,"iconfont"]},[a._v("")]),a._v(" "),l("div",{class:a.$style.txt},[a._v(a._s(t.article_title))])]),a._v(" "),a.isNeedSub&&t.article_could_preview?l("div",{class:a.$style.trialTag},[a._v("免费")]):a._e(),a._v(" "),a.isNeedSub&&t.had_freelyread?l("div",{class:a.$style.trialTag},[a._v("已学")]):a._e()])})],2)]),a._v(" "),l("div",{class:[a.$style.main]},[l("div",{class:a.$style.nav},[l("div",{class:[a.$style.foldBtn,"iconfont"],on:{click:a.switchFold}},[a._v(a._s(""))]),a._v(" "),l("div",{class:a.$style.columnTitle,on:{click:function(t){return a.goColumn("up")}}},[a._v(a._s(a.column.column_title))]),a._v(" "),a.isNeedSub&&a.foldColumn?l("div",{class:a.$style.subBtn,on:{click:function(t){return a.goColumn("upbtn")}}},[a._v("立即订阅")]):a._e(),a._v(" "),a.columnHadSub&&a.foldColumn?l("div",{class:a.$style.subBtn,on:{click:function(t){return a.goColumn("upbtn2")}}},[a._v("查看详情")]):a._e(),a._v(" "),l("div",{class:a.$style.space}),a._v(" "),a._l(["",a.$style.audioStatus2],function(t){var e,i,n;return[l("div",{key:t,class:[a.$style.audioStatus,(e={},e[a.$style.on]=a.article.audio_url&&a.isShowMiniAudio,e),t],on:{click:a.togglePlayAudio}},[l("CircleProgress",{attrs:{size:36,border:1,progress:Math.ceil(3.6*a.audioStatus.progress),color:"#fa8919"}}),a._v(" "),l("div",{class:a.$style.coverMask}),a._v(" "),a.article.article_cover?l("div",{class:[a.$style.cover,(i={},i[a.$style.running]=a.audioStatus.playing,i)],style:{backgroundImage:"url("+a.article.article_cover+")"}}):a._e(),a._v(" "),l("div",{class:["iconfont",a.$style.icon,(n={},n[a.$style.playIcon]=!a.audioStatus.playing,n)]},[a._v(a._s(a.audioStatus.playing?"":""))])],1)]}),a._v(" "),l("div",{class:a.$style.userStatus},[a.loginUser?l("span",{class:[a.$style.userIcon,"iconfont"],on:{click:a.goAccount}},[a._v("")]):[l("span",{class:a.$style.gray,on:{click:a.goLogin}},[a._v("登录")]),l("span",{class:[a.$style.split,a.$style.gray]},[a._v("|")]),l("span",{class:a.$style.gray,on:{click:a.goRegister}},[a._v("注册")])],a._v(" "),a.isShowUserMenu?l("UserMenu",{class:a.$style.userMenu,attrs:{showreply:a.couldReplyComments}}):a._e()],2)],2),a._v(" "),l("div",{ref:"contentWrap",class:a.$style.contentWrap},[a.article.id?l("div",{ref:"contentWrapScroller",class:a.$style.contentWrapScroller},[l("h1",{class:a.$style.articleTitle},[a._v(a._s(a.article.article_title))]),a._v(" "),l("div",{class:a.$style.articleInfo},[l("span",[a._v(a._s(a.article.author_name))]),a._v(" "),a.article.article_ctime?l("span",[a._v(a._s(a._f("formatDate")(a.article.article_ctime)))]):a._e()]),a._v(" "),l("div",{ref:"content",class:a.$style.articleContent,on:{click:a.imgClickHandler}},[l("div",{class:a.$style.articleCover},[!a.article.article_cover_hidden&&a.article.article_cover?l("img",{attrs:{src:a.article.article_cover}}):a._e(),a._v(" "),a.loginUser?l("Pharmacode",{attrs:{num:a.loginUser.uid}}):a._e()],1),a._v(" "),a.article.video_url?l("VideoPlayer",{attrs:{data:a.article}}):a._e(),a._v(" "),a.article.audio_url?l("AudioPlayer",{ref:"audioPlayer",class:a.$style.audioPlayer,attrs:{data:a.article},on:{update:a.audioUpdateHanlder}}):a._e(),a._v(" "),a.content?l("RichContent",{ref:"richContent",class:a.$style.richConent,attrs:{content:a.content},on:{"update:content":function(t){a.content=t}}}):a._e(),a._v(" "),a.article.column_id?l("div",{class:a.$style.copyright},[l("span",[a._v("©")]),a._v(" 版权归极客邦科技所有，未经许可不得传播售卖。 页面已增加防盗追踪，如有侵权极客邦将依法追究其法律责任。\n          ")]):a._e(),a._v(" "),a.isNeedSub?l("div",{class:a.$style.unavailable},[l("div",{class:a.$style.text},[a._v("该试读文章来自付费专栏《"+a._s(a.column.column_title)+"》，如需阅读全部文章，"),l("br"),a._v("请订阅文章所属专栏。")]),a._v(" "),l("div",{class:a.$style.btn,on:{click:function(t){return a.goColumn("down")}}},[a._v("立即订阅")])]):a._e()],1),a._v(" "),l("Comment",{ref:"commentBox",attrs:{id:a.id,url:a.url}}),a._v(" "),l("div",{ref:"comments",class:a.$style.comments},[a.comments.length>0?[l("h2",[a._v("精选留言("+a._s(a.commentsCount)+")")]),a._v(" "),l("ul",a._l(a.comments,function(t,e){return l("CommentItem",{key:e,ref:"commentItem",refInFor:!0,attrs:{data:t,index:e},on:{deleted:a.commentDeletedHandler,expand:a.commentExpandHandler,scrollto:a.commentScrolltoHandler,loaded:a.commentLoadedHandler}})}),1)]:[l("h2",[a._v("精选留言")]),a._v(" "),l("div",{class:a.$style.emptyCommentTip},[a._v("由作者筛选后的优质留言将会公开显示，欢迎踊跃留言。")])],a._v(" "),l("div",{class:[a.$style.btnPackup,(n={},n[a.$style.on]=a.isShowPackupBtn,n)],on:{click:a.commentPackupHandler}},[a._v("\n            收起评论"),l("span",{class:["iconfont",a.$style.pakupIcon]},[a._v("")])])],2)],1):a._e()]),a._v(" "),l("div",{class:a.$style.rightSideMenus},[l("div",{class:[a.$style.commentBtn,"iconfont",a.$style.menuItem],on:{click:a.scrollComment}},[a._v(""),a.commentsCount?l("span",[a._v(a._s(a.commentsCount>99?"99+":a.commentsCount))]):a._e()]),a._v(" "),l("div",{class:[a.$style.favoriteBtn,"iconfont",a.$style.menuItem,(r={},r[a.$style.on]=a.article.had_liked,r)],on:{click:a.toggleFav}},[a._v(a._s(a.article.had_liked?"":"")),a.favCount>0?l("span",[a._v(a._s(a.favCount>99?"99+":a.favCount))]):a._e()]),a._v(" "),l("div",{class:[a.$style.fullScreenBtn,"iconfont",a.$style.menuItem],on:{click:a.enterFullScreen}},[a._v("")]),a._v(" "),l("div",{class:[a.$style.weiboSahreBtn,"iconfont",a.$style.menuItem],on:{click:a.weiboShare}},[a._v("")]),a._v(" "),l("div",{class:[a.$style.wechatSahreBtn,"iconfont",a.$style.menuItem],on:{mouseover:function(t){a.isShowQrcode=!0},mouseout:function(t){a.isShowQrcode=!1}}},[a._v("")]),a._v(" "),a.isShowQrcode?l("div",{class:a.$style.qrcode},[l("QrCode",{attrs:{size:70,padding:3,"bg-color":"#ffffff","fg-color":"#555555",val:a.url}})],1):a._e(),a._v(" "),a.nextArticle?l("div",{class:[a.$style.nextBtn,"iconfont",a.$style.menuItem],on:{click:function(t){return a.switchArticle(a.nextArticle,"next")}}},[a._v("")]):a._e(),a._v(" "),l("div",{class:[a.$style.downloadBtn,"iconfont",a.$style.menuItem]},[l("a",{attrs:{href:"//time.geekbang.org/download",target:"_blank"}},[l("span",{class:a.$style.txt1},[a._v("")]),l("span",{class:a.$style.txt2},[a._v("下载"),l("br"),a._v("客户端")])])]),a._v(" "),l("div",{class:[a.$style.backTopBtn,"iconfont",a.$style.menuItem],on:{click:a.backTop}},[l("span",{class:a.$style.txt1},[a._v("")]),l("span",{class:a.$style.txt2},[a._v("返回"),l("br"),a._v("顶部")])])]),a._v(" "),l("div",{class:a.$style.leftSideMenus},[a.prevArticle?l("div",{class:[a.$style.prevBtn,"iconfont",a.$style.menuItem],on:{click:function(t){return a.switchArticle(a.prevArticle,"prev")}}},[a._v("")]):a._e()]),a._v(" "),a.isFullScreen?l("div",{class:[a.$style.exitFullScreenBtn,(o={},o[a.$style.on]=a.article.audio_url&&a.isShowMiniAudio,o)],on:{click:a.exitFullScreen}},[l("span",{staticClass:"iconfont"},[a._v("")]),a._v("退出沉浸式阅读")]):a._e()]),a._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:a.isShowImgPreview,expression:"isShowImgPreview"}],ref:"mask",class:a.$style.mask,on:{click:function(t){return t.stopPropagation(),a.hidePreview(t)}}},[l("div",{ref:"imgPreviewInner",class:a.$style.imgPreviewInner},[l("img",{ref:"imgPreview",class:a.$style.imgPreview,attrs:{src:a.previewImgUrl}})])])])},staticRenderFns:[]}},2215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.pagination},[t.showPrevBtn?i("button",{on:{click:t.prev}},[t._v("上一页")]):t._e(),t._v(" "),t._l(t.nums,function(e,n){var r,o;return i("button",{key:n,class:[(r={},r[t.$style.current]=t.page===e,r),(o={},o[t.$style.disabled]=t.page===e,o)],attrs:{disabled:t.page===e},on:{click:function(i){return t.clickHandler(e)}}},[t._v(t._s(e))])}),t._v(" "),t.showNextBtn?i("button",{on:{click:t.next}},[t._v("下一页")]):t._e()],2)},staticRenderFns:[]}},2218:function(t,e){t.exports={render:function(){var t,e,i=this,n=i.$createElement,r=i._self._c||n;return r("div",{ref:"main",class:i.$style.main},[r("div",{class:[i.$style.btn,(t={},t[i.$style.btnPause]=i.playing,t),(e={},e[i.$style.btnPlay]=!i.playing,e)],on:{click:i.toggle}},[r("div",{class:["iconfont",i.$style.icon]},[i._v(i._s(i.playing?"":""))])]),i._v(" "),r("div",{class:i.$style.left},[r("div",{class:i.$style.progress},[r("SlideBar",{attrs:{min:0,max:1e3,minShim:0,maxShim:45,value:i.sliderValue,customTooltip:!0,isDisabled:!0,slideBarClass:i.$style.slideBar,processClass:i.$style.process},on:{input:i.dragChangeHandler,dragEnd:i.dragEndHandler}},[r("div",{class:i.$style.tooltip,attrs:{slot:"tooltip"},slot:"tooltip"},[i._v(i._s(i.currentTimer))])]),i._v(" "),r("div",{class:i.$style.length},[i._v(i._s(i.data.audio_time_arr.m)+":"+i._s(i.data.audio_time_arr.s))])],1),i._v(" "),r("div",{class:i.$style.audioInfo},[r("span",[i._v("讲述："+i._s(i.data.audio_dubber))]),i._v(" "),r("span",[i._v("大小："+i._s(i._f("formatSize")(i.data.audio_size)))])])]),i._v(" "),r("audio",{ref:"audio",attrs:{title:i.data.article_title,src:i.data.audio_url}})])},staticRenderFns:[]}},2219:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("a",{on:{click:t.goAccount}},[i("div",{class:t.$style.name},[t._v(t._s(t.loginUser.nick))]),t._v(" "),i("div",{class:t.$style.cellphone},[t._v(t._s(t.loginUser.cellphone))])]),t._v(" "),i("a",{on:{click:t.goSetting}},[i("span",{class:["iconfont"]},[t._v("")]),t._v(" "),i("span",{class:t.$style.text},[t._v("账号设置")])]),t._v(" "),t.showreply?i("a",{on:{click:t.goReply}},[i("span",{class:["iconfont"]},[t._v("")]),t._v(" "),i("span",{class:t.$style.text},[t._v("留言回复")])]):t._e(),t._v(" "),i("a",{on:{click:t.goBuy}},[i("span",{class:["iconfont"]},[t._v("")]),t._v(" "),i("span",{class:t.$style.text},[t._v("我的订阅")])]),t._v(" "),i("a",{on:{click:t.goLogout}},[i("span",{class:["iconfont"]},[t._v("")]),t._v(" "),i("span",{class:t.$style.text},[t._v("退出登录")])])])},staticRenderFns:[]}},2220:function(t,e){t.exports={render:function(){var t,e,i=this,n=i.$createElement,r=i._self._c||n;return r("div",{class:i.$style.wrap},[i.loginUser?r("div",{class:i.$style.user},[r("img",{class:i.$style.avatar,attrs:{src:i.loginUser.avatar||i.defaultAvatar}}),i._v(" "),r("div",{class:i.$style.username},[i._v(i._s(i._f("cutStr")(i.loginUser.nick,30)))])]):r("div",{class:i.$style.user},[r("img",{class:i.$style.avatar,attrs:{src:i.defaultAvatar}}),i._v(" "),r("div",{class:i.$style.username},[r("span",{class:i.$style.txt1,on:{click:i.goLogin}},[i._v("登录")]),i._v(" "),r("span",{class:i.$style.txt2},[i._v("后留言")])])]),i._v(" "),r("div",{class:[i.$style.commentBox,(t={},t[i.$style.disabledInput]=!i.loginUser,t)]},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],class:i.$style.input,attrs:{placeholder:"由作者筛选后的优质留言将会公开显示，欢迎踊跃留言。",rows:16,readonly:!i.loginUser},domProps:{value:i.comment},on:{keydown:function(t){return t.stopPropagation(),i.keyHandler(t)},input:function(t){t.target.composing||(i.comment=t.target.value)}}})]),i._v(" "),i.loginUser?r("div",{class:i.$style.status},[i.isWindows?r("div",{class:i.$style.tip},[i._v("Ctrl + Enter 发表")]):r("div",{class:i.$style.tip},[i._v("Command + Enter 发表")]),i._v(" "),r("div",{class:i.$style.counter},[i._v(i._s(i.count)+"/2000字")]),i._v(" "),r("div",{class:[i.$style.save,(e={},e[i.$style.disabled]=!(i.count<=2e3&&i.loginUser),e)],on:{click:i.submit}},[i._v("提交留言")])]):i._e()])},staticRenderFns:[]}},2228:function(t,e){t.exports={render:function(){var t,e,i,n,r,o,a,s=this,l=s.$createElement,c=s._self._c||l;return c("div",{ref:"wrap",class:[s.$style.wrap,(t={},t[s.$style.android]=s.isInAndroidApp,t),(e={},e[s.$style.disabledUserSelect]=s.isInApp,e)],style:{backgroundColor:s.backgroundColorMap[s.customColor]}},[c("div",{class:s.$style.background,style:{backgroundColor:s.backgroundColorMap[s.customColor]}}),s._v(" "),c("div",{class:[s.directionClass,s.$style.white,(i={},i[s.$style.yellow]="yellow"===s.customColor,i),(n={},n[s.$style.black]="black"===s.customColor,n)],style:{opacity:s.minOpacityMap[s.customColor]+s.customLight/100*(1-s.minOpacityMap[s.customColor])}},[this.data.id||s.isPreview?c("div",{class:[s.$style.hidden,(r={},r[s.$style.init]=s.inited,r)],on:{touchstart:function(t){return s.onTouchStart(t)},touchmove:function(t){return s.onTouchMove(t)},touchend:function(t){return s.onTouchEnd(t)}}},[c("TopNav"),s._v(" "),s.showNavbarAndToolbarStatus?c("div",{class:s.$style.topPadding}):s._e(),s._v(" "),s.showFreelyReadExhaust?c("div",{class:s.$style.freelyReadExhaust},[c("div",{class:s.$style.con},[s._v("任意学额度已用完")])]):s._e(),s._v(" "),s.showFreelyReadExhaust||!s.data.article_content&&!s.isPreview?s._e():c("div",{class:[s.$style.main,(o={},o[s.$style.alienScreen]=s.isAlienScreen,o)]},[c("h1",{class:[s.$style.articleTitle,s.$style.pd]},[s._v("\n        "+s._s(s.data.article_title)+"\n      ")]),s._v(" "),c("div",{class:[s.$style.articleInfo,s.$style.pd]},[s.data.article_ctime?c("span",[s._v(s._s(s._f("formatDate")(s.data.article_ctime)))]):s._e(),s._v(" "),c("span",[s._v(s._s(s.data.author_name))]),s._v(" "),s.isShowColumnEnter?c("div",{class:s.$style.articleInfoAuthor},[c("span",{class:s.$style.authorName},[s._v(s._s(s.column.column_title))]),s._v(" "),c("div",{class:s.$style.articleColumn,on:{click:s.goColumn}},[c("span",[s._v("进入课程")]),s._v(" "),c("div",{class:[s.$style.arrowIcon,"iconfont"]},[s._v("")])])]):s._e()]),s._v(" "),c("div",{ref:"content",class:[s.$style.articleContent,s.$style.pd]},[s.data.article_cover_hidden?s._e():c("img",{class:s.$style.headImg,attrs:{src:s.data.article_cover}}),s._v(" "),s.loginUser&&!s.isInApp?c("Pharmacode",{attrs:{num:s.loginUser.uid}}):s._e(),s._v(" "),s.data.video_url?c("VideoPlayer",{attrs:{data:s.data}}):s._e(),s._v(" "),s.data.audio_url?c("MiniAudioPlayer",{class:s.$style.audio,attrs:{data:s.data,customColor:s.customColor}}):s._e(),s._v(" "),s.content?c("RichContent",{ref:"richContent",class:[s.$style.richContent,(a={},a[s.$style.android]=s.isInAndroidApp,a)],attrs:{content:s.content,canNote:s.canNote,notes:s.notesList,noteid:s.nodeid,customColor:s.customColor,customSize:s.customSize},on:{"update:content":function(t){s.content=t},highlightclicked:s.highlightclicked,note:s.addNote,share:s.shareContent}}):s._e(),s._v(" "),s.unavailable?c("div",{class:s.$style.articleUnavailable},[c("i",{class:["iconfont",s.$style.articleItemView]},[s._v("")]),s._v(" "),c("span",[s._v("该文章仅可免费阅读部分内容，如需阅读完整文章，请订阅文章所属专栏")])]):s._e(),s._v(" "),s.data.column_id?c("div",{class:s.$style.copyright},[c("span",{class:s.$style.bigSize},[s._v("©")]),s._v(" 版权归极客邦科技所有，未经许可不得传播售卖。 页面已增加防盗追踪，如有侵权极客邦将依法追究其法律责任。\n        ")]):s._e()],1),s._v(" "),s.canShowPrevNext&&(s.prevArticle||s.nextArticle)?c("div",{class:[s.$style.switchBtns,s.$style.pd]},[s.prevArticle?c("div",{class:s.$style.btn,on:{touchstart:function(t){t.stopPropagation()},click:function(t){return s.switchArticle(s.prevArticle.id,"prev")}}},[c("div",{class:s.$style.tag},[s._v("上一篇")]),s._v(" "),c("div",{class:s.$style.txt},[s._v(s._s(s.data.neighbors.left.article_title))])]):s._e(),s._v(" "),s.nextArticle?c("div",{class:s.$style.btn,on:{touchstart:function(t){t.stopPropagation()},click:function(t){return s.switchArticle(s.nextArticle.id,"next")}}},[c("div",{class:s.$style.tag},[s._v("下一篇")]),s._v(" "),c("div",{class:s.$style.txt},[s._v(s._s(s.data.neighbors.right.article_title))])]):s._e()]):s._e(),s._v(" "),c("div",{ref:"commentWrap",class:[s.$style.articleComments,s.$style.pd]},[s.isInApp&&(s.data.article_could_preview||s.data.had_freelyread)&&!s.data.column_had_sub&&s.data.column_could_sub||!s.isInApp&&(s.data.column_had_sub||!s.data.sku||s.data.article_could_preview||s.data.had_freelyread)?c("div",{class:["iconfont",s.$style.writeComment],on:{touchstart:function(t){t.stopPropagation()},click:s.jumpComment}},[s._v(" 写留言")]):s._e(),s._v(" "),s.comments.length>0?[c("h2",[c("span",[s._v("精选留言")]),c("span",{class:s.$style.num},[s._v("("+s._s(s.commentCount)+")")])]),s._v(" "),c("ul",s._l(s.comments,function(t,e){return c("comment-item",{key:e,attrs:{data:t,customColor:s.customColor},on:{share:s.sharePoster,moreMenu:s.commentMoreMenuHandle}})}),1)]:[s._m(0),s._v(" "),c("div",{class:s.$style.emptyCommentTip},[s._v("由作者筛选后的优质留言将会公开显示，欢迎踊跃留言。")])]],2)]),s._v(" "),s.isBottomShow?c("SubBottom",{class:s.$style.articleSubBottom},[s.data.freelyread_total>0&&!s.data.article_could_preview?c("div",{class:s.$style.freeReadTipBtn},[c("div",{class:s.$style.count},[s._v(s._s(s.data.freelyread_count)+"/"+s._s(s.data.freelyread_total))]),s._v(" "),s.data.freelyread_count<s.data.freelyread_total?c("div",{class:s.$style.tip},[s._v("你可以任选"),c("b",[s._v(s._s(s.data.freelyread_total))]),s._v("讲全文学习，目前已学"),c("b",[s._v(s._s(s.data.freelyread_count))]),s._v("讲")]):c("div",{class:s.$style.tip},[s._v("你已学"),c("b",[s._v(s._s(s.data.freelyread_count))]),s._v("讲，订阅后可学习全部内容")]),s._v(" "),c("router-link",{class:s.$style.btn,attrs:{to:"/column/intro/"+s.data.column_id+(s.shareSaleCode?"?from=trial&code="+encodeURIComponent(s.shareSaleCode):"?from=trial")}},[s._v("\n          立即购买\n        ")])],1):s.column.is_onborad?c("router-link",{class:s.$style.buttonPrimary,attrs:{to:"/column/intro/"+s.data.column_id+(s.shareSaleCode?"?from=trial&code="+encodeURIComponent(s.shareSaleCode):"?from=trial")}},[s._v("\n        去订阅《"+s._s(s.column.column_title)+"》\n      ")]):c("a",{class:s.$style.buttonCancel},[s._v("已下架")])],1):s._e()],1):s._e(),s._v(" "),s.showStylePanel?c("StylePanel",{attrs:{customColor:s.customColor,customSize:s.customSize,customLight:s.customLight},on:{changeStyle:s.changeStyle,closeChangeStyle:s.toggleStylePanel}}):s._e()],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[i("span",[t._v("精选留言")])])}]}},2233:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.num>0?i("div",{class:t.$style.main},[t._l(t.numbers,function(t,e){return[i("img",{key:e,ref:"img"+e,refInFor:!0,attrs:{src:"#"}})]})],2):t._e()},staticRenderFns:[]}},2240:function(t,e){t.exports={render:function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{ref:"commentWrap",class:e.$style.commentWrap,attrs:{"data-commentnest":"commentNestWrap","data-index":e.index}},[e.totalCommentCount>0?n("div",{class:e.$style.commentTitle},[e._v("评论 "+e._s(e.totalCommentCount>999?"999+":e.totalCommentCount))]):n("div",{class:e.$style.commentTitle},[e._v("还没有评论")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],class:e.$style.loadingWrap},[n("div",{staticClass:"_loading_div_class_"},[n("svg",{staticClass:"spinner spinner--circle",attrs:{width:"30",height:"30",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],class:e.$style.commentList},[e._l(e.rootComments,function(t,i){var r,o,a,s,l;return n("div",{key:i,ref:"rootItem",refInFor:!0,class:e.$style.rootItem},[n("div",{class:e.$style.commentRoot,on:{mouseenter:function(i){return e.mouseEnterHandler(t)},mouseleave:function(i){return e.mouseLeaveHandler(t)}}},[n("img",{class:e.$style.avatar,attrs:{src:e.getUserAvatar(t)}}),e._v(" "),n("div",{class:e.$style.info},[n("div",{class:e.$style.username},[n("span",[e._v(e._s(e._f("cutStr")(t.author.nickname,30)))])]),e._v(" "),n("div",{ref:"con",refInFor:!0,class:[e.$style.bd,(r={},r[e.$style.deleted]=t.discussion.is_delete||t.discussion.is_hidden,r)],domProps:{innerHTML:e._s(e.pretreat(t.discussion.discussion_content))}}),e._v(" "),t.discussion.is_delete||t.discussion.is_hidden?e._e():n("div",{class:e.$style.control},[n("div",{class:e.$style.time},[e._v(e._s(e._f("formatDate")(t.discussion.ctime)))]),e._v(" "),n("div",{class:e.$style.actions},[t.discussion.can_delete?n("div",{class:[e.$style.btnComplain,(o={},o[e.$style.on]=t.isHover,o)],on:{click:function(i){return e.deleteComment(t)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v("删除")])]):e._e(),e._v(" "),t.discussion.can_delete||t.discussion.is_complain?e._e():n("div",{class:[e.$style.btnComplain,(a={},a[e.$style.on]=t.isHover,a)],on:{click:function(i){return e.complainComment(t)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v("投诉")])]),e._v(" "),t.discussion.can_delete?e._e():n("div",{class:e.$style.btnComment,on:{click:function(n){return e.toggleReply(t,i,null)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v(e._s(t.isEdit?"收起":"评论"))])]),e._v(" "),n("div",{class:[e.$style.btnPraise,(s={},s[e.$style.on]=t.discussion.is_liked,s)],on:{click:function(i){return e.praise(t)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v(e._s(t.discussion.likes_number>0?t.discussion.likes_number:""))])])])])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"rootItem.isEdit"}],class:[e.$style.reply,e.$style.replyRoot]},[n("div",{class:e.$style.inputWrap},[n("textarea",{ref:"rootInput",refInFor:!0,class:e.$style.input,attrs:{placeholder:"评论"},on:{keydown:function(n){return n.stopPropagation(),e.keyboardHandler(i,t,null,null)},input:function(i){return e.inputHandler(i,t)}}})]),e._v(" "),n("button",{class:[e.$style.btnSubmit,(l={},l[e.$style.disabled]=!t.activatedBtn,l)],attrs:{disabled:!t.activatedBtn},on:{click:function(n){return e.submitComment(i,t,null,null)}}},[e._v("提交")])]),e._v(" "),t.child_discussions.length>0?n("div",{class:e.$style.commentChildWrap},[e._l(t.child_discussions,function(r,o){var a,s,l,c,u;return n("div",{key:o,class:e.$style.commentChildItem,on:{mouseenter:function(t){return e.mouseEnterHandler(r)},mouseleave:function(t){return e.mouseLeaveHandler(r)}}},[n("img",{class:e.$style.avatar,attrs:{src:e.getUserAvatar(r)}}),e._v(" "),n("div",{class:e.$style.info},[n("div",{class:e.$style.username},[n("span",[e._v(e._s(e._f("cutStr")(r.author.nickname,30)))]),e._v(" "),n("div",{class:["iconfont",e.$style.toIcon]},[e._v("")]),e._v(" "),n("span",[e._v(e._s(e._f("cutStr")(r.reply_author.nickname,30)))])]),e._v(" "),n("div",{ref:"con",refInFor:!0,class:[e.$style.bd,(a={},a[e.$style.deleted]=r.discussion.is_delete||r.discussion.is_hidden,a)],domProps:{innerHTML:e._s(e.pretreat(r.discussion.discussion_content))}}),e._v(" "),r.discussion.is_delete||r.discussion.is_hidden?e._e():n("div",{class:e.$style.control},[n("div",{class:e.$style.time},[e._v(e._s(e._f("formatDate")(r.discussion.ctime)))]),e._v(" "),n("div",{class:e.$style.actions},[r.discussion.can_delete?n("div",{class:[e.$style.btnComplain,(s={},s[e.$style.on]=r.isHover,s)],on:{click:function(t){return e.deleteComment(r)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v("删除")])]):e._e(),e._v(" "),r.discussion.can_delete||r.discussion.is_complain?e._e():n("div",{class:[e.$style.btnComplain,(l={},l[e.$style.on]=r.isHover,l)],on:{click:function(t){return e.complainComment(r)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v("投诉")])]),e._v(" "),r.discussion.can_delete?e._e():n("div",{class:e.$style.btnComment,on:{click:function(t){return e.toggleReply(r,o,i)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v(e._s(r.isEdit?"收起":"评论"))])]),e._v(" "),n("div",{class:[e.$style.btnPraise,(c={},c[e.$style.on]=r.discussion.is_liked,c)],on:{click:function(t){return e.praise(r)}}},[n("i",{class:["iconfont"]},[e._v("")]),e._v(" "),n("span",[e._v(e._s(r.discussion.likes_number>0?r.discussion.likes_number:""))])])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.isEdit,expression:"childItem.isEdit"}],class:[e.$style.reply,e.$style.childReply]},[n("div",{class:e.$style.inputWrap},[n("textarea",{ref:"childInput",refInFor:!0,class:e.$style.input,attrs:{"data-childinput":"childInput",placeholder:"评论"},on:{keydown:function(n){return n.stopPropagation(),e.keyboardHandler(o,r,i,t)},input:function(t){return e.inputHandler(t,r)}}})]),e._v(" "),n("button",{class:[e.$style.btnSubmit,(u={},u[e.$style.disabled]=!r.activatedBtn,u)],attrs:{disabled:!r.activatedBtn},on:{click:function(n){return e.submitComment(o,r,i,t)}}},[e._v("提交")])])])])}),e._v(" "),t.child_discussion_number>t.child_discussions.length?n("div",{class:e.$style.btnMore,on:{click:function(i){return e.requestMoreChildComments(t)}}},[n("span",[e._v("展开更多")]),e._v(" "),n("span",{class:["iconfont"]},[e._v("")])]):e._e()],2):e._e()])}),e._v(" "),e.totalPage>1?n("div",{class:e.$style.paginationWrap},[n("Pagination",{attrs:{size:e.totalPage,current:e.currentPage},on:{gotoPage:e.requestRootComments}})],1):e._e()],2),e._v(" "),n("div",{class:[e.$style.reply,e.$style.replyFooter]},[e.loginUser?n("div",{class:e.$style.inputWrap},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.footerComment,expression:"footerComment"}],ref:"footerInput",class:e.$style.input,attrs:{placeholder:"友善的评论是交流的起点"},domProps:{value:e.footerComment},on:{keydown:function(t){return t.stopPropagation(),e.keyboardFooterHandler(t)},input:[function(t){t.target.composing||(e.footerComment=t.target.value)},e.inputFooterHandler]}})]):n("div",{class:[e.$style.inputWrap,e.$style.disabledFooterInput]},[n("span",{class:e.$style.login,on:{click:e.goLogin}},[e._v("登录")]),e._v("后可评论，我们等你一鸣惊人")]),e._v(" "),n("button",{class:[e.$style.btnSubmit,e.$style.btnFooter,(t={},t[e.$style.disabled]=!e.activatedFooterBtn,t)],attrs:{disabled:!e.activatedFooterBtn},on:{click:e.submitFooterComment}},[e._v("提交")])])])},staticRenderFns:[]}},2264:function(t,e){t.exports={render:function(){var t,e,i,n,r,o,a,s,l,c=this,u=c.$createElement,d=c._self._c||u;return d("transition",{attrs:{"enter-class":c.$style.enter,"enter-active-class":c.$style.enterActive,"leave-active-class":c.$style.leaveActive,"leave-to-class":c.$style.leaveTo}},[d("div",{class:c.$style.maskLayerWrap,on:{touchstart:function(t){t.stopPropagation()}}},[c.isInApp?d("div",{class:[c.$style.white,(t={},t[c.$style.android]=c.isInAndroidApp,t),(e={},e[c.$style.yellow]="yellow"===c.customColor,e),(i={},i[c.$style.black]="black"===c.customColor,i)],on:{touchmove:function(t){t.preventDefault()}}},[d("div",{class:c.$style.row},[d("div",{class:c.$style.label},[c._v("字号")]),c._v(" "),d("div",{class:c.$style.con},[d("div",{class:c.$style.size},[d("div",{class:[c.$style.item,(n={},n[c.$style.on]="small"===c.customSize,n)],on:{click:function(t){return c.changeStyle("customSize","small")}}},[c._v("小")]),c._v(" "),d("div",{class:[c.$style.item,(r={},r[c.$style.on]="middle"===c.customSize,r)],on:{click:function(t){return c.changeStyle("customSize","middle")}}},[c._v("中")]),c._v(" "),d("div",{class:[c.$style.item,(o={},o[c.$style.on]="big"===c.customSize,o)],on:{click:function(t){return c.changeStyle("customSize","big")}}},[c._v("大")])])])]),c._v(" "),d("div",{class:c.$style.row},[d("div",{class:c.$style.label},[c._v("颜色")]),c._v(" "),d("div",{class:c.$style.con},[d("div",{class:c.$style.color},[d("div",{class:[c.$style.item,c.$style.whiteColor,(a={},a[c.$style.on]="white"===c.customColor,a)],on:{click:function(t){return c.changeStyle("customColor","white")}}}),c._v(" "),d("div",{class:[c.$style.item,c.$style.yellowColor,(s={},s[c.$style.on]="yellow"===c.customColor,s)],on:{click:function(t){return c.changeStyle("customColor","yellow")}}}),c._v(" "),d("div",{class:["iconfont",c.$style.item,c.$style.blackColor,(l={},l[c.$style.on]="black"===c.customColor,l)],on:{click:function(t){return c.changeStyle("customColor","black")}}},[c._v("")])])])]),c._v(" "),d("div",{class:c.$style.row},[d("div",{class:c.$style.label},[c._v("亮度")]),c._v(" "),d("div",{class:c.$style.con},[d("div",{class:c.$style.light},[d("div",{class:[c.$style.lightIcon,c.$style.lessLight,"iconfont"]},[c._v("")]),c._v(" "),d("SlideBar",{class:c.$style.slideBar,attrs:{min:1,max:100,customColor:c.customColor},model:{value:c.opacity,callback:function(t){c.opacity=t},expression:"opacity"}}),c._v(" "),d("div",{class:[c.$style.lightIcon,c.$style.moreLight,"iconfont"]},[c._v("")])],1)])])]):c._e(),c._v(" "),d("div",{class:c.$style.maskLayer,on:{click:c.close}})])])},staticRenderFns:[]}},2292:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{class:t.$style.main},[i("div",{class:t.$style.left,on:{click:t.goColumn}},[i("i",{class:["iconfont",t.$style.icon]},[t._v("")]),i("span",[t._v(t._s(t.columnTitle))])]),t._v(" "),i("div",{class:t.$style.right},[i("span",{on:{click:t.goHome}},[t._v("首页")]),i("span",{class:t.$style.split},[t._v("|")]),t.loginUser?i("span",{class:["iconfont"],on:{click:t.goAccount}},[t._v("")]):i("span",{on:{click:t.goLogin}},[t._v("登录")])])]):t._e()},staticRenderFns:[]}},2293:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.content,expression:"content"}],ref:"text",class:t.$style.main,domProps:{innerHTML:t._s(t.richContent)}})])},staticRenderFns:[]}},2304:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isMobilePage?i("ArticleMobile",{ref:"articleMobile"}):t.isPCPage?i("ArticlePC",{attrs:{columnData:t.columnData,articleData:t.articleData,articleListData:t.articleListData},on:{inited:t.articlePCPageInited}}):t._e()},staticRenderFns:[]}},2316:function(t,e){t.exports={render:function(){var t,e,i=this,n=i.$createElement,r=i._self._c||n;return r("div",{class:[i.$style.white,i.$style.horizontal,(t={},t[i.$style.yellow]="yellow"===i.customColor,t),(e={},e[i.$style.black]="black"===i.customColor,e)],attrs:{id:"vue-slide-bar-wrap"},on:{click:i.wrapClick}},[r("div",{ref:"elem",class:i.$style.main,attrs:{id:"slider"}},[r("div",{ref:"tooltip",class:[i.$style.always,i.$style.tooltipContainer],on:{mousedown:i.moveStart,touchstart:i.moveStart}},[r("span",{class:i.$style.tooltipTop})]),i._v(" "),r("div",{ref:"process",class:i.$style.process,style:i.processStyle})])])},staticRenderFns:[]}},2323:function(t,e){t.exports={render:function(){var t,e,i,n,r=this,o=r.$createElement,a=r._self._c||o;return a("li",[r.isDeletedComment?r._e():a("div",{class:[r.$style.main,(t={},t[r.$style.expand]=r.isShowCommentNest,t)]},[a("img",{class:r.$style.avatar,attrs:{src:r.userHeader||r.defaultAvatar}}),r._v(" "),a("div",{class:r.$style.info},[a("div",{class:r.$style.username},[a("span",[r._v(r._s(r._f("cutStr")(r.userName,30)))]),r._v(" "),r.data.comment_is_top?a("span",{class:r.$style.topTag},[r._v("置顶")]):r._e()]),r._v(" "),a("div",{ref:"con",class:[r.$style.bd,(e={},e[r.$style.showAll]=r.showAll,e)],domProps:{innerHTML:r._s(r.pretreat(r.data.comment_content))}}),r._v(" "),r.data.replies&&r.data.replies[0]?a("div",{class:r.$style.reply},[a("p",{class:r.$style.content,domProps:{innerHTML:r._s(r.data.replies[0].user_name+": "+r.pretreat(r.data.replies[0].content))}})]):r._e(),r._v(" "),a("div",{class:r.$style.control},[a("div",{class:r.$style.time},[r._v(r._s(r._f("formatDate")(r.data.comment_ctime)))]),r._v(" "),a("div",{class:r.$style.actions},[r.isOwner?a("div",{class:[r.$style.btnMore,"iconfont"],on:{click:r.deleteComment}},[a("i",{class:["iconfont"]},[r._v("")]),r._v(" "),a("span",[r._v("删除")])]):r._e(),r._v(" "),a("div",{class:r.$style.btnComment,on:{click:r.expandComment}},[a("i",{class:["iconfont"]},[r._v("")]),r._v(" "),r.isShowCommentNest?a("span",[r._v("收起")]):a("span",[r._v(r._s(r.totalCommentCount))])]),r._v(" "),a("div",{class:r.$style.btnPraise,on:{click:r.praise}},[a("i",{class:["iconfont",(i={},i[r.$style.on]=r.data.had_liked,i)]},[r._v(r._s(r.data.had_liked?" ":""))]),r._v(" "),a("span",{class:[(n={},n[r.$style.on]=r.data.had_liked,n)]},[r._v(r._s(r.data.like_count>0?r.data.like_count:""))])])])])])]),r._v(" "),r.isShowCommentNest?a("CommentNest",{attrs:{commentId:r.data.id,commentCount:r.commentCount,index:r.index},on:{changeCommentCount:r.commentCountChangeHandler,scrollto:r.scrolltoCommentHandler,loaded:r.loadedCommentHandler}}):r._e()],1)},staticRenderFns:[]}},608:function(t,e,i){var n=i(22)(i(1428),i(2304),null,null,null);t.exports=n.exports},653:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},656:function(t,e,i){"use strict";var n=i(218),r=i.n(n),o=i(143),a=i.n(o),s=i(44),l=i.n(s),c=i(144),u=i(101),d=i.n(u),h=i(65),f=i(215),p=i(662);e.a={request:function(t,e){return new l.a(function(i,n){c.a.post(t,e).then(function(t){200===t.status&&0===t.data.code?i(t.data.data):n(t)},function(t){n(t)})})},subscribe:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/column/subscribe",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},checkQrPay:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/trade/verify",{order_no:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getColumnInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new l.a(function(i,n){c.a.post(f.a.timeServer+"/serv/v1/column/intro",{cid:t,with_groupbuy:e}).then(function(t){200===t.status&&0===t.data.code?i(t.data.data):n(t)}).catch(function(t){n(t)})})},getGroupBuyList:function(){return new l.a(function(t,e){c.a.post(f.a.timeServer+"/serv/v1/groupbuy/list",{}).then(function(i){200===i.status&&0===i.data.code?t(i.data.data):"-2000"===String(i.data.error.code)?h.a.login():e(i)}).catch(function(t){e(t)})})},getGroupBuyInfo:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/groupbuy/info",{code:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):"-2000"===String(t.data.error.code)?h.a.login():i(t)}).catch(function(t){i(t)})})},getCoupons:function(t){return new l.a(function(e,i){c.a.post("https://cashier.geekbang.org/serv/v1/coupons",{goods:[{sku:t.sku,num:1,amount:t.price}],rsp_list:!1,orderby:"discount_amount"}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):"-2000"===String(t.data.error.code)?h.a.login():i(t)}).catch(function(t){i(t)})})},checkPosterMd5:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/column/postersexist",{md5:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data.res_url):"-2000"===String(t.data.error.code)?h.a.login():i(t)}).catch(function(t){i(t)})})},uploadPoster:function(t,e){var n=this;return new l.a(function(e,r){var o=i.i(p.a)(t);n.checkPosterMd5(o).then(function(t){e(t)}).catch(function(i){c.a.post(f.a.timeServer+"/serv/v1/column/createposter",{file:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data.res_url):"-2000"===String(t.data.error.code)?h.a.login():r(t)}).catch(function(t){r(t)})})})},getChapters:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/chapters",{cid:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getArticles:function(t,e,i,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments[5],s={};return o&&o.length>0&&(s.chapter_ids=o),new l.a(function(o,l){c.a.post(f.a.timeServer+"/serv/v1/column/articles",a()({cid:t,size:n||20,prev:e,order:i,sample:r},s)).then(function(t){200===t.status&&0===t.data.code?o(t.data.data):l(t)}).catch(function(t){l(t)})})},getNewUpdate:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/column/articles/latest",{cid:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getArticle:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/article",h.a.camelCaseToUnderscore(t)).then(function(t){if(200===t.status&&0===t.data.code)e(t.data.data);else if(t.data&&t.data.error&&"-3371"===String(t.data.error.code)&&t.data.data.cid){var n=t.data.data;n.article_content=n.article_content_short,n.unavailable=!0,e(n)}else i(t)}).catch(function(t){i(t)})})},getArticleComments:function(t,e){return new l.a(function(i,n){c.a.post(f.a.timeServer+"/serv/v1/comments",{aid:t,prev:e||0}).then(function(t){200===t.status&&0===t.data.code?i(t.data.data):n(t)}).catch(function(t){n(t)})})},getRootDiscussions:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/discussion/v1/root_list",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getChildDiscussions:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/discussion/v1/child_list",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},addDiscussion:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/discussion/v1/add",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},deleteDiscussion:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/discussion/v1/delete",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},complainDiscussion:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/discussion/v1/complain",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},postArticleComment:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/comment/store",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},likeArticle:function(t,e,i){return new l.a(function(n,r){c.a.post(f.a.timeServer+"/serv/v1/like/store",{like_obj_id:t,like_obj:e,source:i}).then(function(t){200===t.status&&0===t.data.code?n(t.data.data):r(t)}).catch(function(t){r(t)})})},unlikeArticle:function(t,e,i){return new l.a(function(n,r){c.a.post(f.a.timeServer+"/serv/v1/like/destroy",{like_obj_id:t,like_obj:e,source:i}).then(function(t){200===t.status&&0===t.data.code?n(t.data.data):r(t)}).catch(function(t){r(t)})})},syncStudyProgress:function(t,e,i){return new l.a(function(n,r){var o={};3===i&&(o.video_play_seconds=e),2===i&&(o.audio_listen_seconds=e),1===i&&(o.text_read_percent=e.position,o.text_read_version=e.version),c.a.post(f.a.timeServer+"/serv/v1/article/progress/store",a()({article_type:i,article_id:t},o)).then(function(t){200===t.status&&0===t.data.code?n(t.data.data):r(t)}).catch(function(t){r(t)})})},getSpecial:function(){return new l.a(function(t,e){d.a.get("//static001.geekbang.org/static/special/special.json?v="+ +new Date).then(function(i){200===i.status?t(i.data):e(i)}).catch(function(t){e(t)})})},getEncryptVideoPlayAuth:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v3/source_auth/video_play_auth",{source_type:t.sourceType,aid:t.aid,video_id:t.encryptVideoId}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getGoods:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/columns",{column_type:t}).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getAllGoods:function(){return new l.a(function(t,e){c.a.post(f.a.timeServer+"/serv/v1/column/all").then(function(i){200===i.status&&0===i.data.code?t(i.data.data):e(i)}).catch(function(t){e(t)})})},requestColumnSaleShare:function(t,e){return new l.a(function(i,n){var r={cid:t};e&&(r.ignore_poster_data=e),c.a.post(f.a.timeServer+"/serv/v1/column/sharesale",r).then(function(t){200===t.status&&0===t.data.code?i(t.data.data):n(t)}).catch(function(t){n(t)})})},addNote:function(t,e,i,n,r,o,a){return this.request(f.a.timeServer+"/serv/v1/lineshare/store",{type:t,type_id:e,article_id:i,note:n,part:r,part_index:o,ext:a})},updateNote:function(t,e){return this.request(f.a.timeServer+"/serv/v1/lineshare/update",{id:t,note:e})},reportProgress:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"read";return this.request(f.a.timeServer+"/serv/v1/column/progress/store",{column_id:t,article_id:e,action:i})},delNote:function(t){return this.request(f.a.timeServer+"/serv/v1/lineshare/delete",{id:t})},getAllNote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.request(f.a.timeServer+"/serv/v1/lineshare/getListAll",{type:t})},getNoteMore:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.request(f.a.timeServer+"/serv/v1/lineshare/getListByType",{nav_id:t,prev:e,size:i})},getNoteList:function(t){return this.request(f.a.timeServer+"/serv/v1/lineshare/getListByTypeId",{type_id:t})},getNoteByAid:function(t){return this.request(f.a.timeServer+"/serv/v1/lineshare/getListByArticleId",{article_id:t})},getProducts:function(){return this.request(f.a.timeServer+"/serv/v1/my/products/all")},getProductsMore:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.request(f.a.timeServer+"/serv/v1/my/products/list",{nav_id:t,prev:e,size:i})},deleteComment:function(t){return new l.a(function(e,i){c.a.post(f.a.timeServer+"/serv/v1/comment/destroy",t).then(function(t){200===t.status&&0===t.data.code?e(t.data.data):i(t)}).catch(function(t){i(t)})})},getAllComments:function(){return this.request(f.a.timeServer+"/serv/v1/my/comment/products/all")},getNavCommentsMore:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.request(f.a.timeServer+"/serv/v1/my/comment/products",{nav_id:t,prev:e,size:i})},getColumnCommentsMore:function(t){var e,i=t.id,n=t.idName,o=t.prev,a=t.size,s=void 0===a?10:a,l=t.orderby;return this.request(f.a.timeServer+"/serv/v1/my/comments",(e={},r()(e,n,i),r()(e,"prev",o),r()(e,"size",s),r()(e,"orderby",l),e))},getCommentDetail:function(t){var e=t.id;return this.request(f.a.timeServer+"/serv/v1/comment",{id:e})},getColumnRelate:function(t){var e=t.sku,i=t.number,n=void 0===i?4:i;return this.request(f.a.timeServer+"/serv/v3/column/relate",{product_id:e,number:n})},getColumnInfoAd:function(){var t={key:"column_info_ad"};return this.request(f.a.timeServer+"/serv/v2/config/info",t)}}},661:function(t,e,i){"use strict";e.__esModule=!0;var n=i(674),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,r.default)(t)}},662:function(t,e,i){"use strict";function n(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function r(t,e){return t<<e|t>>>32-e}function o(t,e,i,o,a,s){return n(r(n(n(e,t),n(o,s)),a),i)}function a(t,e,i,n,r,a,s){return o(e&i|~e&n,t,e,r,a,s)}function s(t,e,i,n,r,a,s){return o(e&n|i&~n,t,e,r,a,s)}function l(t,e,i,n,r,a,s){return o(e^i^n,t,e,r,a,s)}function c(t,e,i,n,r,a,s){return o(i^(e|~n),t,e,r,a,s)}function u(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var i,r,o,u,d,h=1732584193,f=-271733879,p=-1732584194,g=271733878;for(i=0;i<t.length;i+=16)r=h,o=f,u=p,d=g,h=a(h,f,p,g,t[i],7,-680876936),g=a(g,h,f,p,t[i+1],12,-389564586),p=a(p,g,h,f,t[i+2],17,606105819),f=a(f,p,g,h,t[i+3],22,-1044525330),h=a(h,f,p,g,t[i+4],7,-176418897),g=a(g,h,f,p,t[i+5],12,1200080426),p=a(p,g,h,f,t[i+6],17,-1473231341),f=a(f,p,g,h,t[i+7],22,-45705983),h=a(h,f,p,g,t[i+8],7,1770035416),g=a(g,h,f,p,t[i+9],12,-1958414417),p=a(p,g,h,f,t[i+10],17,-42063),f=a(f,p,g,h,t[i+11],22,-1990404162),h=a(h,f,p,g,t[i+12],7,1804603682),g=a(g,h,f,p,t[i+13],12,-40341101),p=a(p,g,h,f,t[i+14],17,-1502002290),f=a(f,p,g,h,t[i+15],22,1236535329),h=s(h,f,p,g,t[i+1],5,-165796510),g=s(g,h,f,p,t[i+6],9,-1069501632),p=s(p,g,h,f,t[i+11],14,643717713),f=s(f,p,g,h,t[i],20,-373897302),h=s(h,f,p,g,t[i+5],5,-701558691),g=s(g,h,f,p,t[i+10],9,38016083),p=s(p,g,h,f,t[i+15],14,-660478335),f=s(f,p,g,h,t[i+4],20,-405537848),h=s(h,f,p,g,t[i+9],5,568446438),g=s(g,h,f,p,t[i+14],9,-1019803690),p=s(p,g,h,f,t[i+3],14,-187363961),f=s(f,p,g,h,t[i+8],20,1163531501),h=s(h,f,p,g,t[i+13],5,-1444681467),g=s(g,h,f,p,t[i+2],9,-51403784),p=s(p,g,h,f,t[i+7],14,1735328473),f=s(f,p,g,h,t[i+12],20,-1926607734),h=l(h,f,p,g,t[i+5],4,-378558),g=l(g,h,f,p,t[i+8],11,-2022574463),p=l(p,g,h,f,t[i+11],16,1839030562),f=l(f,p,g,h,t[i+14],23,-35309556),h=l(h,f,p,g,t[i+1],4,-1530992060),g=l(g,h,f,p,t[i+4],11,1272893353),p=l(p,g,h,f,t[i+7],16,-155497632),f=l(f,p,g,h,t[i+10],23,-1094730640),h=l(h,f,p,g,t[i+13],4,681279174),g=l(g,h,f,p,t[i],11,-358537222),p=l(p,g,h,f,t[i+3],16,-722521979),f=l(f,p,g,h,t[i+6],23,76029189),h=l(h,f,p,g,t[i+9],4,-640364487),g=l(g,h,f,p,t[i+12],11,-421815835),p=l(p,g,h,f,t[i+15],16,530742520),f=l(f,p,g,h,t[i+2],23,-995338651),h=c(h,f,p,g,t[i],6,-198630844),g=c(g,h,f,p,t[i+7],10,1126891415),p=c(p,g,h,f,t[i+14],15,-1416354905),f=c(f,p,g,h,t[i+5],21,-57434055),h=c(h,f,p,g,t[i+12],6,1700485571),g=c(g,h,f,p,t[i+3],10,-1894986606),p=c(p,g,h,f,t[i+10],15,-1051523),f=c(f,p,g,h,t[i+1],21,-2054922799),h=c(h,f,p,g,t[i+8],6,1873313359),g=c(g,h,f,p,t[i+15],10,-30611744),p=c(p,g,h,f,t[i+6],15,-1560198380),f=c(f,p,g,h,t[i+13],21,1309151649),h=c(h,f,p,g,t[i+4],6,-145523070),g=c(g,h,f,p,t[i+11],10,-1120210379),p=c(p,g,h,f,t[i+2],15,718787259),f=c(f,p,g,h,t[i+9],21,-343485551),h=n(h,r),f=n(f,o),p=n(p,u),g=n(g,d);return[h,f,p,g]}function d(t){var e,i="",n=32*t.length;for(e=0;e<n;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function h(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function f(t){return d(u(h(t),8*t.length))}function p(t,e){var i,n,r=h(t),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=u(r,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^r[i],a[i]=1549556828^r[i];return n=u(o.concat(h(e)),512+8*e.length),d(u(a.concat(n),640))}function g(t){var e,i,n="0123456789abcdef",r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function m(t){return unescape(encodeURIComponent(t))}function _(t){return f(m(t))}function v(t){return g(_(t))}function y(t,e){return p(m(t),m(e))}function b(t,e){return g(y(t,e))}function x(t,e,i){return e?i?y(e,t):b(e,t):i?_(t):v(t)}e.a=x},668:function(t,e,i){"use strict";function n(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];if(!t||!t&&t.childNodes)return null;for(var o=Number(window.getComputedStyle(t).lineHeight.replace("px","")),a=0;a<t.childNodes.length;a++){var s=t.childNodes[a];if("#text"===s.nodeName)for(var l=u(s.textContent,r),c=0,d=document.createRange(),h=0;h<l.length;h++){var f=l[h].length;d.setStart(s,c),d.setEnd(s,c+f);for(var p=d.getClientRects(),g=0;g<p.length;g++){var m=p[g];o=o||m.height;var _=(o-m.height)/2;if(m.left<e&&m.right>e&&m.top-_<i&&m.bottom+_>i){for(var y=[],b=0;b<p.length;b++){var x=p[b];y.push(v()({},x,{top:x.top-_,height:o,bottom:x.bottom+_,left:x.left,right:x.right,width:x.width}))}return{node:s,rects:y,textRects:p,index:c,wordsLength:f}}}c+=f}else{if("#comment"===s.nodeName)continue;var w=n(s,e,i,r);if(w)return w}}return null}function r(t,e,i,n){if(!t||!t&&t.childNodes)return null;for(var o=Number(window.getComputedStyle(t).lineHeight.replace("px","")),a=0;a<t.childNodes.length;a++){var s=t.childNodes[a],l=null;if("#text"===s.nodeName)for(var c=[].concat(m()(s.textContent)),u=document.createRange(),d=0;d<c.length;d++){u.setStart(s,d),u.setEnd(s,d+1);var h=void 0,f=void 0,p=u.getClientRects(),g=void 0;if(p.length>1)g=p[1];else{if(1!==p.length)continue;g=p[0]}o=o||g.height;var _=(o-g.height)/2;if(g.top-_<=i&&g.bottom+_>=i){l={x:g.left,y:g.top-_,height:o,index:d,node:s};try{u.setStart(s,d+1),u.setEnd(s,d+2);var v=u.getClientRects();f=v.length>1?v[1]:1===v.length?v[0]:null}catch(t){f=null}var y=void 0===h||h&&h.bottom<=g.top,b=null===f||f&&f.top>=g.bottom;if(e<g.right){var x=e<(g.left+g.right)/2;return(!y||n)&&(x||b&&n)||(l.x+=g.width,l.index+=1),l}if(b&&void 0===t.childNodes[a+1]&&(!t.nextSibling||t.nextSibling&&"#text"!==t.nextSibling.nodeName))return n||(l.x+=g.width,l.index+=1),l}h=g}else{if("#comment"===s.nodeName)continue;var w=r(s,e,i,n);if(w)return w}}return null}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return{x:(t.clientX||t.changedTouches[0].clientX)+e.x,y:(t.clientY||t.changedTouches[0].clientY)+e.y}}function a(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function s(t){if("number"==typeof t)return t;if("string"==typeof t){if(t.indexOf("px")>-1)return Number(t.replace("px",""));if(t.indexOf("rem")>-1){var e=Number((document.documentElement.style.fontSize||"24px").replace("px",""));return Number(t.replace("rem",""))*e}return Number(t)}return 0}function l(t,e,i){var n=document.createRange(),r=void 0===e?0:e,o=void 0===i?t.textContent.length:i;try{return n.setStart(t,r),n.setEnd(t,o),f(n.getClientRects())}catch(t){return console.error("EasyMarkerError:",t),[]}}function c(t,e){return t.isSet?(t.y-=e.y,t.x-=e.x,t):t}function u(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=e.reduce(function(t,e){return""===e?t:""===t?"\\"+e:t+"|\\"+e},""),n=new RegExp("("+i+")"),r=t.split(n),o=[],a=0;a<r.length;a+=2){var s=r[a]+(r[a+1]||"");s.length>0&&o.push(s)}return o}function d(t,e,i,n){return i.top-n<=e&&i.bottom+n>=e&&i.left<=t&&i.right>=t}function h(t){return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function f(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}function p(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="",n=e.replace(/\s+/g,""),r=0,o=0;r<t.length;r++){if(o>=n.length)return i;t[r]===n[o]?(i+=t[r],o++):t[r].match(/\n|\r|\s/)?""!==i&&(i+=t[r]):(o=0,i="")}return i}e.c=n,e.b=r,e.e=o,e.j=a,e.h=s,e.g=l,e.d=c,e.i=d,e.f=h,e.a=p;var g=i(661),m=i.n(g),_=i(36),v=i.n(_)},674:function(t,e,i){t.exports={default:i(683),__esModule:!0}},675:function(t,e){t.exports={L:1,M:0,Q:3,H:2}},676:function(t,e,i){function n(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}var r=i(677);n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<t.getLength();o++)e[i+o]^=r.gexp(r.glog(this.get(i))+r.glog(t.get(o)));return new n(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(var o=0;o<t.getLength();o++)i[o]^=r.gexp(r.glog(t.get(o))+e);return new n(i,0).mod(t)}},t.exports=n},677:function(t,e){for(var i={glog:function(t){if(t<1)throw new Error("glog("+t+")");return i.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return i.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)i.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)i.EXP_TABLE[n]=i.EXP_TABLE[n-4]^i.EXP_TABLE[n-5]^i.EXP_TABLE[n-6]^i.EXP_TABLE[n-8];for(var n=0;n<255;n++)i.LOG_TABLE[i.EXP_TABLE[n]]=n;t.exports=i},678:function(t,e){t.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},679:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=function(){function t(){r()(this,t),this.element=null,this.container=document.body}return a()(t,[{key:"createElement",value:function(){}},{key:"mount",value:function(){this.container.appendChild(this.element)}},{key:"show",value:function(){this.style.display="block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"destroy",value:function(){this.element&&this.element.parentElement.removeChild(this.element)}},{key:"style",get:function(){return this.element.style}},{key:"isShow",get:function(){return"none"===this.style.display}}]),t}();e.a=s},680:function(t,e,i){t.exports={default:i(813),__esModule:!0}},681:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(808),o=n(r),a=i(686),s=n(a),l=i(147),c=n(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},682:function(t,e,i){"use strict";e.__esModule=!0;var n=i(147),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},683:function(t,e,i){i(145),i(685),t.exports=i(10).Array.from},684:function(t,e,i){"use strict";var n=i(37),r=i(76);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},685:function(t,e,i){"use strict";var n=i(75),r=i(32),o=i(100),a=i(224),s=i(223),l=i(146),c=i(684),u=i(219);r(r.S+r.F*!i(225)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,d,h=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,_=0,v=u(h);if(m&&(g=n(g,p>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(e=l(h.length),i=new f(e);e>_;_++)c(i,_,m?g(h[_],_):h[_]);else for(d=v.call(h),i=new f;!(r=d.next()).done;_++)c(i,_,m?a(d,g,[r.value,_],!0):r.value);return i.length=_,i}})},686:function(t,e,i){t.exports={default:i(702),__esModule:!0}},699:function(t,e,i){"use strict";function n(t,e){e.close=function(){t.dispatch("removeGlobalLayer","bottom-menu-generate")};var i={name:"bottom-menu-generate",render:function(t){return t(d.a,{props:{data:e}})}};t.dispatch("addGlobalLayer",i)}function r(t,e){var i={component:{close:function(){t.dispatch("removeGlobalLayer","preview-img-generate")}},data:e},n={name:"preview-img-generate",render:function(t){return t(f.a,{props:i})}};t.dispatch("addGlobalLayer",n)}function o(t,e,i,n){var r=c()({close:function(){i.dispatch("removeGlobalLayer",e)}},n.on||{}),o={name:e,render:function(e){return e(t,{props:{data:n},on:r})}};i.dispatch("addGlobalLayer",o)}function a(t,e){o(_.a,"pc-modal",t,e)}function s(t,e){o(g.a,"mobile-modal",t,e)}e.b=n,e.c=r,e.d=a,e.a=s;var l=i(143),c=i.n(l),u=i(766),d=i.n(u),h=i(768),f=i.n(h),p=i(767),g=i.n(p),m=i(765),_=i.n(m)},700:function(t,e,i){"use strict";function n(t){var e=t.target;switch(t.type){case"touchstart":case"mousedown":k=[],_=!0,(!d.start||d.start.length<2)&&(d.start=L.getPosOfEvent(t)),L.getFingers(t)>=2&&(E=parseInt(L.getAngle180(d.start[0],d.start[1]),10)),h=Date.now(),m={};var i=e.getBoundingClientRect(),n=document.documentElement;m={top:i.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)},O.hold(t);break;case"touchmove":case"mousemove":if(!_||!d.start)return;d.move=L.getPosOfEvent(t),L.getFingers(t)>=2?O.pinch(t):w?O.rotateSingleFinger(t):O.swipe(t);break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":if(!_)return;p?O.pinch(t):w?O.rotateSingleFinger(t):f?O.swipe(t):O.tap(t),L.reset(),E=0,T=0,t.touches&&1===t.touches.length&&(_=!0,w=!0)}}function r(){var t,e,i,n,r=arguments;if(r.length<2||r>4)return console.error("unexpected arguments!");var o="string"===L.getType(r[0])?document.querySelectorAll(r[0]):r[0];if(o=o.length?Array.prototype.slice.call(o):[o],3===r.length&&"string"===L.getType(r[1]))return t=r[1].split(" "),e=r[2],void t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),o.forEach(function(i){P.bind(i,t,e)})});if(3!==r.length||"object"!==L.getType(r[1]))if(2!==r.length||"object"!==L.getType(r[1])){if(4===r.length&&"object"===L.getType(r[2]))return t=r[1].split(" "),e=r[3],void t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),o.forEach(function(i){P.bind(i,t,e)})});if(4===r.length){var a=o[0];return t=r[1].split(" "),n=r[2],e=r[3],void t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),P.delegate(a,t,n,e)})}}else{i=r[1];for(var s in i)!function(t){L.hasTouch||(t=L.getPCevts(t)),o.forEach(function(e){P.bind(e,t,i[t])})}(s)}else{i=r[1],n=r[2];for(var l in i)!function(t){L.hasTouch||(t=L.getPCevts(t)),o.forEach(function(e){P.delegate(e,t,n,i[t])})}(l)}}function o(){var t,e,i=arguments;if(i.length<1||i.length>4)return console.error("unexpected arguments!");var n="string"===L.getType(i[0])?document.querySelectorAll(i[0]):i[0];if(n=n.length?Array.prototype.slice.call(n):[n],1===i.length||2===i.length)return void n.forEach(function(e){t=i[1]?i[1].split(" "):l()(e.listeners),t.length&&t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),P.unbind(e,t),P.undelegate(e,t)})});if(3===i.length&&"function"===L.getType(i[2]))return e=i[2],void n.forEach(function(n){t=i[1].split(" "),t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),P.unbind(n,t,e)})});if(3===i.length&&"string"===L.getType(i[2])){var r=i[2];return void n.forEach(function(e){t=i[1].split(" "),t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),P.undelegate(e,t,r)})})}return 4===i.length?(e=i[3],void n.forEach(function(n){t=i[1].split(" "),t.forEach(function(t){L.hasTouch||(t=L.getPCevts(t)),P.undelegate(n,t,r,e)})})):void 0}function a(t,e,i){var n=arguments;L.hasTouch||(e=L.getPCevts(e));var r="string"===L.getType(n[0])?document.querySelectorAll(n[0]):n[0];r=r.length?Array.prototype.call(r):[r],r.forEach(function(t){P.trigger(t,e,i)})}var s=i(227),l=i.n(s),c=i(686),u=i.n(c),d={start:null,move:null,end:null},h=0,f=!1,p=!1,g=!1,m={},_=!1,v=null,y=!1,b=null,x=1,w=!1,k=[],E=0,T=0,S=0,A=null,C={tap:!0,doubleTap:!0,tapMaxDistance:10,hold:!0,tapTime:200,holdTime:650,maxDoubleTapInterval:300,swipe:!0,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:!0,pinch:!0,minScaleRate:0,minRotationAngle:0},R={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",PINCH_START:"pinchstart",PINCH_END:"pinchend",PINCH:"pinch",PINCH_IN:"pinchin",PINCH_OUT:"pinchout",ROTATION_LEFT:"rotateleft",ROTATION_RIGHT:"rotateright",ROTATION:"rotate",SWIPE_START:"swipestart",SWIPING:"swiping",SWIPE_END:"swipeend",SWIPE_LEFT:"swipeleft",SWIPE_RIGHT:"swiperight",SWIPE_UP:"swipeup",SWIPE_DOWN:"swipedown",SWIPE:"swipe",DRAG:"drag",DRAGSTART:"dragstart",DRAGEND:"dragend",HOLD:"hold",TAP:"tap",DOUBLE_TAP:"doubletap"},L={};L.PCevts={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"mouseout"},L.hasTouch="ontouchstart"in window,L.getType=function(t){return Object.prototype.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},L.getSelector=function(t){if(t.id)return"#"+t.id;if(t.className){return"."+t.className.split(/\s+/).join(".")}return t===document?"body":t.tagName.toLowerCase()},L.matchSelector=function(t,e){return t.webkitMatchesSelector(e)},L.getEventListeners=function(t){return t.listeners},L.getPCevts=function(t){return this.PCevts[t]||t},L.forceReflow=function(){var t=document.getElementById("reflowDivBlock");t||(t=document.createElement("div"),t.id="reflowDivBlock",document.body.appendChild(t));var e=t.parentNode,i=t.nextSibling;e.removeChild(t),e.insertBefore(t,i)},L.simpleClone=function(t){return u()(t)},L.getPosOfEvent=function(t){if(this.hasTouch){for(var e=[],i=null,n=0,r=t.touches.length;n<r;n++)i=t.touches[n],e.push({x:i.pageX,y:i.pageY});return e}return[{x:t.pageX,y:t.pageY}]},L.getDistance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},L.getFingers=function(t){return t.touches?t.touches.length:1},L.calScale=function(t,e){if(t.length>=2&&e.length>=2){var i=this.getDistance(t[1],t[0]);return this.getDistance(e[1],e[0])/i}return 1},L.getAngle=function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},L.getAngle180=function(t,e){var i=Math.atan(-1*(e.y-t.y)/(e.x-t.x))*(180/Math.PI);return i<0?i+180:i},L.getDirectionFromAngle=function(t){var e={up:t<-45&&t>-135,down:t>=45&&t<135,left:t>=135||t<=-135,right:t>=-45&&t<=45};for(var i in e)if(e[i])return i;return null},L.getXYByElement=function(t){for(var e=0,i=0;t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:e,top:i}},L.reset=function(){y=_=f=p=!1,g=!1,d={},w=!1},L.isTouchMove=function(t){return"touchmove"===t.type||"mousemove"===t.type},L.isTouchEnd=function(t){return"touchend"===t.type||"mouseup"===t.type||"touchcancel"===t.type},L.env=function(){var t={},e=navigator.userAgent,i=e.match(/(Android)[\s\/]+([\d\.]+)/),n=e.match(/(iPad|iPhone|iPod)\s+OS\s([\d_\.]+)/),r=e.match(/(Windows\s+Phone)\s([\d\.]+)/),o=/WebKit\/[\d.]+/i.test(e),a=!!n&&(navigator.standalone?o:/Safari/i.test(e)&&!/CriOS/i.test(e)&&!/MQQBrowser/i.test(e));return i&&(t.android=!0,t.version=i[2]),n&&(t.ios=!0,t.version=n[2].replace(/_/g,"."),t.ios7=/^7/.test(t.version),"iPad"===n[1]?t.ipad=!0:"iPhone"===n[1]?(t.iphone=!0,t.iphone5=568===screen.height):"iPod"===n[1]&&(t.ipod=!0)),r&&(t.wp=!0,t.version=r[2],t.wp8=/^8/.test(t.version)),o&&(t.webkit=!0),a&&(t.safari=!0),t}();var P={proxyid:0,proxies:[],trigger:function(t,e,i){i=i||{};var n,r={bubbles:!0,cancelable:!0,detail:i};try{"undefined"!=typeof CustomEvent?(n=new CustomEvent(e,r),t&&t.dispatchEvent(n)):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i),t&&t.dispatchEvent(n))}catch(t){console.warn("Touch.js is not supported by environment.")}},bind:function(t,e,i){t.listeners=t.listeners||{},t.listeners[e]?t.listeners[e].push(i):t.listeners[e]=[i];var n=function(t){L.env.ios7&&L.forceReflow(),t.originEvent=t;for(var e in t.detail)"type"!==e&&(t[e]=t.detail[e]);t.startRotate=function(){w=!0};var n=i.call(t.target,t);void 0===n||n||(t.stopPropagation(),t.preventDefault())};i.proxy=i.proxy||{},i.proxy[e]?i.proxy[e].push(this.proxyid++):i.proxy[e]=[this.proxyid++],this.proxies.push(n),t.addEventListener&&t.addEventListener(e.split(".")[0],n,!1)},unbind:function(t,e,i){if(i){var n=i.proxy[e];n&&n.length&&n.forEach(function(i){t.removeEventListener&&t.removeEventListener(e.split(".")[0],this.proxies[this.proxyid],!1)})}else{var r=t.listeners[e];r&&r.length&&r.forEach(function(i){t.removeEventListener(e.split(".")[0],i,!1)})}},delegate:function(t,e,i,n){var r=function(e){var r,o;e.originEvent=e;for(var a in e.detail)"type"!==a&&(e[a]=e.detail[a]);e.startRotate=function(){w=!0};var s=L.getSelector(t)+" "+i,l=L.matchSelector(e.target,s),c=L.matchSelector(e.target,s+" "+e.target.nodeName);if(!l&&c){for(L.env.ios7&&L.forceReflow(),r=e.target;!L.matchSelector(r,s);)r=r.parentNode;o=n.call(e.target,e),void 0===o||o||(e.stopPropagation(),e.preventDefault())}else L.env.ios7&&L.forceReflow(),(l||c)&&(void 0===(o=n.call(e.target,e))||o||(e.stopPropagation(),e.preventDefault()))};n.proxy=n.proxy||{},n.proxy[e]?n.proxy[e].push(this.proxyid++):n.proxy[e]=[this.proxyid++],this.proxies.push(r),t.listeners=t.listeners||{},t.listeners[e]?t.listeners[e].push(r):t.listeners[e]=[r],t.addEventListener&&t.addEventListener(e,r,!1)},undelegate:function(t,e,i,n){if(n){var r=n.proxy[e];r.length&&r.forEach(function(i){t.removeEventListener&&t.removeEventListener(e,this.proxies[this.proxyid],!1)})}else{t.listeners[e].forEach(function(i){t.removeEventListener(e,i,!1)})}}},O={getAngleDiff:function(t){for(var e=parseInt(E-L.getAngle180(t[0],t[1]),10),i=0;Math.abs(e-T)>90&&i++<50;)T<0?e-=180:e+=180;return T=parseInt(e,10)},pinch:function(t){var e=t.target;if(C.pinch){if(!_)return;if(L.getFingers(t)<2&&!L.isTouchEnd(t))return;var i=L.calScale(d.start,d.move),n=this.getAngleDiff(d.move),r={type:"",originEvent:t,scale:i,rotation:n,direction:n>0?"right":"left",fingersCount:L.getFingers(t)};if(p?L.isTouchMove(t)?(r.fingerStatus="move",P.trigger(e,R.PINCH,r)):L.isTouchEnd(t)&&(r.fingerStatus="end",P.trigger(e,R.PINCH_END,r),L.reset()):(p=!0,r.fingerStatus="start",P.trigger(e,R.PINCH_START,r)),Math.abs(1-i)>C.minScaleRate){var o=L.simpleClone(r);i>x?(x=i-1e-11,P.trigger(e,R.PINCH_OUT,o,!1)):i<x&&(x=i+1e-11,P.trigger(e,R.PINCH_IN,o,!1)),L.isTouchEnd(t)&&(x=1)}if(Math.abs(n)>C.minRotationAngle){var a,s=L.simpleClone(r);a=n>0?R.ROTATION_RIGHT:R.ROTATION_LEFT,P.trigger(e,a,s,!1),P.trigger(e,R.ROTATION,r)}}},rotateSingleFinger:function(t){var e=t.target;if(w&&L.getFingers(t)<2){if(!d.move)return;if(k.length<2){var i=L.getXYByElement(e);k=[{x:i.left+e.offsetWidth/2,y:i.top+e.offsetHeight/2},d.move[0]],E=parseInt(L.getAngle180(k[0],k[1]),10)}var n=[k[0],d.move[0]],r=this.getAngleDiff(n),o={type:"",originEvent:t,rotation:r,direction:r>0?"right":"left",fingersCount:L.getFingers(t)};L.isTouchMove(t)?o.fingerStatus="move":(L.isTouchEnd(t)||"mouseout"===t.type)&&(o.fingerStatus="end",P.trigger(e,R.PINCH_END,o),L.reset());var a=r>0?R.ROTATION_RIGHT:R.ROTATION_LEFT;P.trigger(e,a,o),P.trigger(e,R.ROTATION,o)}},swipe:function(t){var e=t.target;if(_&&d.move&&!(L.getFingers(t)>1)){var i=Date.now(),n=i-h,r=L.getDistance(d.start[0],d.move[0]),o={x:d.move[0].x-m.left,y:d.move[0].y-m.top},a=L.getAngle(d.start[0],d.move[0]),s=L.getDirectionFromAngle(a),l=n/1e3,c=10*(10-C.swipeFactor)*l*l,u={type:R.SWIPE,originEvent:t,position:o,direction:s,distance:r,distanceX:d.move[0].x-d.start[0].x,distanceY:d.move[0].y-d.start[0].y,x:d.move[0].x-d.start[0].x,y:d.move[0].y-d.start[0].y,angle:a,duration:n,fingersCount:L.getFingers(t),factor:c};if(C.swipe){var p=function(){var t=R;switch(s){case"up":P.trigger(e,t.SWIPE_UP,u);break;case"down":P.trigger(e,t.SWIPE_DOWN,u);break;case"left":P.trigger(e,t.SWIPE_LEFT,u);break;case"right":P.trigger(e,t.SWIPE_RIGHT,u)}};f?L.isTouchMove(t)?(u.fingerStatus=u.swipe="move",P.trigger(e,R.SWIPING,u),n>C.swipeTime&&n<C.swipeTime+50&&r>C.swipeMinDistance&&(p(),P.trigger(e,R.SWIPE,u,!1))):(L.isTouchEnd(t)||"mouseout"===t.type)&&(u.fingerStatus=u.swipe="end",P.trigger(e,R.SWIPE_END,u),C.swipeTime>n&&r>C.swipeMinDistance&&(p(),P.trigger(e,R.SWIPE,u,!1))):(u.fingerStatus=u.swipe="start",f=!0,P.trigger(e,R.SWIPE_START,u))}C.drag&&(g?L.isTouchMove(t)?(u.fingerStatus=u.swipe="move",P.trigger(e,R.DRAG,u)):L.isTouchEnd(t)&&(u.fingerStatus=u.swipe="end",P.trigger(e,R.DRAGEND,u)):(u.fingerStatus=u.swipe="start",g=!0,P.trigger(e,R.DRAGSTART,u)))}},tap:function(t){var e=t.target;if(C.tap){var i=Date.now(),n=i-h,r=L.getDistance(d.start[0],d.move?d.move[0]:d.start[0]);clearTimeout(v);if(function(){if(A&&C.doubleTap&&h-S<C.maxDoubleTapInterval){if(L.getDistance(A,d.start[0])<16)return!0}return!1}())return clearTimeout(b),void P.trigger(e,R.DOUBLE_TAP,{type:R.DOUBLE_TAP,originEvent:t,position:d.start[0]});if(C.tapMaxDistance<r)return;C.holdTime>n&&L.getFingers(t)<=1&&(y=!0,S=i,A=d.start[0],b=setTimeout(function(){P.trigger(e,R.TAP,{type:R.TAP,originEvent:t,fingersCount:L.getFingers(t),position:A})},C.tapTime))}},hold:function(t){var e=t.target;C.hold&&(clearTimeout(v),v=setTimeout(function(){if(d.start){var i=L.getDistance(d.start[0],d.move?d.move[0]:d.start[0]);C.tapMaxDistance<i||y||P.trigger(e,"hold",{type:"hold",originEvent:t,fingersCount:L.getFingers(t),position:d.start[0]})}},C.holdTime))}};!function(){(L.hasTouch?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout").split(" ").forEach(function(t){document.addEventListener(t,n,!1)})}();var D={};D.on=r,D.off=o,D.config=C,D.trigger=a,e.a=D},701:function(t,e,i){t.exports={default:i(811),__esModule:!0}},702:function(t,e,i){i(703);var n=i(10).Object;t.exports=function(t,e){return n.create(t,e)}},703:function(t,e,i){var n=i(32);n(n.S,"Object",{create:i(149)})},705:function(t,e,i){function n(t){i(708)}var r=i(22)(i(706),i(717),n,"data-v-beaca6f6",null);t.exports=r.exports},706:function(t,e,i){"use strict";function n(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}Object.defineProperty(e,"__esModule",{value:!0});var r=i(711),o=i.n(r);e.default={name:"QrCode",props:{val:{type:String,required:!0},size:{type:Number,default:100},padding:{type:Number,default:0},level:{type:String,default:"L"},bgColor:{type:String,default:"#FFFFFF"},fgColor:{type:String,default:"#000000"}},computed:{style:function(){return{background:this.bgColor,padding:this.padding+"px"}}},watch:{size:function(){this.update()},val:function(){this.update()},level:function(){this.update()},bgColor:function(){this.update()},fgColor:function(){this.update()}},mounted:function(){this.update()},methods:{update:function(){var t=this.size,e=this.bgColor,i=this.fgColor,r=this.$el.querySelector("canvas"),a=o()(this.val,{errorCorrectLevel:1}),s=r.getContext("2d"),l=a.modules,c=t/l.length,u=t/l.length,d=(window.devicePixelRatio||1)/n(s);r.height=r.width=t*d,s.scale(d,d),l.forEach(function(t,n){t.forEach(function(t,r){s.fillStyle=t?i:e;var o=Math.ceil((r+1)*c)-Math.floor(r*c),a=Math.ceil((n+1)*u)-Math.floor(n*u);s.fillRect(Math.round(r*c),Math.round(n*u),o,a)})})}}}},707:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".qrcode canvas[data-v-beaca6f6]{display:block}",""])},708:function(t,e,i){var n=i(707);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("db594e3c",n,!0,{})},711:function(t,e,i){var n=i(714),r=i(675),o=function(t,e){e=e||{};var i=new n(e.typeNumber||-1,e.errorCorrectLevel||r.H);return i.addData(t),i.make(),i};o.ErrorCorrectLevel=r,t.exports=o},712:function(t,e,i){function n(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}var r=i(678);n.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},t.exports=n},713:function(t,e){function i(){this.buffer=new Array,this.length=0}i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=i},714:function(t,e,i){function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var r=i(712),o=i(715),a=i(713),s=i(716),l=i(676),c=n.prototype;c.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},c.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=o.getRSBlocks(t,this.errorCorrectLevel),i=new a,n=0,r=0;r<e.length;r++)n+=e[r].dataCount;for(var r=0;r<this.dataList.length;r++){var l=this.dataList[r];i.put(l.mode,4),i.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},c.setupPositionProbePattern=function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},c.getBestMaskPattern=function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=s.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},c.createMovieClip=function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a,l=this.modules[r][a];l&&(n.beginFill(0,100),n.moveTo(s,o),n.lineTo(s+1,o),n.lineTo(s+1,o+1),n.lineTo(s,o+1),n.endFill())}return n},c.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},c.setupPositionAdjustPattern=function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[n+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},c.setupTypeNumber=function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(var i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},c.setupTypeInfo=function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=s.getBCHTypeInfo(i),r=0;r<15;r++){var o=!t&&1==(n>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(var r=0;r<15;r++){var o=!t&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!t},c.mapData=function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var l=0;l<2;l++)if(null==this.modules[n][a-l]){var c=!1;o<t.length&&(c=1==(t[o]>>>r&1));var u=s.getMask(e,n,a-l);u&&(c=!c),this.modules[n][a-l]=c,r--,-1==r&&(o++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}},n.PAD0=236,n.PAD1=17,n.createData=function(t,e,i){for(var r=o.getRSBlocks(t,e),l=new a,c=0;c<i.length;c++){var u=i[c];l.put(u.mode,4),l.put(u.getLength(),s.getLengthInBits(u.mode,t)),u.write(l)}for(var d=0,c=0;c<r.length;c++)d+=r[c].dataCount;if(l.getLengthInBits()>8*d)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*d+")");for(l.getLengthInBits()+4<=8*d&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;;){if(l.getLengthInBits()>=8*d)break;if(l.put(n.PAD0,8),l.getLengthInBits()>=8*d)break;l.put(n.PAD1,8)}return n.createBytes(l,r)},n.createBytes=function(t,e){for(var i=0,n=0,r=0,o=new Array(e.length),a=new Array(e.length),c=0;c<e.length;c++){var u=e[c].dataCount,d=e[c].totalCount-u;n=Math.max(n,u),r=Math.max(r,d),o[c]=new Array(u);for(var h=0;h<o[c].length;h++)o[c][h]=255&t.buffer[h+i];i+=u;var f=s.getErrorCorrectPolynomial(d),p=new l(o[c],f.getLength()-1),g=p.mod(f);a[c]=new Array(f.getLength()-1);for(var h=0;h<a[c].length;h++){var m=h+g.getLength()-a[c].length;a[c][h]=m>=0?g.get(m):0}}for(var _=0,h=0;h<e.length;h++)_+=e[h].totalCount;for(var v=new Array(_),y=0,h=0;h<n;h++)for(var c=0;c<e.length;c++)h<o[c].length&&(v[y++]=o[c][h]);for(var h=0;h<r;h++)for(var c=0;c<e.length;c++)h<a[c].length&&(v[y++]=a[c][h]);return v},t.exports=n},715:function(t,e,i){function n(t,e){this.totalCount=t,this.dataCount=e}var r=i(675);n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,e){var i=n.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=i.length/3,o=new Array,a=0;a<r;a++)for(var s=i[3*a+0],l=i[3*a+1],c=i[3*a+2],u=0;u<s;u++)o.push(new n(l,c));return o},n.getRsBlockTable=function(t,e){switch(e){case r.L:return n.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return n.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return n.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return n.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},t.exports=n},716:function(t,e,i){var n=i(678),r=i(676),o=i(677),a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0;)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0;)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),i=0;i<t;i++)e=e.multiply(new r([1,o.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var r=0;r<e;r++){for(var o=0,a=t.isDark(n,r),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||0==s&&0==l||a==t.isDark(n+s,r+l)&&o++;o>5&&(i+=3+o-5)}for(var n=0;n<e-1;n++)for(var r=0;r<e-1;r++){var c=0;t.isDark(n,r)&&c++,t.isDark(n+1,r)&&c++,t.isDark(n,r+1)&&c++,t.isDark(n+1,r+1)&&c++,0!=c&&4!=c||(i+=3)}for(var n=0;n<e;n++)for(var r=0;r<e-6;r++)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(var r=0;r<e;r++)for(var n=0;n<e-6;n++)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);for(var u=0,r=0;r<e;r++)for(var n=0;n<e;n++)t.isDark(n,r)&&u++;return i+=Math.abs(100*u/e/e-50)/5*10}};t.exports=s},717:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"qrcode",style:t.style},[i("canvas",{style:{height:t.size+"px",width:t.size+"px"},attrs:{height:t.size,width:t.size,"ref:qr":""}})])},staticRenderFns:[]}},722:function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=8)}([function(t,e,i){"use strict";function n(){}function r(t,e){return e="["+t+"] > "+e}function o(t){var e=self.console[t];return e?function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];n[0]&&(n[0]=r(t,n[0])),e.apply(self.console,n)}:n}function a(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.forEach(function(e){c[e]=t[e]?t[e].bind(t):o(e)})}i.d(e,"a",function(){return u}),i.d(e,"b",function(){return d});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={trace:n,debug:n,log:n,warn:n,info:n,error:n},c=l,u=function(t){if(!0===t||"object"===(void 0===t?"undefined":s(t))){a(t,"debug","log","info","warn","error");try{c.log()}catch(t){c=l}}else c=l},d=c},function(t,e,i){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"b",function(){return o});var r=function(){function t(){n(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){for(var n=i,r=0;t.isHeader(e,i);){r+=10;r+=t._readSize(e,i+6),t.isFooter(e,i+10)&&(r+=10),i+=r}if(r>0)return e.subarray(n,n+r)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,i|=(127&t[e+2])<<7,i|=127&t[e+3]},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),n=0;n<i.length;n++){var r=i[n];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:i,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var i=0,n=[];t.isHeader(e,i);){var r=t._readSize(e,i+6);i+=10;for(var o=i+r;i+8<o;){var a=t._getFrameData(e.subarray(i)),s=t._decodeFrame(a);s&&n.push(s),i+=a.size+10}t.isFooter(e,i)&&(i+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.length,n=void 0,r=void 0,o=void 0,a="",s=0;s<i;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[s++],o=t[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}}return a},t}(),o=r._utf8ArrayToStr;e.a=r},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,i){n(this,t),this.subtle=e,this.aesIV=i}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),l=s,c=function(){function t(e,i){r(this,t),this.subtle=e,this.key=i}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),u=c,d=function(){function t(){o(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],o=i[2],a=i[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],h=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var _=h[f],v=h[_],y=h[v],b=257*h[m]^16843008*m;n[f]=b<<24|b>>>8,r[f]=b<<16|b>>>16,o[f]=b<<8|b>>>24,a[f]=b,b=16843009*y^65537*v^257*_^16843008*f,l[m]=b<<24|b>>>8,c[m]=b<<16|b>>>16,u[m]=b<<8|b>>>24,d[m]=b,f?(f=_^h[h[h[y^_]]],p^=h[h[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;n<e.length&&i;)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),a=void 0,s=void 0,l=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3],_=void 0,v=void 0;for(a=0;a<o;a++)a<r?_=l[a]=e[a]:(v=_,a%r==0?(v=v<<8|v>>>24,v=u[v>>>24]<<24|u[v>>>16&255]<<16|u[v>>>8&255]<<8|u[255&v],v^=d[a/r|0]<<24):r>6&&a%r==4&&(v=u[v>>>24]<<24|u[v>>>16&255]<<16|u[v>>>8&255]<<8|u[255&v]),l[a]=_=(l[a-r]^v)>>>0);for(s=0;s<o;s++)a=o-s,v=3&s?l[a]:l[a-4],c[s]=s<4||a<=4?v:f[u[v>>>24]]^p[u[v>>>16&255]]^g[u[v>>>8&255]]^m[u[255&v]],c[s]=c[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,i){for(var n,r,o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,c=l[0],u=l[1],d=l[2],h=l[3],f=this.uint8ArrayToUint32Array_(i),p=f[0],g=f[1],m=f[2],_=f[3],v=new Int32Array(t),y=new Int32Array(v.length),b=void 0,x=void 0,w=void 0,k=void 0,E=void 0,T=void 0,S=void 0,A=void 0,C=void 0,R=void 0,L=void 0,P=void 0,O=this.networkToHostOrderSwap;e<v.length;){for(C=O(v[e]),R=O(v[e+1]),L=O(v[e+2]),P=O(v[e+3]),E=C^a[0],T=P^a[1],S=L^a[2],A=R^a[3],n=4,r=1;r<o;r++)b=c[E>>>24]^u[T>>16&255]^d[S>>8&255]^h[255&A]^a[n],x=c[T>>>24]^u[S>>16&255]^d[A>>8&255]^h[255&E]^a[n+1],w=c[S>>>24]^u[A>>16&255]^d[E>>8&255]^h[255&T]^a[n+2],k=c[A>>>24]^u[E>>16&255]^d[T>>8&255]^h[255&S]^a[n+3],E=b,T=x,S=w,A=k,n+=4;b=s[E>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&A]^a[n],x=s[T>>>24]<<24^s[S>>16&255]<<16^s[A>>8&255]<<8^s[255&E]^a[n+1],w=s[S>>>24]<<24^s[A>>16&255]<<16^s[E>>8&255]<<8^s[255&T]^a[n+2],k=s[A>>>24]<<24^s[E>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^a[n+3],n+=3,y[e]=O(b^p),y[e+1]=O(k^g),y[e+2]=O(w^m),y[e+3]=O(x^_),p=C,g=R,m=L,_=P,e+=4}return y.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),h=d,f=i(2),p=i(0),g=function(){function t(e,i){a(this,t),this.observer=e,this.config=i,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,i,n){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(p.b.log("JS AES decrypt"),this.logEnabled=!1);var o=this.decryptor;o||(this.decryptor=o=new h),o.expandKey(e),n(o.decrypt(t,0,i))}else{this.logEnabled&&(p.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var a=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new u(a,e)),this.fastAesKey.expandKey().then(function(o){new l(a,i).decrypt(t,o).catch(function(o){r.onWebCryptoError(o,t,e,i,n)}).then(function(t){n(t)})}).catch(function(o){r.onWebCryptoError(o,t,e,i,n)})}},t.prototype.onWebCryptoError=function(t,e,i,n,r){this.config.enableSoftwareAES?(p.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,n,r)):(p.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=g},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(i=this._events[t],a(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(o(i))for(s=Array.prototype.slice.call(arguments,1),c=i.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],a=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(s=a;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){r=s;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){!function(e){var i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(d)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},function(t,e,i){"use strict";function n(t,e,i,n){var r,o,a,s,l,c=navigator.userAgent.toLowerCase(),u=n,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&e[i+2])>>>6),(o=(60&e[i+2])>>>2)>d.length-1?void t.trigger(Event.ERROR,{type:T.b.MEDIA_ERROR,details:T.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+o}):(s=(1&e[i+2])<<2,s|=(192&e[i+3])>>>6,A.b.log("manifest codec:"+n+",ADTS data:type:"+r+",sampleingIndex:"+o+"["+d[o]+"Hz],channelConfig:"+s),/firefox/i.test(c)?o>=6?(r=5,l=new Array(4),a=o-3):(r=2,l=new Array(2),a=o):-1!==c.indexOf("android")?(r=2,l=new Array(2),a=o):(r=5,l=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&o>=6?a=o-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(o>=6&&1===s||/vivaldi/i.test(c))||!n&&1===s)&&(r=2,l=new Array(2)),a=o)),l[0]=r<<3,l[0]|=(14&o)>>1,l[1]|=(1&o)<<7,l[1]|=s<<3,5===r&&(l[1]|=(14&a)>>1,l[2]=(1&a)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[o],channelCount:s,codec:"mp4a.40."+r,manifestCodec:u})}function r(t,e){return 255===t[e]&&240==(246&t[e+1])}function o(t,e){return 1&t[e+1]?7:9}function a(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function s(t,e){return!!(e+1<t.length&&r(t,e))}function l(t,e){if(e+1<t.length&&r(t,e)){var i=o(t,e),n=i;e+5<t.length&&(n=a(t,e));var s=e+n;if(s===t.length||s+1<t.length&&r(t,s))return!0}return!1}function c(t,e,i,r,o){if(!t.samplerate){var a=n(e,i,r,o);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,A.b.log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}}function u(t){return 9216e4/t}function d(t,e,i,n,r){var s,l,c,u=t.length;if(s=o(t,e),l=a(t,e),(l-=s)>0&&e+s+l<=u)return c=i+n*r,{headerLength:s,frameLength:l,stamp:c}}function h(t,e,i,n,r){var o=u(t.samplerate),a=d(e,i,n,r,o);if(a){var s=a.stamp,l=a.headerLength,c=a.frameLength,h={unit:e.subarray(i+l,i+l+c),pts:s,dts:s};return t.samples.push(h),t.len+=c,{sample:h,length:c+l}}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=i(1),T=i(2),S=i(4),A=i(0),C=i(3),R=function(){function t(e,i,n){f(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=C.a.getID3Data(t,0)||[],i=e.length,n=t.length;i<n;i++)if(l(t,i))return A.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=this._audioTrack,o=C.a.getID3Data(t,0)||[],a=C.a.getTimeStamp(o),l=a?90*a:9e4*e,u=0,d=l,f=t.length,p=o.length,g=[{pts:d,dts:d,data:o}];p<f-1;)if(s(t,p)&&p+5<f){c(r,this.observer,t,p,r.manifestCodec);var m=h(r,t,p,l,u);if(!m){A.b.log("Unable to parse AAC frame");break}p+=m.length,d=m.sample.pts,u++}else C.a.isHeader(t,p)?(o=C.a.getID3Data(t,p),g.push({pts:d,dts:d,data:o}),p+=o.length):p++;this.remuxer.remux(r,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),L=R,P=Math.pow(2,32)-1,O=function(){function t(e,i){p(this,t),this.observer=e,this.remuxer=i}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,i,n,r){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var a={};o.audio&&o.video?a.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:r?e:null}:(o.audio&&(a.audio={container:"audio/mp4",codec:i,initSegment:r?e:null}),o.video&&(a.video={container:"video/mp4",codec:n,initSegment:r?e:null})),this.observer.trigger(E.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var n,r,o,a,s,l,c,u=[];if(e.data?(l=e.start,a=e.end,e=e.data):(l=0,a=e.byteLength),!i.length)return null;for(n=l;n<a;)r=t.readUint32(e,n),o=t.bin2str(e.subarray(n+4,n+8)),c=r>1?n+r:a,o===i[0]&&(1===i.length?u.push({data:e,start:n+8,end:c}):(s=t.findBox({data:e,start:n+8,end:c},i.slice(1)),s.length&&(u=u.concat(s)))),n=c;return u},t.parseInitSegment=function(e){var i=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var n=t.findBox(e,["tkhd"])[0];if(n){var r=n.data[n.start],o=0===r?12:20,a=t.readUint32(n,o),s=t.findBox(e,["mdia","mdhd"])[0];if(s){r=s.data[s.start],o=0===r?12:20;var l=t.readUint32(s,o),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var u=t.bin2str(c.data.subarray(c.start+8,c.start+12)),d={soun:"audio",vide:"video"}[u];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var f=t.bin2str(h.data.subarray(h.start+12,h.start+16));A.b.log("MP4Demuxer:"+d+":"+f+" found")}i[a]={timescale:l,type:d},i[d]={timescale:l,id:a}}}}}}),i},t.getStartDTS=function(e,i){var n,r,o;return n=t.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return t.findBox(i,["tfhd"]).map(function(n){var r,o;return r=t.readUint32(n,4),o=e[r].timescale||9e4,t.findBox(i,["tfdt"]).map(function(e){var i,n;return i=e.data[e.start],n=t.readUint32(e,4),1===i&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n})[0]/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0},t.offsetStartDTS=function(e,i,n){t.findBox(i,["moof","traf"]).map(function(i){return t.findBox(i,["tfhd"]).map(function(r){var o=t.readUint32(r,4),a=e[o].timescale||9e4;t.findBox(i,["tfdt"]).map(function(e){var i=e.data[e.start],r=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,r-n*a);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=n*a,r=Math.max(r,0);var o=Math.floor(r/(P+1)),s=Math.floor(r%(P+1));t.writeUint32(e,4,o),t.writeUint32(e,8,s)}})})})},t.prototype.append=function(e,i,n,r){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),o=this.initData);var a=void 0,s=this.initPTS;if(void 0===s){var l=t.getStartDTS(o,e);this.initPTS=s=l-i,this.observer.trigger(E.a.INIT_PTS_FOUND,{initPTS:s})}t.offsetStartDTS(o,e,s),a=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,a,n,r,e)},t.prototype.destroy=function(){},t}(),D=O,I={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,i,n,r){if(!(i+24>e.length)){var o=this.parseHeader(e,i);if(o&&i+o.frameLength<=e.length){var a=9e4*o.samplesPerFrame/o.sampleRate,s=n+r*a,l={unit:e.subarray(i,i+o.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(l),t.len+=o.frameLength,{sample:l,length:o.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,n=t[e+1]>>1&3,r=t[e+2]>>4&15,o=t[e+2]>>2&3,a=t[e+2]>>1&1;if(1!==i&&0!==r&&15!==r&&3!==o){var s=3===i?3-n:3===n?3:4,l=1e3*I.BitratesMap[14*s+r-1],c=3===i?0:2===i?1:2,u=I.SamplingRateMap[3*c+o],d=t[e+3]>>6==3?1:2,h=I.SamplesCoefficients[i][n],f=I.BytesInSlot[n],p=8*h*f;return{sampleRate:u,channelCount:d,frameLength:parseInt(h*l/u+a,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=this.parseHeader(t,e),n=4;i&&i.frameLength&&(n=i.frameLength);var r=e+n;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},M=I,N=function(){function t(e){g(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&A.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,i,n=8,r=8;for(e=0;e<t;e++)0!==r&&(i=this.readEG(),r=(n+i+256)%256),n=0===r?n:r},t.prototype.readSPS=function(){var t,e,i,n,r,o,a,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),_=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(d(),t=d(),h(5),g(3),d(),_(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var y=f();if(3===y&&g(1),_(),_(),g(1),p())for(o=3!==y?8:12,a=0;a<o;a++)p()&&v(a<6?16:64)}_();var b=f();if(0===b)f();else if(1===b)for(g(1),m(),m(),e=f(),a=0;a<e;a++)m();_(),g(1),i=f(),n=f(),r=h(1),0===r&&g(1),g(1),p()&&(s=f(),l=f(),c=f(),u=f());var x=[1,1];if(p()&&p()){switch(d()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:x=[d()<<8|d(),d()<<8|d()]}}return{width:Math.ceil(16*(i+1)-2*s-2*l),height:(2-r)*(n+1)*16-(r?2:4)*(c+u),pixelRatio:x}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),F=N,B=function(){function t(e,i,n,r){m(this,t),this.decryptdata=n,this.discardEPB=r,this.decrypter=new S.a(e,i)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,i,n){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),r.set(o,16),n||s.decryptAacSamples(t,e+1,i)})},t.prototype.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,n),!n)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<=t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,n=32;n<=t.length-16;n+=160,i+=16)t.set(e.subarray(i,i+16),n);return t},t.prototype.decryptAvcSample=function(t,e,i,n,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(a,s),o||l.decryptAvcSamples(t,e,i+1,n)})},t.prototype.decryptAvcSamples=function(t,e,i,n){for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;!(i>=r.length);i++){var o=r[i];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,n,o,a),!a)return}}}},t}(),U=B,H={video:0,audio:1,id3:2,text:3},j=function(){function t(e,i,n,r){_(this,t),this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=i,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new U(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0)&&(i&&A.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:H[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,i,n,r){var o,a,s,l,c,u=e.length,d=!1;this.contiguous=n;var h=this.pmtParsed,f=this._avcTrack,p=this._audioTrack,g=this._id3Track,m=f.pid,_=p.pid,v=g.pid,y=this._pmtId,b=f.pesData,x=p.pesData,w=g.pesData,k=this._parsePAT,S=this._parsePMT,C=this._parsePES,R=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),O=this._parseID3PES.bind(this),D=t._syncOffset(e);for(u-=(u+D)%188,o=D;o<u;o+=188)if(71===e[o]){if(a=!!(64&e[o+1]),s=((31&e[o+1])<<8)+e[o+2],(48&e[o+3])>>4>1){if((l=o+5+e[o+4])===o+188)continue}else l=o+4;switch(s){case m:a&&(b&&(c=C(b))&&R(c,!1),b={data:[],size:0}),b&&(b.data.push(e.subarray(l,o+188)),b.size+=o+188-l);break;case _:a&&(x&&(c=C(x))&&(p.isAAC?L(c):P(c)),x={data:[],size:0}),x&&(x.data.push(e.subarray(l,o+188)),x.size+=o+188-l);break;case v:a&&(w&&(c=C(w))&&O(c),w={data:[],size:0}),w&&(w.data.push(e.subarray(l,o+188)),w.size+=o+188-l);break;case 0:a&&(l+=e[l]+1),y=this._pmtId=k(e,l);break;case y:a&&(l+=e[l]+1);var I=S(e,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);m=I.avc,m>0&&(f.pid=m),_=I.audio,_>0&&(p.pid=_,p.isAAC=I.isAAC),v=I.id3,v>0&&(g.pid=v),d&&!h&&(A.b.log("reparse from beginning"),d=!1,o=D-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:d=!0}}else this.observer.trigger(E.a.ERROR,{type:T.b.MEDIA_ERROR,details:T.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(c=C(b))?(R(c,!0),f.pesData=null):f.pesData=b,x&&(c=C(x))?(p.isAAC?L(c):P(c),p.pesData=null):(x&&x.size&&A.b.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=x),w&&(c=C(w))?(O(c),g.pesData=null):g.pesData=w,null==this.sampleAes?this.remuxer.remux(p,f,g,this._txtTrack,i,n,r):this.decryptAndRemux(p,f,g,this._txtTrack,i,n,r)},t.prototype.decryptAndRemux=function(t,e,i,n,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,i,n,r,o,a)})}else this.decryptAndRemuxAvc(t,e,i,n,r,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,i,n,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,i,n,r,o,a)})}else this.remuxer.remux(t,e,i,n,r,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,i,n){var r,o,a,s,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&t[e+1])<<8|t[e+2],o=e+3+r-4,a=(15&t[e+10])<<8|t[e+11],e+=12+a;e<o;){switch(s=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){A.b.log("unkown stream type:"+t[e]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!n){A.b.log("unkown stream type:"+t[e]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:i?-1===l.audio&&(l.audio=s,l.isAAC=!1):A.b.log("MPEG audio found, not supported in this browser for now");break;case 36:A.b.warn("HEVC stream type found, not supported for now");break;default:A.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return l},t.prototype._parsePES=function(t){var e,i,n,r,o,a,s,l,c=0,u=t.data;if(!t||0===t.size)return null;for(;u[0].length<19&&u.length>1;){var d=new Uint8Array(u[0].length+u[1].length);d.set(u[0]),d.set(u[1],u[0].length),u[0]=d,u.splice(1,1)}if(e=u[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;i=e[7],192&i&&(a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,a>4294967295&&(a-=8589934592),64&i?(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,s>4294967295&&(s-=8589934592),a-s>54e5&&(A.b.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),r=e[8],l=r+9,t.size-=l,o=new Uint8Array(t.size);for(var h=0,f=u.length;h<f;h++){e=u[h];var p=e.byteLength;if(l){if(l>p){l-=p;continue}e=e.subarray(l),p-=l,l=0}o.set(e,c),c+=p}return n&&(n-=r+3),{data:o,pts:a,dts:s,len:n}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,i.push(t)):e.dropped++}t.debug.length&&A.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var i,n,r,o=this,a=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,u=this.pushAccesUnit.bind(this),d=function(t,e,i,n){return{key:t,pts:e,dts:i,units:[],debug:n}};t.data=null,l&&s.length&&!a.audFound&&(u(l,a),l=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:n=!0,l||(l=o.avcSample=d(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(c&&s.length>4){var h=new F(s).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(l.key=!0)}break;case 5:n=!0,l||(l=o.avcSample=d(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,i=new F(o.discardEPB(e.data)),i.readUByte();for(var f=0,p=0,g=!1,m=0;!g&&i.bytesAvailable>1;){f=0;do{m=i.readUByte(),f+=m}while(255===m);p=0;do{m=i.readUByte(),p+=m}while(255===m);if(4===f&&0!==i.bytesAvailable){g=!0;if(181===i.readUByte()){if(49===i.readUShort()){if(1195456820===i.readUInt()){if(3===i.readUByte()){var _=i.readUByte(),v=i.readUByte(),y=31&_,b=[_,v];for(r=0;r<y;r++)b.push(i.readUByte()),b.push(i.readUByte()),b.push(i.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}}}}else if(p<i.bytesAvailable)for(r=0;r<p;r++)i.readUByte()}break;case 7:if(n=!0,c=!0,!a.sps){i=new F(e.data);var x=i.readSPS();a.width=x.width,a.height=x.height,a.pixelRatio=x.pixelRatio,a.sps=[e.data],a.duration=o._duration;var w=e.data.subarray(1,4),k="avc1.";for(r=0;r<3;r++){var E=w[r].toString(16);E.length<2&&(E="0"+E),k+=E}a.codec=k}break;case 8:n=!0,a.pps||(a.pps=[e.data]);break;case 9:n=!1,a.audFound=!0,l&&u(l,a),l=o.avcSample=d(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}if(l&&n){l.units.push(e)}}),e&&l&&(u(l,a),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var n=i-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var i=this._avcTrack,n=i.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,i,n,r,o,a=0,s=t.byteLength,l=this._avcTrack,c=l.naluState||0,u=c,d=[],h=-1;for(-1===c&&(h=0,o=31&t[0],c=0,a=1);a<s;)if(e=t[a++],c)if(1!==c)if(e)if(1===e){if(h>=0)n={data:t.subarray(h,a-c-1),type:o},d.push(n);else{var f=this._getLastNalUnit();if(f&&(u&&a<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(i=a-c-1)>0)){var p=new Uint8Array(f.data.byteLength+i);p.set(f.data,0),p.set(t.subarray(0,i),f.data.byteLength),f.data=p}}a<s?(r=31&t[a],h=a,o=r,c=0):c=-1}else c=0;else c=3;else c=e?0:2;else c=e?0:1;if(h>=0&&c>=0&&(n={data:t.subarray(h,s),type:o,state:c},d.push(n)),0===d.length){var g=this._getLastNalUnit();if(g){var m=new Uint8Array(g.data.byteLength+t.byteLength);m.set(g.data,0),m.set(t,g.data.byteLength),g.data=m}}return l.naluState=c,d},t.prototype.discardEPB=function(t){for(var e,i,n=t.byteLength,r=[],o=1;o<n-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),i[o]=t[a];return i},t.prototype._parseAACPES=function(t){var e,i,n,r,o,a=this._audioTrack,l=t.data,d=t.pts,f=this.aacOverFlow,p=this.aacLastPTS;if(f){var g=new Uint8Array(f.byteLength+l.byteLength);g.set(f,0),g.set(l,f.byteLength),l=g}for(n=0,o=l.length;n<o-1&&!s(l,n);n++);if(n){var m,_;if(n<o-1?(m="AAC PES did not start with ADTS header,offset:"+n,_=!1):(m="no ADTS header found in AAC PES",_=!0),A.b.warn("parsing error:"+m),this.observer.trigger(E.a.ERROR,{type:T.b.MEDIA_ERROR,details:T.a.FRAG_PARSING_ERROR,fatal:_,reason:m}),_)return}if(c(a,this.observer,l,n,this.audioCodec),i=0,e=u(a.samplerate),f&&p){var v=p+e;Math.abs(v-d)>1&&(A.b.log("AAC: align PTS for overlapping frames by "+Math.round((v-d)/90)),d=v)}for(;n<o;)if(s(l,n)&&n+5<o){var y=h(a,l,n,d,i);if(!y)break;n+=y.length,r=y.sample.pts,i++}else n++;f=n<o?l.subarray(n,o):null,this.aacOverFlow=f,this.aacLastPTS=r},t.prototype._parseMPEGPES=function(t){for(var e=t.data,i=e.length,n=0,r=0,o=t.pts;r<i;)if(M.isHeader(e,r)){var a=M.appendFrame(this._audioTrack,e,r,o,n);if(!a)break;r+=a.length,n++}else r++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),G=j,z=function(){function t(e,i,n){v(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,i,n=C.a.getID3Data(t,0);if(n&&void 0!==C.a.getTimeStamp(n))for(e=n.length,i=Math.min(t.length-1,e+100);e<i;e++)if(M.probe(t,e))return A.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=C.a.getID3Data(t,0),o=C.a.getTimeStamp(r),a=o?90*o:9e4*e,s=r.length,l=t.length,c=0,u=0,d=this._audioTrack,h=[{pts:a,dts:a,data:r}];s<l;)if(M.isHeader(t,s)){var f=M.appendFrame(d,t,s,a,c);if(!f)break;s+=f.length,u=f.sample.pts,c++}else C.a.isHeader(t,s)?(r=C.a.getID3Data(t,s),h.push({pts:u,dts:u,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),$=z,q=function(){function t(){y(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),V=q,W=Math.pow(2,32)-1,X=function(){function t(){b(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=8,r=i.length,o=r;r--;)n+=i[r].byteLength;for(e=new Uint8Array(n),e[0]=n>>24&255,e[1]=n>>16&255,e[2]=n>>8&255,e[3]=255&n,e.set(t,4),r=0,n=8;r<o;r++)e.set(i[r],n),n+=i[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var n=Math.floor(i/(W+1)),r=Math.floor(i%(W+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))},t.moov=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,i){i*=e;var n=Math.floor(i/(W+1)),r=Math.floor(i%(W+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(e){var i,n,r=e.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,o[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i,n,r,o=[],a=[];for(i=0;i<e.sps.length;i++)n=e.sps[i],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(i=0;i<e.pps.length;i++)n=e.pps[i],r=n.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,n=e.duration*e.timescale,r=e.width,o=e.height,a=Math.floor(n/(W+1)),s=Math.floor(n%(W+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))},t.traf=function(e,i){var n=t.sdtp(e),r=e.id,o=Math.floor(i/(W+1)),a=Math.floor(i%(W+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,n.length+16+20+8+16+8+8),n)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var n,r,o,a,s,l,c=e.samples||[],u=c.length,d=12+16*u,h=new Uint8Array(d);for(i+=8+d,h.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;n<u;n++)r=c[n],o=r.duration,a=r.size,s=r.flags,l=r.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var i,n=t.moov(e);return i=new Uint8Array(t.FTYP.byteLength+n.byteLength),i.set(t.FTYP),i.set(n,t.FTYP.byteLength),i},t}(),Y=X,K=function(){function t(e,i,n,r){x(this,t),this.observer=e,this.config=i,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,i,n,r,o,a){if(this.ISGenerated||this.generateIS(t,e,r),this.ISGenerated){var s=t.samples.length,l=e.samples.length,c=r,u=r;if(s&&l){var d=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;c+=Math.max(0,d),u+=Math.max(0,-d)}if(s){t.timescale||(A.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,r));var h=this.remuxAudio(t,c,o,a);if(l){var f=void 0;h&&(f=h.endPTS-h.startPTS),e.timescale||(A.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,r)),this.remuxVideo(e,u,o,f,a)}}else{var p=void 0;l&&(p=this.remuxVideo(e,u,o,a)),p&&t.codec&&this.remuxEmptyAudio(t,c,o,p)}}i.samples.length&&this.remuxID3(i,r),n.samples.length&&this.remuxText(n,r),this.observer.trigger(E.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,i){var n,r,o=this.observer,a=t.samples,s=e.samples,l=this.typeSupported,c="audio/mp4",u={},d={tracks:u},h=void 0===this._initPTS;if(h&&(n=r=1/0),t.config&&a.length&&(t.timescale=t.samplerate,A.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(c="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),u.audio={container:c,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:Y.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(n=r=a[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&s.length){var f=e.inputTimeScale;e.timescale=f,u.video={container:"video/mp4",codec:e.codec,initSegment:Y.initSegment([e]),metadata:{width:e.width,height:e.height}},h&&(n=Math.min(n,s[0].pts-f*i),r=Math.min(r,s[0].dts-f*i),this.observer.trigger(E.a.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(u).length?(o.trigger(E.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,h&&(this._initPTS=n,this._initDTS=r)):o.trigger(E.a.ERROR,{type:T.b.MEDIA_ERROR,details:T.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,i,n,r){var o,a,s,l,c,u,d,h=8,f=t.timescale,p=t.samples,g=[],m=p.length,_=this._PTSNormalize,v=this._initDTS,y=this.nextAvcDts,b=this.isSafari;b&&(i|=p.length&&y&&(r&&Math.abs(e-y/f)<.1||Math.abs(p[0].pts-y-v)<f/5)),i||(y=e*f),p.forEach(function(t){t.pts=_(t.pts-v,y),t.dts=_(t.dts-v,y)}),p.sort(function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||(n||t.id-e.id)});var x=p.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(x<0){A.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(x/90)+" ms to overcome this issue");for(var w=0;w<p.length;w++)p[w].dts+=x}var k=p[0];c=Math.max(k.dts,0),l=Math.max(k.pts,0);var S=Math.round((c-y)/90);i&&S&&(S>1?A.b.log("AVC:"+S+" ms hole between fragments detected,filling it"):S<-1&&A.b.log("AVC:"+-S+" ms overlapping between fragments detected"),c=y,p[0].dts=c,l=Math.max(l-S,y),p[0].pts=l,A.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(c/90)+",delta:"+S+" ms")),k=p[p.length-1],d=Math.max(k.dts,0),u=Math.max(k.pts,0,d),b&&(o=Math.round((d-c)/(p.length-1)));for(var C=0,R=0,L=0;L<m;L++){for(var P=p[L],O=P.units,D=O.length,I=0,M=0;M<D;M++)I+=O[M].data.length;R+=I,C+=D,P.length=I,P.dts=b?c+L*o:Math.max(P.dts,c),P.pts=Math.max(P.pts,P.dts)}var N=R+4*C+8;try{a=new Uint8Array(N)}catch(t){return void this.observer.trigger(E.a.ERROR,{type:T.b.MUX_ERROR,details:T.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var F=new DataView(a.buffer);F.setUint32(0,N),a.set(Y.types.mdat,4);for(var B=0;B<m;B++){for(var U=p[B],H=U.units,j=0,G=void 0,z=0,$=H.length;z<$;z++){var q=H[z],V=q.data,W=q.data.byteLength;F.setUint32(h,W),h+=4,a.set(V,h),h+=W,j+=4+W}if(b)G=Math.max(0,o*Math.round((U.pts-U.dts)/o));else{if(B<m-1)o=p[B+1].dts-U.dts;else{var X=this.config,K=U.dts-p[B>0?B-1:B].dts;if(X.stretchShortVideoTrack){var J=X.maxBufferHole,Z=X.maxSeekHole,Q=Math.floor(Math.min(J,Z)*f),tt=(n?l+n*f:this.nextAudioPts)-U.pts;tt>Q?(o=tt-K,o<0&&(o=K),A.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+o/90+" ms for the last video frame.")):o=K}else o=K}G=Math.round(U.pts-U.dts)}g.push({size:j,duration:o,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=d+o;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,g.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var it=g[0].flags;it.dependsOn=2,it.isNonSync=0}t.samples=g,s=Y.moof(t.sequenceNumber++,c,t),t.samples=[];var nt={data1:s,data2:a,startPTS:l/f,endPTS:(u+o)/f,startDTS:c/f,endDTS:this.nextAvcDts/f,type:"video",nb:g.length,dropped:et};return this.observer.trigger(E.a.FRAG_PARSING_DATA,nt),nt},t.prototype.remuxAudio=function(t,e,i,n){var r,o,a,s,l,c,u,d=t.inputTimeScale,h=t.timescale,f=d/h,p=t.isAAC?1024:1152,g=p*f,m=this._PTSNormalize,_=this._initDTS,v=!t.isAAC&&this.typeSupported.mpeg,y=t.samples,b=[],x=this.nextAudioPts;if(i|=y.length&&x&&(n&&Math.abs(e-x/d)<.1||Math.abs(y[0].pts-x-_)<20*g),y.forEach(function(t){t.pts=t.dts=m(t.pts-_,e*d)}),y=y.filter(function(t){return t.pts>=0}),0!==y.length){if(i||(x=n?e*d:y[0].pts),t.isAAC)for(var w=this.config.maxAudioFramesDrift,k=0,S=x;k<y.length;){var C,R=y[k],L=R.pts;C=L-S;var P=Math.abs(1e3*C/d);if(C<=-w*g)A.b.warn("Dropping 1 audio frame @ "+(S/d).toFixed(3)+"s due to "+Math.round(P)+" ms overlap."),y.splice(k,1),t.len-=R.unit.length;else if(C>=w*g&&P<1e4&&S){var O=Math.round(C/g);A.b.warn("Injecting "+O+" audio frame @ "+(S/d).toFixed(3)+"s due to "+Math.round(1e3*C/d)+" ms gap.");for(var D=0;D<O;D++){var I=Math.max(S,0);a=V.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),a||(A.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=R.unit.subarray()),y.splice(k,0,{unit:a,pts:I,dts:I}),t.len+=a.length,S+=g,k++}R.pts=R.dts=S,S+=g,k++}else Math.abs(C),R.pts=R.dts=S,S+=g,k++}for(var M=0,N=y.length;M<N;M++){var F=y[M],B=F.unit,U=F.pts;if(void 0!==u)o.duration=Math.round((U-u)/f);else{var H=Math.round(1e3*(U-x)/d),j=0;if(i&&t.isAAC&&H){if(H>0&&H<1e4)j=Math.round((U-x)/g),A.b.log(H+" ms hole between AAC samples detected,filling it"),j>0&&(a=V.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),a||(a=B.subarray()),t.len+=j*a.length);else if(H<-12){A.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(x/d).toFixed(3)+"s/"+(U/d).toFixed(3)+"s/"+-H+"ms"),t.len-=B.byteLength;continue}U=x}if(c=U,!(t.len>0))return;var G=v?t.len:t.len+8;r=v?0:8;try{s=new Uint8Array(G)}catch(t){return void this.observer.trigger(E.a.ERROR,{type:T.b.MUX_ERROR,details:T.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}if(!v){new DataView(s.buffer).setUint32(0,G),s.set(Y.types.mdat,4)}for(var z=0;z<j;z++)a=V.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),a||(A.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=B.subarray()),s.set(a,r),r+=a.byteLength,o={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(o)}s.set(B,r);var $=B.byteLength;r+=$,o={size:$,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(o),u=U}var q=0,W=b.length;if(W>=2&&(q=b[W-2].duration,o.duration=q),W){this.nextAudioPts=x=u+f*q,t.len=0,t.samples=b,l=v?new Uint8Array:Y.moof(t.sequenceNumber++,c/f,t),t.samples=[];var X=c/d,K=x/d,J={data1:l,data2:s,startPTS:X,endPTS:K,startDTS:X,endDTS:K,type:"audio",nb:W};return this.observer.trigger(E.a.FRAG_PARSING_DATA,J),J}return null}},t.prototype.remuxEmptyAudio=function(t,e,i,n){var r=t.inputTimeScale,o=t.samplerate?t.samplerate:r,a=r/o,s=this.nextAudioPts,l=(void 0!==s?s:n.startDTS*r)+this._initDTS,c=n.endDTS*r+this._initDTS,u=1024*a,d=Math.ceil((c-l)/u),h=V.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(A.b.warn("remux empty Audio"),!h)return void A.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var f=[],p=0;p<d;p++){var g=l+p*u;f.push({unit:h,pts:g,dts:g}),t.len+=h.length}t.samples=f,this.remuxAudio(t,e,i)},t.prototype.remuxID3=function(t,e){var i,n=t.samples.length,r=t.inputTimeScale,o=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)i=t.samples[s],i.pts=(i.pts-o)/r,i.dts=(i.dts-a)/r;this.observer.trigger(E.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var i,n=t.samples.length,r=t.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++)i=t.samples[a],i.pts=(i.pts-o)/r;this.observer.trigger(E.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t},t}(),J=K,Z=function(){function t(e){w(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,i,n,r,o,a,s){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(E.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:c,nb:1,dropped:0}),l.trigger(E.a.FRAG_PARSED)},t}(),Q=Z,tt=function(){function t(e,i,n,r){k(this,t),this.observer=e,this.typeSupported=i,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,i,n,r,o,a,s,l,c,u,d){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var h=this.decrypter;null==h&&(h=this.decrypter=new S.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}h.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var h;try{h=performance.now()}catch(t){h=Date.now()}p.observer.trigger(E.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:h}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,r,o,a,s,l,c,u,d)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,r,o,a,s,l,c,u,d)},t.prototype.pushDecrypted=function(t,e,i,n,r,o,a,s,l,c,u,d){var h=this.demuxer;if(!h||a&&!this.probe(t)){for(var f=this.observer,p=this.typeSupported,g=this.config,m=[{demux:G,remux:J},{demux:D,remux:Q},{demux:L,remux:J},{demux:$,remux:J}],_=0,v=m.length;_<v;_++){var y=m[_],b=y.demux.probe;if(b(t)){var x=this.remuxer=new y.remux(f,g,p,this.vendor);h=new y.demux(f,x,g,p),this.probe=b;break}}if(!h)return void f.trigger(E.a.ERROR,{type:T.b.MEDIA_ERROR,details:T.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=h}var w=this.remuxer;(a||s)&&(h.resetInitSegment(i,n,r,c),w.resetInitSegment()),a&&(h.resetTimeStamp(d),w.resetTimeStamp(d)),"function"==typeof h.setDecryptData&&h.setDecryptData(e),h.append(t,o,l,u)},t}();e.a=tt},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var i=jt[e];return!!i&&!0===i[t.slice(0,4)]}function a(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)return null;for(var i=null,n=0;n<t.length;n++){var r=t[n];r.id===e&&(i=r)}return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e,i){var n=t[e],r=t[i],o=r.startPTS;isNaN(o)?r.start=i>e?n.start+n.duration:Math.max(n.start-r.duration,0):i>e?(n.duration=o-n.start,n.duration<0&&Dt.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-o,r.duration<0&&Dt.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function b(t,e,i,n,r,o){var a=i;if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-i);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),a=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),n=Math.max(n,e.endPTS),r=Math.min(r,e.startDTS),o=Math.max(o,e.endDTS)}var l=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=a,e.endPTS=n,e.startDTS=r,e.endDTS=o,e.duration=n-i;var c=e.sn;if(!t||c<t.startSN||c>t.endSN)return 0;var u,d,h;for(u=c-t.startSN,d=t.fragments,d[u]=e,h=u;h>0;h--)y(d,h,h-1);for(h=u;h<d.length-1;h++)y(d,h,h+1);return t.PTSKnown=!0,l}function x(t,e){var i,n=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=t.fragments,s=e.fragments,l=0;if(r<n)return void(e.PTSKnown=!1);for(var c=n;c<=r;c++){var u=a[o+c],d=s[c];d&&u&&(l=u.cc-d.cc,isNaN(u.startPTS)||(d.start=d.startPTS=u.startPTS,d.endPTS=u.endPTS,d.duration=u.duration,d.backtracked=u.backtracked,d.dropped=u.dropped,i=d))}if(l)for(Dt.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<s.length;c++)s[c].cc+=l;if(i)b(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS);else if(o>=0&&o<a.length){var h=a[o].start;for(c=0;c<s.length;c++)s[c].start+=h}e.PTSKnown=t.PTSKnown}function w(t,e){for(var i=null,n=0;n<t.length;n+=1){var r=t[n];if(r&&r.cc===e){i=r;break}}return i}function k(t,e){return ie.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}function E(t,e,i){var n=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(n=!0),n}function T(t,e){var i=t.fragments,n=e.fragments;if(!n.length||!i.length)return void Dt.b.log("No fragments to align");var r=w(i,n[0].cc);return!r||r&&!r.startPTS?void Dt.b.log("No frag in previous level to align on"):r}function S(t,e){e.fragments.forEach(function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}),e.PTSKnown=!0}function A(t,e,i){if(E(t,e,i)){var n=T(e.details,i);n&&(Dt.b.log("Adjusting PTS using last level due to CC increase within current level"),S(n.start,i))}if(!1===i.PTSKnown&&e&&e.details){var r=e.details.programDateTime,o=i.programDateTime,a=(o-r)/1e3+e.details.fragments[0].start;isNaN(a)||(Dt.b.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),S(a,i))}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function F(){var t=_(),e=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!i&&!!n}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ot(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Ke,this.regionList=[]}function at(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function st(){this.values=Object.create(null)}function lt(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(i);if(2===a.length){var s=a[0],l=a[1];e(s,l)}}}function ct(t,e,i){function n(){var e=at(t);if(null===e)throw new Error("Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}var o=t;if(r(),e.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),r(),e.endTime=n(),r(),function(t,e){var n=new st;lt(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",Ze,"end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",Ze,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",Ze,"end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===Je.line&&(r=-1),e.line=r,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",Ze);var o=n.get("position","auto");"auto"===o&&50===Je.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function ut(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function dt(t,e,i,n){for(var r,o,a,s,l,c=window.VTTCue||window.TextTrackCue,u=0;u<n.rows.length;u++)if(r=n.rows[u],a=!0,s=0,l="",!r.isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&a?s++:(l+=r.chars[d].uchar,a=!1);r.cueStartTime=e,e===i&&(i+=1e-4),o=new c(e,i,ut(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?o.line=u+1:o.line=u>7?u-2:u+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(o)}}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _t(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function vt(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function yt(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function kt(t){for(var e=[],i=0;i<t.length;i++)"subtitles"===t[i].kind&&e.push(t[i]);return e}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function St(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var Ct={};i.d(Ct,"newCue",function(){return dt});var Rt=i(6),Lt=i.n(Rt),Pt=i(1),Ot=i(2),Dt=i(0),It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt=function(){function t(e){n(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===It(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){var i=function(t,e){var i="on"+t.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)};try{i.call(this,t,e).call()}catch(e){Dt.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.OTHER_ERROR,details:Ot.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),Nt=Mt,Ft=/^(\d+)x(\d+)$/,Bt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Ut=function(){function t(e){r(this,t),"string"==typeof e&&(e=t.parseAttrList(e));for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=Ft.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,i={};for(Bt.lastIndex=0;null!==(e=Bt.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[e[1]]=n}return i},t}(),Ht=Ut,jt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Gt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),zt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,$t=/#EXT-X-MEDIA:(.*)/g,qt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Vt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,Wt=function(){function t(){c(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return Gt(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Lt.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),Xt=function(){function t(){c(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&(i=new Wt,i.method=t.method,i.baseuri=t.baseuri,i.reluri=t.reluri,i.iv=this.createInitializationVector(e)),i},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},Gt(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Lt.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var i=this.lastByteRangeEndOffset;t[0]=i||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),Yt=function(t){function e(i){c(this,e);var n=s(this,t.call(this,i,Pt.a.MANIFEST_LOADING,Pt.a.LEVEL_LOADING,Pt.a.AUDIO_TRACK_LOADING,Pt.a.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return l(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var i=this.loaders[e.type];if(void 0!==i){var n=i.context;if(n&&n.url===t)return void Dt.b.trace("playlist request ongoing");Dt.b.warn("abort previous loader for type:"+e.type),i.abort()}var r=this.hls.config,o=void 0,a=void 0,s=void 0,l=void 0;"manifest"===e.type?(o=r.manifestLoadingMaxRetry,a=r.manifestLoadingTimeOut,s=r.manifestLoadingRetryDelay,l=r.manifestLoadingMaxRetryTimeout):"level"===e.type?(o=0,a=r.levelLoadingTimeOut):(o=r.levelLoadingMaxRetry,a=r.levelLoadingTimeOut,s=r.levelLoadingRetryDelay,l=r.levelLoadingMaxRetryTimeout,Dt.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),i=this.loaders[e.type]=e.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),e.url=t,e.responseType="";var c=void 0,u=void 0;c={timeout:a,maxRetry:o,retryDelay:s,maxRetryDelay:l},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.load(e,c,u)},e.prototype.resolve=function(t,e){return Lt.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){var i=[],n=void 0;for(zt.lastIndex=0;null!=(n=zt.exec(t));){var r={},a=r.attrs=new Ht(n[1]);r.url=this.resolve(n[2],e);var s=a.decimalResolution("RESOLUTION");s&&(r.width=s.width,r.height=s.height),r.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),r.name=a.NAME,function(t,e){["video","audio"].forEach(function(i){var n=t.filter(function(t){return o(t,i)});if(n.length){var r=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[i+"Codec"]=r.length>0?r[0]:n[0],t=t.filter(function(t){return-1===n.indexOf(t)})}}),e.unknownCodecs=t}([].concat((a.CODECS||"").split(/[ ,]+/)),r),r.videoCodec&&-1!==r.videoCodec.indexOf("avc1")&&(r.videoCodec=this.avc1toavcoti(r.videoCodec)),i.push(r)}return i},e.prototype.parseMasterPlaylistMedia=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=void 0,o=[],a=0;for($t.lastIndex=0;null!==(r=$t.exec(t));){var s={},l=new Ht(r[1]);if(l.TYPE===i){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=i,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,e)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),n.length){var c=u(n,s.groupId);s.audioCodec=c?c.codec:n[0].codec}s.id=a++,o.push(s)}}return o},e.prototype.avc1toavcoti=function(t){var e,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,i,n){var r,o,a=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},c=new Wt,u=0,d=null,h=new Xt;for(qt.lastIndex=0;null!==(r=qt.exec(t));){var f=r[1];if(f){h.duration=parseFloat(f);var p=(" "+r[2]).slice(1);h.title=p||null,h.tagList.push(p?["INF",f,p]:["INF",f])}else if(r[3]){if(!isNaN(h.duration)){var g=a++;h.type=n,h.start=s,h.levelkey=c,h.sn=g,h.level=i,h.cc=u,h.baseurl=e,h.relurl=(" "+r[3]).slice(1),l.fragments.push(h),d=h,s+=h.duration,h=new Xt}}else if(r[4]){if(h.rawByteRange=(" "+r[4]).slice(1),d){var m=d.byteRangeEndOffset;m&&(h.lastByteRangeEndOffset=m)}}else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(Vt),o=1;o<r.length&&void 0===r[o];o++);var _=(" "+r[o+1]).slice(1),v=(" "+r[o+2]).slice(1);switch(r[o]){case"#":h.tagList.push(v?[_,v]:[_]);break;case"PLAYLIST-TYPE":l.type=_.toUpperCase();break;case"MEDIA-SEQUENCE":a=l.startSN=parseInt(_);break;case"TARGETDURATION":l.targetduration=parseFloat(_);break;case"VERSION":l.version=parseInt(_);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":u++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":u=parseInt(_);break;case"KEY":var y=_,b=new Ht(y),x=b.enumeratedString("METHOD"),w=b.URI,k=b.hexadecimalInteger("IV");x&&(c=new Wt,w&&["AES-128","SAMPLE-AES"].indexOf(x)>=0&&(c.method=x,c.baseuri=e,c.reluri=w,c.key=null,c.iv=k));break;case"START":var E=_,T=new Ht(E),S=T.decimalFloatingPoint("TIME-OFFSET");isNaN(S)||(l.startTimeOffset=S);break;case"MAP":var A=new Ht(_);h.relurl=A.URI,h.rawByteRange=A.BYTERANGE,h.baseurl=e,h.level=i,h.type=n,h.sn="initSegment",l.initSegment=h,h=new Xt;break;default:Dt.b.warn("line parsed but not handled: "+r)}}}return h=d,h&&!h.relurl&&(l.fragments.pop(),s-=h.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=a-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=u,l},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,o=t.url,a=i.type,s=i.id,l=i.level,c=this.hls;if(this.loaders[a]=void 0,void 0!==o&&0!==o.indexOf("data:")||(o=i.url),e.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var u="audioTrack"!==a&&"subtitleTrack"!==a,d=isNaN(l)?isNaN(s)?0:s:l,h=this.parseLevelPlaylist(r,o,d,"audioTrack"===a?"audio":"subtitleTrack"===a?"subtitle":"main");h.tload=e.tload,"manifest"===a&&c.trigger(Pt.a.MANIFEST_LOADED,{levels:[{url:o,details:h}],audioTracks:[],url:o,stats:e,networkDetails:n}),e.tparsed=performance.now(),h.targetduration?u?c.trigger(Pt.a.LEVEL_LOADED,{details:h,level:l||0,id:s||0,stats:e,networkDetails:n}):"audioTrack"===a?c.trigger(Pt.a.AUDIO_TRACK_LOADED,{details:h,id:s,stats:e,networkDetails:n}):"subtitleTrack"===a&&c.trigger(Pt.a.SUBTITLE_TRACK_LOADED,{details:h,id:s,stats:e,networkDetails:n}):c.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"invalid targetduration",networkDetails:n})}else{var f=this.parseMasterPlaylist(r,o);if(f.length){var p=f.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),g=this.parseMasterPlaylistMedia(r,o,"AUDIO",p),m=this.parseMasterPlaylistMedia(r,o,"SUBTITLES");if(g.length){var _=!1;g.forEach(function(t){t.url||(_=!0)}),!1===_&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(Dt.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main"}))}c.trigger(Pt.a.MANIFEST_LOADED,{levels:f,audioTracks:g,subtitles:m,url:o,stats:e,networkDetails:n})}else c.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no level found in manifest",networkDetails:n})}else c.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no EXTM3U delimiter",networkDetails:n})},e.prototype.loaderror=function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.loader;switch(e.type){case"manifest":i=Ot.a.MANIFEST_LOAD_ERROR,n=!0;break;case"level":i=Ot.a.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":i=Ot.a.AUDIO_TRACK_LOAD_ERROR,n=!1}o&&(o.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:i,fatal:n,url:o.url,loader:o,response:t,context:e,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.loader;switch(e.type){case"manifest":i=Ot.a.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":i=Ot.a.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":i=Ot.a.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}o&&(o.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:i,fatal:n,url:o.url,loader:o,context:e,networkDetails:r})},e}(Nt),Kt=Yt,Jt=function(t){function e(i){d(this,e);var n=h(this,t.call(this,i,Pt.a.FRAG_LOADING));return n.loaders={},n}return f(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var i=t[e];i&&i.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],r=this.hls.config;e.loaded=0,n&&(Dt.b.warn("abort previous fragment loader for type:"+i),n.abort()),n=this.loaders[i]=e.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var o=void 0,a=void 0,s=void 0;o={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var l=e.byteRangeStartOffset,c=e.byteRangeEndOffset;isNaN(l)||isNaN(c)||(o.rangeStart=l,o.rangeEnd=c),a={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(o,a,s)},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,o=i.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(Pt.a.FRAG_LOADED,{payload:r,frag:o,stats:e,networkDetails:n})},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},e.prototype.loadprogress=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.frag;r.loaded=t.loaded,this.hls.trigger(Pt.a.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:n})},e}(Nt),Zt=Jt,Qt=function(t){function e(i){p(this,e);var n=g(this,t.call(this,i,Pt.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return m(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],r=e.decryptdata,o=r.uri;if(o!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;n&&(Dt.b.warn("abort previous key loader for type:"+i),n.abort()),e.loader=this.loaders[i]=new a.loader(a),this.decrypturl=o,this.decryptkey=null;var s=void 0,l=void 0,c=void 0;s={url:o,frag:e,responseType:"arraybuffer"},l={timeout:a.fragLoadingTimeOut,maxRetry:a.fragLoadingMaxRetry,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,l,c)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(Pt.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(Pt.a.KEY_LOADED,{frag:n})},e.prototype.loaderror=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},e.prototype.loadtimeout=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Pt.a.ERROR,{type:Ot.b.NETWORK_ERROR,details:Ot.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(Nt),te=Qt,ee={search:function(t,e){for(var i=0,n=t.length-1,r=null,o=null;i<=n;){r=(i+n)/2|0,o=t[r];var a=e(o);if(a>0)i=r+1;else{if(!(a<0))return o;n=r-1}}return null}},ie=ee,ne={isBuffered:function(t,e){try{if(t)for(var i=t.buffered,n=0;n<i.length;n++)if(e>=i.start(n)&&e<=i.end(n))return!0}catch(t){}return!1},bufferInfo:function(t,e,i){try{if(t){var n,r=t.buffered,o=[];for(n=0;n<r.length;n++)o.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(o,e,i)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,i){var n,r,o,a,s,l=[];for(t.sort(function(t,e){var i=t.start-e.start;return i||e.end-t.end}),s=0;s<t.length;s++){var c=l.length;if(c){var u=l[c-1].end;t[s].start-u<i?t[s].end>u&&(l[c-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,n=0,r=o=e;s<l.length;s++){var d=l[s].start,h=l[s].end;if(e+i>=d&&e<h)r=d,o=h,n=o-e;else if(e+i<d){a=d;break}}return{len:n,start:r,end:o,nextStart:a}}},re=ne,oe=i(7),ae=i(5),se=i.n(ae),le=i(9),ce=i.n(le),ue=_(),de=function(){function t(e,i){v(this,t),this.hls=e,this.id=i;var n=this.observer=new se.a,r=e.config;n.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t,t].concat(i))},n.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.removeListener.apply(n,[t].concat(i))};var o=function(t,i){i=i||{},i.frag=this.frag,i.id=this.id,e.trigger(t,i)}.bind(this);n.on(Pt.a.FRAG_DECRYPTED,o),n.on(Pt.a.FRAG_PARSING_INIT_SEGMENT,o),n.on(Pt.a.FRAG_PARSING_DATA,o),n.on(Pt.a.FRAG_PARSED,o),n.on(Pt.a.ERROR,o),n.on(Pt.a.FRAG_PARSING_METADATA,o),n.on(Pt.a.FRAG_PARSING_USERDATA,o),n.on(Pt.a.INIT_PTS_FOUND,o);var a={mp4:ue.isTypeSupported("video/mp4"),mpeg:ue.isTypeSupported("audio/mpeg"),mp3:ue.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){Dt.b.log("demuxing in webworker");var l=void 0;try{l=this.w=ce()(10),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(Pt.a.ERROR,{type:Ot.b.OTHER_ERROR,details:Ot.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:a,vendor:s,id:i,config:JSON.stringify(r)})}catch(t){Dt.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new oe.a(n,a,r,s),this.w=void 0}}else this.demuxer=new oe.a(n,a,r,s)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,i,n,r,o,a,s){var l=this.w,c=isNaN(r.startDTS)?r.start:r.startDTS,u=r.decryptdata,d=this.frag,h=!(d&&r.cc===d.cc),f=!(d&&r.level===d.level),p=d&&r.sn===d.sn+1,g=!f&&p;if(h&&Dt.b.log(this.id+":discontinuity detected"),f&&Dt.b.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:t,decryptdata:u,initSegment:e,audioCodec:i,videoCodec:n,timeOffset:c,discontinuity:h,trackSwitch:f,contiguous:g,duration:o,accurateTimeOffset:a,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,u,e,i,n,c,h,f,g,o,a,s)}},t.prototype.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Pt.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}},t}(),he=de,fe={toString:function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}},pe=fe,ge=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),me={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},_e=function(t){function e(i){C(this,e);var n=R(this,t.call(this,i,Pt.a.MEDIA_ATTACHED,Pt.a.MEDIA_DETACHING,Pt.a.MANIFEST_LOADING,Pt.a.MANIFEST_PARSED,Pt.a.LEVEL_LOADED,Pt.a.KEY_LOADED,Pt.a.FRAG_LOADED,Pt.a.FRAG_LOAD_EMERGENCY_ABORTED,Pt.a.FRAG_PARSING_INIT_SEGMENT,Pt.a.FRAG_PARSING_DATA,Pt.a.FRAG_PARSED,Pt.a.ERROR,Pt.a.AUDIO_TRACK_SWITCHING,Pt.a.AUDIO_TRACK_SWITCHED,Pt.a.BUFFER_CREATED,Pt.a.BUFFER_APPENDED,Pt.a.BUFFER_FLUSHED));return n.config=i.config,n.audioCodecSwap=!1,n.ticks=0,n._state=me.STOPPED,n.ontick=n.tick.bind(n),n}return L(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=me.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(Dt.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=me.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=me.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=me.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case me.ERROR:break;case me.BUFFER_FLUSHING:this.fragLoadError=0;break;case me.IDLE:this._doTickIdle();break;case me.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=me.IDLE);break;case me.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(Dt.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=me.IDLE);break;case me.ERROR:case me.STOPPED:case me.FRAG_LOADING:case me.PARSING:case me.PARSED:case me.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var n=void 0;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,o=this.levels[r];if(o){var a=o.bitrate,s=void 0;s=a?Math.max(8*e.maxBufferSize/a,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var l=re.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,e.maxBufferHole),c=l.len;if(!(c>=s)){Dt.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var u=o.details;if(void 0===u||!0===u.live&&this.levelLastLoaded!==r)return void(this.state=me.WAITING_LEVEL);var d=this.fragPrevious;if(!u.live&&d&&!d.backtracked&&d.sn===u.endSN&&!l.nextStart){if(Math.min(i.duration,d.start+d.duration)-Math.max(l.end,d.start)<=Math.max(.2,d.duration)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(Pt.a.BUFFER_EOS,h),void(this.state=me.ENDED)}}this._fetchPayloadOrEos(n,l,u)}}}},e.prototype._fetchPayloadOrEos=function(t,e,i){var n=this.fragPrevious,r=this.level,o=i.fragments,a=o.length;if(0!==a){var s=o[0].start,l=o[a-1].start+o[a-1].duration,c=e.end,u=void 0;if(i.initSegment&&!i.initSegment.data)u=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(a<d)return void Dt.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(u=this._ensureFragmentAtLivePoint(i,c,s,l,n,o,a)))return}else c<s&&(u=o[0]);u||(u=this._findFragment(s,n,a,o,c,l,i)),u&&this._loadFragmentOrKey(u,r,i,t,c)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,i,n,r,o,a){var s=this.hls.config,l=this.media,c=void 0,u=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-s.maxFragLookUpTolerance,n-u)){var d=this.liveSyncPosition=this.computeLivePosition(i,t);Dt.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),e=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>n&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(r){var h=r.sn+1;if(h>=t.startSN&&h<=t.endSN){var f=o[h-t.startSN];r.cc===f.cc&&(c=f,Dt.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=ie.search(o,function(t){return r.cc-t.cc}))&&Dt.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=o[Math.min(a-1,Math.round(a/2))],Dt.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragment=function(t,e,i,n,r,o,a){var s=this.hls.config,l=void 0,c=void 0,u=s.maxFragLookUpTolerance,d=e?n[e.sn-n[0].sn+1]:void 0,h=function(t){var e=Math.min(u,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=r?1:t.start-e>r&&t.start?-1:0};if(r<o?(r>o-u&&(u=0),c=d&&!h(d)?d:ie.search(n,h)):c=n[i-1],c){l=c;var f=l.sn-a.startSN,p=e&&l.level===e.level,g=n[f-1],m=n[f+1];if(e&&l.sn===e.sn)if(p&&!l.backtracked)if(l.sn<a.endSN){var _=e.deltaPTS;_&&_>s.maxBufferHole&&e.dropped&&f?(l=g,Dt.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(l=m,Dt.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(m&&m.backtracked?(Dt.b.warn("Already backtracked from fragment "+m.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+m.sn),l=m):(Dt.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,g?(g.loadCounter&&g.loadCounter--,l=g,l.backtracked=!0):f&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,i,n,r){var o=this.hls,a=o.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(Dt.b.log("Loading "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var s=a.fragLoadingLoopThreshold;if(t.loadCounter>s&&Math.abs(this.fragLoadIdx-t.loadIdx)<s)return void o.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),o.trigger(Pt.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new he(o,"main")),void(this.state=me.FRAG_LOADING)}Dt.b.log("Loading key for "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e),this.state=me.KEY_LOADING,o.trigger(Pt.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return ie.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(e=i.currentTime,e>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),re.isBuffered(i,e)?t=this.getBufferedFrag(e):re.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(Pt.a.FRAG_CHANGED,{frag:n});var r=n.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(Pt.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=n}}},e.prototype.immediateLevelSwitch=function(){if(Dt.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,re.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e=void 0,i=void 0,n=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),i=this.getBufferedFrag(t.currentTime),i&&i.startPTS>1&&this.flushMainBuffer(0,i.startPTS-1),t.paused)e=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(t.currentTime+e))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=me.BUFFER_FLUSHING;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(Pt.a.BUFFER_FLUSHING,i)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Dt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,i=this.config;isNaN(e)||Dt.b.log("media seeking to "+e.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:t,r=re.bufferInfo(n,e,this.config.maxBufferHole);if(this.state===me.FRAG_LOADING){var o=this.fragCurrent;if(0===r.len&&o){var a=i.maxFragLookUpTolerance,s=o.start-a,l=o.start+o.duration+a;e<s||e>l?(o.loader&&(Dt.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=me.IDLE):Dt.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===me.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=me.IDLE);t&&(this.lastCurrentTime=e),this.state!==me.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*i.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||Dt.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){Dt.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){Dt.b.log("trigger BUFFER_RESET"),this.hls.trigger(Pt.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,i=!1,n=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(i=!0),-1!==e.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=i&&n,this.audioCodecSwitch&&Dt.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,i=t.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],o=e.totalduration,a=0;if(Dt.b.log("level "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var s=r.details;s&&e.fragments.length>0?(x(s,e),a=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,s),e.PTSKnown&&!isNaN(a)?Dt.b.log("live playlist sliding:"+a.toFixed(3)):(Dt.b.log("live playlist - outdated PTS, unknown sliding"),A(this.fragPrevious,n,e))):(Dt.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,A(this.fragPrevious,n,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=i,this.hls.trigger(Pt.a.LEVEL_UPDATED,{details:e,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(a,e),Dt.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(Dt.b.log("negative start time offset "+l+", count from end of last fragment"),l=a+o+l),Dt.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===me.WAITING_LEVEL&&(this.state=me.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===me.KEY_LOADING&&(this.state=me.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===me.FRAG_LOADING&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var n=t.stats,r=this.levels[e.level],o=r.details;if(Dt.b.log("Loaded  "+e.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=me.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(Pt.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=me.IDLE,n.tparsed=n.tbuffered=performance.now(),o.initSegment.data=t.payload,this.hls.trigger(Pt.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else{this.state=me.PARSING;var a=o.totalduration,s=e.level,l=e.sn,c=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(Dt.b.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,Dt.b.log("Parsing "+l+" of ["+o.startSN+" ,"+o.endSN+"],level "+s+", cc "+e.cc);var u=this.demuxer;u||(u=this.demuxer=new he(this.hls,"main"));var d=this.media,h=d&&d.seeking,f=!h&&(o.PTSKnown||!o.live),p=o.initSegment?o.initSegment.data:[];u.push(t.payload,p,c,r.videoCodec,e,a,f,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===me.PARSING){var n,r,o=t.tracks;if(o.audio&&this.altAudio&&delete o.audio,r=o.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(Dt.b.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(a="mp4a.40.2",Dt.b.log("Android: force audio codec to "+a)),r.levelCodec=a,r.id=t.id}r=o.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(Pt.a.BUFFER_CODECS,o);for(n in o){r=o[n],Dt.b.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Pt.a.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"main"===t.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===me.PARSING){var r=this.levels[this.level],o=i;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),Dt.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)Dt.b.warn("Already backtracked on this fragment, appending with the gap");else{var a=r.details;if(!a||o.sn!==a.startSN)return Dt.b.warn("missing video frame(s), backtracking fragment"),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=me.IDLE,this.fragPrevious=o,void this.tick();Dt.b.warn("missing video frame(s) on first frag, appending with gap")}else o.backtracked=!1;var s=b(r.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(Pt.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(i){i&&i.length&&e.state===me.PARSING&&(e.appended=!0,e.pendingBuffering=!0,l.trigger(Pt.a.BUFFER_APPENDING,{type:t.type,data:i,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===me.PARSING&&(this.stats.tparsed=performance.now(),this.state=me.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,i=t.id;if(!e){if(this.mediaBuffer!==this.media){Dt.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(Dt.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=me.IDLE}var r=this.hls;r.trigger(Pt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(Pt.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(Dt.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,i=void 0,n=void 0,r=!1;for(var o in e){var a=e[o];"main"===a.id?(n=o,i=a,"video"===o&&(this.videoBuffer=e[o].buffer)):r=!0}r&&i?(Dt.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==me.PARSING&&e!==me.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==me.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;Dt.b.log("main buffered : "+pe.toString(e.buffered));var i=this._bufferedFrags.filter(function(t){return re.isBuffered(e,(t.startPTS+t.endPTS)/2)});i.push(t),this._bufferedFrags=i.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(Pt.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=me.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var i=!!this.media&&re.isBuffered(this.media,this.media.currentTime)&&re.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case Ot.a.FRAG_LOAD_ERROR:case Ot.a.FRAG_LOAD_TIMEOUT:case Ot.a.KEY_LOAD_ERROR:case Ot.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,Dt.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=me.FRAG_LOADING_WAITING_RETRY}else Dt.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=me.ERROR;break;case Ot.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(i?(this._reduceMaxBufferLength(e.duration),this.state=me.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=me.ERROR));break;case Ot.a.LEVEL_LOAD_ERROR:case Ot.a.LEVEL_LOAD_TIMEOUT:this.state!==me.ERROR&&(t.fatal?(this.state=me.ERROR,Dt.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==me.WAITING_LEVEL||(this.state=me.IDLE));break;case Ot.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==me.PARSING&&this.state!==me.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=me.IDLE):(Dt.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,Dt.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var i=t.currentTime,n=this.mediaBuffer?this.mediaBuffer:t,r=n.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var o=t.seeking?i:this.startPosition,a=re.isBuffered(n,o),s=r.start(0),l=!a&&Math.abs(o-s)<e.maxSeekHole;(i!==o||l)&&(Dt.b.log("target start position:"+o),l&&(o=s,Dt.b.log("target start position not buffered, seek to buffered.start(0) "+o)),Dt.b.log("adjust currentTime from "+i+" to "+o),t.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var c=re.bufferInfo(t,i,0),u=!(t.paused||t.ended||0===t.buffered.length),d=i!==this.lastCurrentTime;if(d)this.stallReported&&(Dt.b.warn("playback not stuck anymore @"+i+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(u){var h=performance.now(),f=this.hls;if(this.stalled){var p=h-this.stalled,g=c.len,m=this.nudgeRetry||0;if(g<=.5&&p>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,Dt.b.warn("playback stalling in low buffer @"+i),f.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var _=c.nextStart,v=_-i;if(_&&v<e.maxSeekHole&&v>0){this.nudgeRetry=++m;var y=m*e.nudgeOffset;Dt.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+_+" + nudge "+y),t.currentTime=_+y,this.stalled=void 0,f.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:_+y-i})}}else if(g>.5&&p>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,Dt.b.warn("playback stalling in high buffer @"+i),f.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++m,m<e.nudgeMaxRetry){var b=t.currentTime,x=b+m*e.nudgeOffset;Dt.b.log("adjust currentTime from "+b+" to "+x),t.currentTime=x,f.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Dt.b.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),f.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=h,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=me.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return re.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=me.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},ge(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Dt.b.log("main stream:"+e+"->"+t),this.hls.trigger(Pt.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Nt),ve=_e,ye=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),be=function(t){function e(i){P(this,e);var n=O(this,t.call(this,i,Pt.a.MANIFEST_LOADED,Pt.a.LEVEL_LOADED,Pt.a.FRAG_LOADED,Pt.a.ERROR));return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,n}return D(e,t),e.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],i=void 0,n={},r=null,o=!1,s=!1,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===l&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),r=n[t.bitrate],void 0===r?(t.url=[t.url],t.urlId=0,n[t.bitrate]=t,e.push(t)):r.url.push(t.url)}),!0===o&&!0===s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||a(e))&&(!i||a(i))}),t.audioTracks&&(c=t.audioTracks.filter(function(t){return!t.audioCodec||a(t.audioCodec,"audio")})),e.length>0){i=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var u=0;u<e.length;u++)if(e[u].bitrate===i){this._firstLevel=u,Dt.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(Pt.a.MANIFEST_PARSED,{levels:e,audioTracks:c,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:o,altAudio:c.length>0})}else this.hls.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){Dt.b.log("switching to level "+t),this.currentLevelIndex=t;var n=e[t];n.level=t,i.trigger(Pt.a.LEVEL_SWITCH,n),i.trigger(Pt.a.LEVEL_SWITCHING,n)}var r=e[t],o=r.details;if(!o||!0===o.live){var a=r.urlId;i.trigger(Pt.a.LEVEL_LOADING,{url:r.url[a],level:t,id:a})}}else i.trigger(Pt.a.ERROR,{type:Ot.b.OTHER_ERROR,details:Ot.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0===t.fatal)return void(t.type===Ot.b.NETWORK_ERROR&&this.cleanTimer());var e=!1,i=!1,n=void 0;switch(t.details){case Ot.a.FRAG_LOAD_ERROR:case Ot.a.FRAG_LOAD_TIMEOUT:case Ot.a.FRAG_LOOP_LOADING_ERROR:case Ot.a.KEY_LOAD_ERROR:case Ot.a.KEY_LOAD_TIMEOUT:n=t.frag.level,i=!0;break;case Ot.a.LEVEL_LOAD_ERROR:case Ot.a.LEVEL_LOAD_TIMEOUT:n=t.context.level,e=!0;break;case Ot.a.REMUX_ALLOC_ERROR:n=t.level,e=!0}void 0!==n&&this.recoverLevel(t,n,e,i)},e.prototype.recoverLevel=function(t,e,i,n){var r=this,o=this.hls.config,a=t.details,s=this._levels[e],l=void 0,c=void 0,u=void 0;if(s.loadError++,s.fragmentError=n,!0===i){if(!(this.levelRetryCount+1<=o.levelLoadingMaxRetry))return Dt.b.error("level controller, cannot recover from "+a+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*o.levelLoadingRetryDelay,o.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},c),t.levelRetry=!0,this.levelRetryCount++,Dt.b.warn("level controller, "+a+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}!0!==i&&!0!==n||(l=s.url.length,l>1&&s.loadError<l?(Dt.b.warn("level controller, "+a+" for level "+e+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%l,s.details=void 0):-1===this.manualLevelIndex?(u=0===e?this._levels.length-1:e-1,Dt.b.warn("level controller, "+a+": switch to "+u),this.hls.nextAutoLevel=this.currentLevelIndex=u):!0===n&&(Dt.b.warn("level controller, "+a+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,i=t.level;if(i===this.currentLevelIndex){var n=this._levels[i];!1===n.fragmentError&&(n.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var o=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=n.details;a&&r.endSN===a.endSN&&(o/=2,Dt.b.log("same live playlist, reload twice faster")),o-=performance.now()-t.stats.trequest,o=Math.max(1e3,Math.round(o)),Dt.b.log("live playlist, reload in "+o+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},o)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(Pt.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},ye(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(Nt),xe=be,we=i(3),ke=function(t){function e(i){I(this,e);var n=M(this,t.call(this,i,Pt.a.MEDIA_ATTACHED,Pt.a.MEDIA_DETACHING,Pt.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return N(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var o=we.a.getID3Frames(i[r].data);if(o){var a=i[r].pts,s=r<i.length-1?i[r+1].pts:e.endPTS;a===s&&(s+=1e-4);for(var l=0;l<o.length;l++){var c=o[l];if(!we.a.isTimeStampFrame(c)){var u=new n(a,s,"");u.value=c,this.id3Track.addCue(u)}}}}},e}(Nt),Ee=ke,Te=function(){function t(e){B(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),Se=Te,Ae=function(){function t(e,i,n,r){U(this,t),this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Se(i),this.fast_=new Se(n)}return t.prototype.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var i=8e3*e/t,n=t/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),Ce=Ae,Re=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Le=function(t){function e(i){H(this,e);var n=j(this,t.call(this,i,Pt.a.FRAG_LOADING,Pt.a.FRAG_LOADED,Pt.a.FRAG_BUFFERED,Pt.a.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=i,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return G(e,t),e.prototype.destroy=function(){this.clearTimer(),Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var i=this.hls,n=t.frag.level,r=i.levels[n].details.live,o=i.config,a=void 0,s=void 0;r?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new Ce(i,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent,n=i.loader,r=t.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return Dt.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=n.stats;if(e&&o&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var a=performance.now()-o.trequest,s=Math.abs(e.playbackRate);if(a>500*i.duration/s){var l=t.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),u=l[i.level],d=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,h=o.total?o.total:Math.max(o.loaded,Math.round(i.duration*d/8)),f=e.currentTime,p=(h-o.loaded)/c,g=(re.bufferInfo(e,f,t.config.maxBufferHole).end-f)/s;if(g<2*i.duration/s&&p>g){var m=void 0,_=void 0;for(_=i.level-1;_>r;_--){var v=l[_].realBitrate?Math.max(l[_].realBitrate,l[_].bitrate):l[_].bitrate;if((m=i.duration*v/(6.4*c))<g)break}m<p&&(Dt.b.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+m.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=_,this._bwEstimator.sample(a,o.loaded),n.abort(),this.clearTimer(),t.trigger(Pt.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:o}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[e.level],n=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,r=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,i=t.frag;if(!(!0===e.aborted||1!==i.loadCounter||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&e.tload!==e.tbuffered)){var n=e.tparsed-e.trequest;Dt.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(n,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case Ot.a.FRAG_LOAD_ERROR:case Ot.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,i,n,r,o,a,s,l){for(var c=r;c>=n;c--){var u=l[c],d=u.details,h=d?d.totalduration/d.fragments.length:e,f=!!d&&d.live,p=void 0;p=c<=t?a*i:s*i;var g=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,m=g*h/p;if(Dt.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(p)+"/"+g+"/"+h+"/"+o+"/"+m),p>g&&(!m||f&&!this.bitrateTestDelay||m<o))return c}return-1},Re(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,n=t.config,r=t.minAutoLevel,o=t.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(re.bufferInfo(o,l,n.maxBufferHole).end-l)/c,h=this._findBestLevel(a,s,u,r,e,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(h>=0)return h;Dt.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,p=n.abrBandWidthFactor,g=n.abrBandWidthUpFactor;if(0===d){var m=this.bitrateTestDelay;if(m){f=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-m,Dt.b.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),p=g=1}}return h=this._findBestLevel(a,s,u,r,e,d+f,p,g,i),Math.max(h,0)}}]),e}(Nt),Pe=Le,Oe=_(),De=function(t){function e(i){z(this,e);var n=$(this,t.call(this,i,Pt.a.MEDIA_ATTACHING,Pt.a.MEDIA_DETACHING,Pt.a.MANIFEST_PARSED,Pt.a.BUFFER_RESET,Pt.a.BUFFER_APPENDING,Pt.a.BUFFER_CODECS,Pt.a.BUFFER_EOS,Pt.a.BUFFER_FLUSHING,Pt.a.LEVEL_PTS_UPDATED,Pt.a.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n._live=null,n._objectUrl=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return q(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){r=!0,Dt.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(Dt.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,i=t.video||t.levels.length&&t.audio,n=0;t.altAudio&&(e||i)&&(n=(e?1:0)+(i?1:0),Dt.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var i=this.mediaSource=new Oe;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(i),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){Dt.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){Dt.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):Dt.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Pt.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){Dt.b.log("media source opened"),this.hls.trigger(Pt.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){Dt.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){Dt.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;Dt.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,i=this.segments.reduce(function(t,i){return i.parent===e?t+1:t},0);this.hls.trigger(Pt.a.BUFFER_APPENDED,{parent:e,pending:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){Dt.b.error("sourceBuffer error:",t),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;for(var n in t)if(!e[n]){var r=t[n],o=r.levelCodec||r.codec,a=r.container+";codecs="+o;Dt.b.log("creating sourceBuffer("+a+")");try{var s=e[n]=i.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[n]={codec:o,container:r.container},r.buffer=s}catch(t){Dt.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:a})}}this.hls.trigger(Pt.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){Dt.b.error("sourceBuffer error:",t.event),this.hls.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,i=t.type;for(var n in e)i&&n!==i||e[n].ended||(e[n].ended=!0,Dt.b.log(n+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(!e||"open"!==e.readyState)return void(this._needsEos=!1);for(var i in t){var n=t[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}Dt.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){Dt.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.hls.config,e=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(Dt.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(Dt.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var n in i)e+=i[n].buffered.length}catch(t){Dt.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(Pt.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,i=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void Dt.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=n.type,o=e[r];o?o.updating?i.unshift(n):(o.ended=!1,this.parent=n.parent,o.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){Dt.b.error("error while trying to append buffer:"+e.message),i.unshift(n);var a={type:Ot.b.MEDIA_ERROR,parent:n.parent};if(22===e.code)return this.segments=[],a.details=Ot.a.BUFFER_FULL_ERROR,a.fatal=!1,void t.trigger(Pt.a.ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=Ot.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return Dt.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],a.fatal=!0,void t.trigger(Pt.a.ERROR,a);a.fatal=!1,t.trigger(Pt.a.ERROR,a)}}}},e.prototype.flushBuffer=function(t,e,i){var n,r,o,a,s,l,c=this.sourceBuffer;if(Object.keys(c).length){if(Dt.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var u in c)if(!i||u===i){if(n=c[u],n.ended=!1,n.updating)return Dt.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(o=n.buffered.start(r),a=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,l=e):(s=Math.max(o,t),l=Math.min(a,e)),Math.min(l,a)-s>.5)return this.flushBufferCounter++,Dt.b.log("flush "+u+" ["+s+","+l+"], of ["+o+","+a+"], pos:"+this.media.currentTime),n.remove(s,l),!1}catch(t){Dt.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else Dt.b.warn("abort flushing too many retries");Dt.b.log("buffer flushed")}return!0},e}(Nt),Ie=De,Me=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ne=function(t){function e(i){return V(this,e),W(this,t.call(this,i,Pt.a.FPS_DROP_LEVEL_CAPPING,Pt.a.MEDIA_ATTACHING,Pt.a.MANIFEST_PARSED))}return X(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var i=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return e.isLevelAllowed(r,i.restrictedLevels)&&r<=t});return e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var n=t.length-1,r=0;r<t.length;r+=1){var o=t[r];if((o.width>=e||o.height>=i)&&function(t,e){return!e||(t.width!==e.width||t.height!==e.height)}(o,t[r+1])){n=r;break}}return n},Me(e,[{key:"mediaWidth",get:function(){var t=void 0,i=this.media;return i&&(t=i.width||i.clientWidth||i.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,i=this.media;return i&&(t=i.height||i.clientHeight||i.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(Nt),Fe=Ne,Be=function(t){function e(i){return Y(this,e),K(this,t.call(this,i,Pt.a.MEDIA_ATTACHING))}return J(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){"function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},e.prototype.checkFPS=function(t,e,i){var n=performance.now();if(e){if(this.lastTime){var r=n-this.lastTime,o=i-this.lastDroppedFrames,a=e-this.lastDecodedFrames,s=1e3*o/r,l=this.hls;if(l.trigger(Pt.a.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:i}),s>0&&o>l.config.fpsDroppedMonitoringThreshold*a){var c=l.currentLevel;Dt.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(Pt.a.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(Nt),Ue=Be,He=function(){function t(e){Z(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new XMLHttpRequest;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(i){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,n=this.stats,r=this.context,o=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===i){var a=e.status;if(a>=200&&a<300){n.tload=Math.max(n.tfirst,performance.now());var s=void 0,l=void 0;"arraybuffer"===r.responseType?(s=e.response,l=s.byteLength):(s=e.responseText,l=s.length),n.loaded=n.total=l;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,n,r,e)}else n.retry>=o.maxRetry||a>=400&&a<499?(Dt.b.error(a+" while loading "+r.url),this.callbacks.onError({code:a,text:e.statusText},r,e)):(Dt.b.warn(a+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},t.prototype.loadtimeout=function(){Dt.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,e)},t}(),je=He,Ge=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ze=function(t){function e(i){Q(this,e);var n=tt(this,t.call(this,i,Pt.a.MANIFEST_LOADING,Pt.a.MANIFEST_PARSED,Pt.a.AUDIO_TRACK_LOADED,Pt.a.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return et(e,t),e.prototype.destroy=function(){this.cleanTimer(),Nt.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===Ot.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,i=t.audioTracks||[],n=!1;this.tracks=i,this.hls.trigger(Pt.a.AUDIO_TRACKS_UPDATED,{audioTracks:i});var r=0;i.forEach(function(t){if(t.default&&!n)return e.audioTrack=r,void(n=!0);r++}),!1===n&&i.length&&(Dt.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(Dt.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Dt.b.log("switching to audioTrack "+t);var e=this.tracks[t],i=this.hls,n=e.type,r=e.url,o={id:t,type:n,url:r};i.trigger(Pt.a.AUDIO_TRACK_SWITCH,o),i.trigger(Pt.a.AUDIO_TRACK_SWITCHING,o);var a=e.details;!r||void 0!==a&&!0!==a.live||(Dt.b.log("(re)loading playlist for audioTrack "+t),i.trigger(Pt.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Dt.b.log("updating audioTrack "+t);var e=this.tracks[t],i=e.url,n=e.details;!i||void 0!==n&&!0!==n.live||(Dt.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(Pt.a.AUDIO_TRACK_LOADING,{url:i,id:t}))}},Ge(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(Nt),$e=ze,qe=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ve={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},We=function(t){function e(i){it(this,e);var n=nt(this,t.call(this,i,Pt.a.MEDIA_ATTACHED,Pt.a.MEDIA_DETACHING,Pt.a.AUDIO_TRACKS_UPDATED,Pt.a.AUDIO_TRACK_SWITCHING,Pt.a.AUDIO_TRACK_LOADED,Pt.a.KEY_LOADED,Pt.a.FRAG_LOADED,Pt.a.FRAG_PARSING_INIT_SEGMENT,Pt.a.FRAG_PARSING_DATA,Pt.a.FRAG_PARSED,Pt.a.ERROR,Pt.a.BUFFER_RESET,Pt.a.BUFFER_CREATED,Pt.a.BUFFER_APPENDED,Pt.a.BUFFER_FLUSHED,Pt.a.INIT_PTS_FOUND));return n.config=i.config,n.audioCodecSwap=!1,n.ticks=0,n._state=Ve.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return rt(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=Ve.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[i]=n,this.videoTrackCC=i,Dt.b.log("InitPTS for cc:"+i+" found from video track:"+n),this.state===Ve.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(Dt.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ve.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ve.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ve.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ve.STOPPED},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,i,n=this.hls,r=n.config;switch(this.state){case Ve.ERROR:case Ve.PAUSED:case Ve.BUFFER_FLUSHING:break;case Ve.STARTING:this.state=Ve.WAITING_TRACK,this.loadedmetadata=!1;break;case Ve.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=re.bufferInfo(a,t,r.maxBufferHole),c=re.bufferInfo(s,t,r.maxBufferHole),u=l.len,d=l.end,h=this.fragPrevious,f=Math.max(r.maxBufferLength,c.len),p=this.audioSwitch,g=this.trackId;if((u<f||p)&&g<o.length){if(void 0===(i=o[g].details)){this.state=Ve.WAITING_TRACK;break}if(!p&&!i.live&&h&&h.sn===i.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-d<h.duration/2)){this.hls.trigger(Pt.a.BUFFER_EOS,{type:"audio"}),this.state=Ve.ENDED;break}var m=i.fragments,_=m.length,v=m[0].start,y=m[_-1].start+m[_-1].duration,b=void 0;if(p)if(i.live&&!i.PTSKnown)Dt.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),d=0;else if(d=t,i.PTSKnown&&t<v){if(!(l.end>v||l.nextStart))return;Dt.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=v+.05}if(i.initSegment&&!i.initSegment.data)b=i.initSegment;else if(d<=v){if(b=m[0],null!==this.videoTrackCC&&b.cc!==this.videoTrackCC&&(b=k(m,this.videoTrackCC)),i.live&&b.loadIdx&&b.loadIdx===this.fragLoadIdx){var x=l.nextStart?l.nextStart:v;return Dt.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(x+.05)),void(this.media.currentTime=x+.05)}}else{var w=void 0,E=r.maxFragLookUpTolerance,T=h?m[h.sn-m[0].sn+1]:void 0,S=function(t){var e=Math.min(E,t.duration);return t.start+t.duration-e<=d?1:t.start-e>d&&t.start?-1:0};d<y?(d>y-E&&(E=0),w=T&&!S(T)?T:ie.search(m,S)):w=m[_-1],w&&(b=w,v=w.start,h&&b.level===h.level&&b.sn===h.sn&&(b.sn<i.endSN?(b=m[b.sn+1-i.startSN],Dt.b.log("SN just loaded, load next one: "+b.sn)):b=null))}if(b)if(b.decryptdata&&null!=b.decryptdata.uri&&null==b.decryptdata.key)Dt.b.log("Loading key for "+b.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+g),this.state=Ve.KEY_LOADING,n.trigger(Pt.a.KEY_LOADING,{frag:b});else{if(Dt.b.log("Loading "+b.sn+", cc: "+b.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+g+", currentTime:"+t+",bufferEnd:"+d.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,b.loadCounter){b.loadCounter++;var A=r.fragLoadingLoopThreshold;if(b.loadCounter>A&&Math.abs(this.fragLoadIdx-b.loadIdx)<A)return void n.trigger(Pt.a.ERROR,{type:Ot.b.MEDIA_ERROR,details:Ot.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:b})}else b.loadCounter=1;b.loadIdx=this.fragLoadIdx,this.fragCurrent=b,this.startFragRequested=!0,isNaN(b.sn)||(this.nextLoadPosition=b.start+b.duration),n.trigger(Pt.a.FRAG_LOADING,{frag:b}),this.state=Ve.FRAG_LOADING}}break;case Ve.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=Ve.IDLE);break;case Ve.FRAG_LOADING_WAITING_RETRY:var C=performance.now(),R=this.retryDate;a=this.media;var L=a&&a.seeking;(!R||C>=R||L)&&(Dt.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ve.IDLE);break;case Ve.WAITING_INIT_PTS:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var O=this.waitingFragment;if(O){var D=O.frag.cc;P!==D?(e=this.tracks[this.trackId],e.details&&e.details.live&&(Dt.b.warn("Waiting fragment CC ("+D+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=Ve.IDLE)):(this.state=Ve.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ve.IDLE;break;case Ve.STOPPED:case Ve.FRAG_LOADING:case Ve.PARSING:case Ve.PARSED:case Ve.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Dt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Ve.ENDED&&(this.state=Ve.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){Dt.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ve.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ve.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,i=t.id,n=this.tracks[i],r=e.totalduration,o=0;if(Dt.b.log("track "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=n.details;a&&e.fragments.length>0?(x(a,e),o=e.fragments[0].start,e.PTSKnown?Dt.b.log("live audio playlist sliding:"+o.toFixed(3)):Dt.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,Dt.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(n.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;isNaN(s)?this.startPosition=0:(Dt.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Ve.WAITING_TRACK&&(this.state=Ve.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ve.KEY_LOADING&&(this.state=Ve.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===Ve.FRAG_LOADING&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var n=this.tracks[this.trackId],r=n.details,o=r.totalduration,a=e.level,s=e.sn,l=e.cc,c=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",u=this.stats=t.stats;if("initSegment"===s)this.state=Ve.IDLE,u.tparsed=u.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(Pt.a.FRAG_BUFFERED,{stats:u,frag:e,id:"audio"}),this.tick();else{this.state=Ve.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new he(this.hls,"audio"));var d=this.initPTS[l],h=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==d){this.pendingBuffering=!0,Dt.b.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a);this.demuxer.push(t.payload,h,c,null,e,o,!1,d)}else Dt.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.waitingFragment=t,this.state=Ve.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ve.PARSING){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(Pt.a.BUFFER_CODECS,n),Dt.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Pt.a.BUFFER_APPENDING,a))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&n.sn===i.sn&&n.level===i.level&&this.state===Ve.PARSING){var r=this.trackId,o=this.tracks[r],a=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),Dt.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),b(o.details,i,t.startPTS,t.endPTS);var s=this.audioSwitch,l=this.media,c=!1;if(s&&l)if(l.readyState){var u=l.currentTime;Dt.b.log("switching audio track : currentTime:"+u),u>=t.startPTS&&(Dt.b.log("switching audio track : flushing all audio"),this.state=Ve.BUFFER_FLUSHING,a.trigger(Pt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),c=!0,this.audioSwitch=!1,a.trigger(Pt.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,a.trigger(Pt.a.AUDIO_TRACK_SWITCHED,{id:r});var d=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&d.push({type:t.type,data:e,parent:"audio",content:"data"})}),!c&&d.length&&(d.forEach(function(t){e.state===Ve.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(Pt.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ve.PARSING&&(this.stats.tparsed=performance.now(),this.state=Ve.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ve.PARSING&&e!==Ve.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Ve.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),i.trigger(Pt.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;Dt.b.log("audio buffered : "+pe.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(Pt.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ve.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case Ot.a.FRAG_LOAD_ERROR:case Ot.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i,e.loadCounter=0;var r=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);Dt.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=Ve.FRAG_LOADING_WAITING_RETRY}else Dt.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ve.ERROR}break;case Ot.a.FRAG_LOOP_LOADING_ERROR:case Ot.a.AUDIO_TRACK_LOAD_ERROR:case Ot.a.AUDIO_TRACK_LOAD_TIMEOUT:case Ot.a.KEY_LOAD_ERROR:case Ot.a.KEY_LOAD_TIMEOUT:this.state!==Ve.ERROR&&(this.state=t.fatal?Ve.ERROR:Ve.IDLE,Dt.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case Ot.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ve.PARSING||this.state===Ve.PARSED)){var o=this.mediaBuffer,a=this.media.currentTime;if(o&&re.isBuffered(o,a)&&re.isBuffered(o,a+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,Dt.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Ve.IDLE}else Dt.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ve.BUFFER_FLUSHING,this.hls.trigger(Pt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(Dt.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(Pt.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Ve.PARSED):(this.state=Ve.IDLE,this.fragPrevious=null,this.tick())},qe(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Dt.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Nt),Xe=We,Ye=function(){function t(t){return"string"==typeof t&&(!!o[t.toLowerCase()]&&t.toLowerCase())}function e(t){return"string"==typeof t&&(!!a[t.toLowerCase()]&&t.toLowerCase())}function i(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function n(n,o,a){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};l?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var u="",d=!1,h=n,f=o,p=a,g=null,m="",_=!0,v="auto",y="start",b=50,x="middle",w=50,k="middle";if(Object.defineProperty(s,"id",i({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(s,"pauseOnExit",i({},c,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",i({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},c,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},c,{get:function(){return m},set:function(e){var i=t(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},c,{get:function(){return _},set:function(t){_=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},c,{get:function(){return v},set:function(t){if("number"!=typeof t&&t!==r)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},c,{get:function(){return y},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");y=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},c,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},c,{get:function(){return x},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");x=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},c,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},c,{get:function(){return k},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");k=i,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}(),Ke=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};st.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Je=new Ye(0,0,0),Ze="middle"===Je.align?"middle":"center";ot.prototype={parse:function(t){function e(){var t=i.buffer,e=0;for(t=ut(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;n=e();var r=n.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var o=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(o?o=!1:n=e(),i.state){case"HEADER":/:/.test(n)?function(t){lt(t,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/)}(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new Ye(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{ct(n,i.cue,i.regionList)}catch(t){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(o=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(t){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}};var Qe=ot,ti={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ei=function(t){var e=t;return ti.hasOwnProperty(t)&&(e=ti[t]),String.fromCharCode(e)},ii=15,ni=100,ri={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},oi={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ai={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},si={25:2,26:4,29:6,30:8,31:10,27:13,28:15},li=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ci={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var i=this.verboseFilter[t];this.verboseLevel>=i&&console.log(this.time+" ["+t+"] "+e)}},ui=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},di=function(){function t(e,i,n,r,o){ht(this,t),this.foreground=e||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=o||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),hi=function(){function t(e,i,n,r,o,a){ht(this,t),this.uchar=e||" ",this.penState=new di(i,n,r,o,a)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),fi=function(){function t(){ht(this,t),this.chars=[];for(var e=0;e<ni;e++)this.chars.push(new hi);this.pos=0,this.currPenState=new di}return t.prototype.equals=function(t){for(var e=!0,i=0;i<ni;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ni;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ni;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(ci.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>ni&&(ci.log("ERROR","Too large cursor position "+this.pos),this.pos=ni)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=ei(t);if(this.pos>=ni)return void ci.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1)},t.prototype.clearFromPos=function(t){var e;for(e=t;e<ni;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,i=0;i<ni;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),pi=function(){function t(){ht(this,t),this.rows=[];for(var e=0;e<ii;e++)this.rows.push(new fi);this.currRow=ii-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<ii;t++)this.rows[t].clear();this.currRow=ii-1},t.prototype.equals=function(t){for(var e=!0,i=0;i<ii;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ii;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ii;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){ci.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){ci.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<ii;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[n].cueStartTime;if(o&&o<ci.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[e-this.nrRollUpRows+a+1].copy(r.rows[n+a])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[c].penState.foreground}var u={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(u)},t.prototype.setBkgData=function(t){ci.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void ci.log("DEBUG","roll_up but nrRollUpRows not set yet");ci.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),ci.log("INFO","Rolling up")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<ii;r++){var o=this.rows[r].getTextString();o&&(n=r+1,t?e.push("Row "+n+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},t.prototype.getTextAndFormat=function(){return this.rows},t}(),gi=function(){function t(e,i){ht(this,t),this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new pi,this.nonDisplayedMemory=new pi,this.lastOutputScreen=new pi,this.currRollUpRow=this.displayedMemory.rows[ii-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[ii-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,ci.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";ci.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(ci.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){ci.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){ci.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){ci.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){ci.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){ci.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){ci.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){ci.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){ci.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){ci.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){ci.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){ci.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(ci.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,ci.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){ci.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=n[i]}ci.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ci.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),mi=function(){function t(e,i,n){ht(this,t),this.field=e||1,this.outputs=[i,n],this.channels=[new gi(1,i),new gi(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var i,n,r,o=!1;this.lastTime=t,ci.setTime(t);for(var a=0;a<e.length;a+=2)if(n=127&e[a],r=127&e[a+1],0!==n||0!==r){if(ci.log("DATA","["+ui([e[a],e[a+1]])+"] -> ("+ui([n,r])+")"),i=this.parseCmd(n,r),i||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(o=this.parseChars(n,r)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else ci.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,ci.log("WARNING","Couldn't parse cleaned data "+ui([n,r])+" orig: "+ui([e[a],e[a+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var i=null,n=(20===t||28===t)&&32<=e&&e<=47,r=(23===t||31===t)&&33<=e&&e<=35;if(!n&&!r)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,ci.log("DEBUG","Repeated command ("+ui([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var o=this.channels[i-1];return 20===t||28===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.parseMidrow=function(t,e){var i=null;if((17===t||25===t)&&32<=e&&e<=47){if((i=17===t?1:2)!==this.currChNr)return ci.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[i-1].ccMIDROW(e),ci.log("DEBUG","MIDROW ("+ui([t,e])+")"),!0}return!1},t.prototype.parsePAC=function(t,e){var i=null,n=null,r=(17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127,o=(16===t||24===t)&&64<=e&&e<=95;if(!r&&!o)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,n=64<=e&&e<=95?1===i?ri[t]:ai[t]:1===i?oi[t]:si[t];var a=this.interpretPAC(n,e);return this.channels[i-1].setPAC(a),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.interpretPAC=function(t,e){var i=e,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1==(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},t.prototype.parseChars=function(t,e){var i=null,n=null,r=null;if(t>=25?(i=2,r=t-8):(i=1,r=t),17<=r&&r<=19){var o=e;o=17===r?e+80:18===r?e+112:e+144,ci.log("INFO","Special char '"+ei(o)+"' in channel "+i),n=[o]}else 32<=t&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var a=ui(n);ci.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},t.prototype.parseBackgroundAttributes=function(t,e){var i,n,r,o,a=(16===t||24===t)&&32<=e&&e<=47,s=(23===t||31===t)&&45<=e&&e<=47;return!(!a&&!s)&&(i={},16===t||24===t?(n=Math.floor((e-32)/2),i.background=li[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),r=t<24?1:2,o=this.channels[r-1],o.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),_i=mi,vi=function(){function t(e,i){ft(this,t),this.timelineController=e,this.track=i,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.track)},t}(),yi=vi,bi=function(t,e,i){return t.substr(i||0,e.length)===e},xi=function(t){var e=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),n=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)?-1:(e+=1e3*i,e+=6e4*n,e+=36e5*r)},wi=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},ki=function(t,e,i){var n=t[e],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,n=r,r=t[n.prevCC];t.presentationOffset=i},Ei={parse:function(t,e,i,n,r,o){var a=/\r\n|\n\r|\n|\r/g,s=Object(we.b)(new Uint8Array(t)).trim().replace(a,"\n").split("\n"),l="00:00.000",c=0,u=0,d=0,h=[],f=void 0,p=!0,g=new Qe;g.oncue=function(t){var e=i[n],r=i.ccOffset;e&&e.new&&(void 0!==u?r=i.ccOffset=e.start:ki(i,n,d)),d&&(r=d+i.ccOffset-i.presentationOffset),t.startTime+=r-u,t.endTime+=r-u,t.id=wi(t.startTime.toString())+wi(t.endTime.toString())+wi(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&h.push(t)},g.onparsingerror=function(t){f=t},g.onflush=function(){if(f&&o)return void o(f);r(h)},s.forEach(function(t){if(p){if(bi(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){bi(t,"LOCAL:")?l=t.substr(6):bi(t,"MPEGTS:")&&(c=parseInt(t.substr(7)))});try{e=e<0?e+8589934592:e,c-=e,u=xi(l)/1e3,d=c/9e4,-1===u&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}g.parse(t+"\n")}),g.flush()}},Ti=Ei,Si=function(t){function e(i){pt(this,e);var n=gt(this,t.call(this,i,Pt.a.MEDIA_ATTACHING,Pt.a.MEDIA_DETACHING,Pt.a.FRAG_PARSING_USERDATA,Pt.a.FRAG_DECRYPTED,Pt.a.MANIFEST_LOADING,Pt.a.MANIFEST_LOADED,Pt.a.FRAG_LOADED,Pt.a.LEVEL_SWITCHING,Pt.a.INIT_PTS_FOUND));if(n.hls=i,n.config=i.config,n.enabled=!0,n.Cues=i.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var r=new yi(n,1),o=new yi(n,2);n.cea608Parser=new _i(0,r,o)}return n}return mt(e,t),e.prototype.addCues=function(t,e,i,n){for(var r=this.cueRanges,o=!1,a=r.length;a--;){var s=r[a],l=yt(s[0],s[1],e,i);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],i),o=!0,l/(i-e)>.5))return}o||r.push([e,i]),this.Cues.newCue(this[t],e,i,n)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i],r="textTrack"+t;if(!0===n[r])return n}return null},e.prototype.sendAddTrackEvent=function(t,e){var i=null;try{i=new window.Event("addtrack")}catch(t){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var i=this.getExistingTrack(t);if(i)this[e]=i,_t(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var n=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);n&&(n[e]=!0,this[e]=n)}}},e.prototype.createTextTrack=function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){_t(this.textTrack1),_t(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)_t(e[i])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var r=void 0;if(n<i.length){var o=i[n];vt(o,t)&&(r=o)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),r.mode=t.default?"showing":"hidden",e.textTracks.push(r)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,i=t.payload;if("main"===e.type){var n=e.sn;if(n!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=n}else if("subtitle"===e.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var o=e.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(e,i)}else this.hls.trigger(Pt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,r=this.hls;Ti.parse(e,this.initPTS,i,t.cc,function(e){var i=n[t.trackId];e.forEach(function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}}),r.trigger(Pt.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){Dt.b.log("Failed to parse VTT cue: "+e),r.trigger(Pt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,i=t.frag;if("subtitle"===i.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(i,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var i=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,i)}},e.prototype.extractCea608Data=function(t){for(var e,i,n,r,o,a=31&t[0],s=2,l=[],c=0;c<a;c++)e=t[s++],i=127&t[s++],n=127&t[s++],r=0!=(4&e),o=3&e,0===i&&0===n||r&&0===o&&(l.push(i),l.push(n));return l},e}(Nt),Ai=Si,Ci=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ri=function(t){function e(i){bt(this,e);var n=xt(this,t.call(this,i,Pt.a.MEDIA_ATTACHED,Pt.a.MEDIA_DETACHING,Pt.a.MANIFEST_LOADING,Pt.a.MANIFEST_LOADED,Pt.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n.subtitleDisplay=!1,n}return wt(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=kt(this.media.textTracks),i=0;i<e.length;i++)"showing"===e[i].mode&&(t=i);this.subtitleTrack=t}},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(Pt.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var i=e.details;void 0!==i&&!0!==i.live||(Dt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Pt.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(Dt.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=kt(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,Dt.b.log("switching to subtitle track "+t),this.hls.trigger(Pt.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var i=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var n=i.details;void 0!==n&&!0!==n.live||(Dt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Pt.a.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))}}},Ci(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(Nt),Li=Ri,Pi=i(4),Oi={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Di=function(t){function e(i){Et(this,e);var n=Tt(this,t.call(this,i,Pt.a.MEDIA_ATTACHED,Pt.a.ERROR,Pt.a.KEY_LOADED,Pt.a.FRAG_LOADED,Pt.a.SUBTITLE_TRACKS_UPDATED,Pt.a.SUBTITLE_TRACK_SWITCH,Pt.a.SUBTITLE_TRACK_LOADED,Pt.a.SUBTITLE_FRAG_PROCESSED));return n.config=i.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.state=Oi.STOPPED,n.currentTrackId=-1,n.ticks=0,n.decrypter=new Pi.a(i.observer,i.config),n}return St(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this),this.state=Oi.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(Pt.a.FRAG_LOADING,{frag:t}),this.state=Oi.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Oi.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Oi.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.tick=function(){var t=this;1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){t.tick()},1),this.ticks=0)},e.prototype.doTick=function(){var t=this;switch(this.state){case Oi.IDLE:var e=this.tracks,i=this.currentTrackId,n=this.vttFragSNsProcessed[i],r=this.vttFragQueues[i],o=this.currentlyProcessing?this.currentlyProcessing.sn:-1,a=function(t){return n.indexOf(t.sn)>-1},s=function(t){return r.some(function(e){return e.sn===t.sn})};if(!e)break;var l;if(i<e.length&&(l=e[i].details),void 0===l)break;l.fragments.forEach(function(e){a(e)||e.sn===o||s(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(Dt.b.log("Loading key for "+e.sn),t.state=Oi.KEY_LOADING,t.hls.trigger(Pt.a.KEY_LOADING,{frag:e})):(e.trackId=i,r.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;Dt.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Oi.KEY_LOADING&&(this.state=Oi.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,n=t.frag,r=this.hls;if(this.state===Oi.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var o;try{o=performance.now()}catch(t){o=Date.now()}this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}r.trigger(Pt.a.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:o,tdecrypt:e}})})}},e}(Nt),Ii=Di,Mi={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Pe,bufferController:Ie,capLevelController:Fe,fpsController:Ue,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Mi.subtitleStreamController=Ii,Mi.subtitleTrackController=Li,Mi.timelineController=Ai,Mi.cueHandler=Ct,Mi.enableCEA708Captions=!0,Mi.enableWebVTT=!0,Mi.captionsTextTrack1Label="English",Mi.captionsTextTrack1LanguageCode="en",Mi.captionsTextTrack2Label="Spanish",Mi.captionsTextTrack2LanguageCode="es",Mi.audioStreamController=Xe,Mi.audioTrackController=$e;var Ni=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Fi=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};At(this,t);var n=t.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in i||(i[r]=n[r]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(Dt.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var o=this.observer=new se.a;o.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];o.emit.apply(o,[t,t].concat(i))},o.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];o.removeListener.apply(o,[t].concat(i))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o);var a=this.abrController=new i.abrController(this),s=new i.bufferController(this),l=new i.capLevelController(this),c=new i.fpsController(this),u=new Kt(this),d=new Zt(this),h=new te(this),f=new Ee(this),p=this.levelController=new xe(this),g=this.streamController=new ve(this),m=[p,g],_=i.audioStreamController;_&&m.push(new _(this)),this.networkControllers=m;var v=[u,d,h,a,s,l,c,f];if(_=i.audioTrackController){var y=new _(this);this.audioTrackController=y,v.push(y)}if(_=i.subtitleTrackController){var b=new _(this);this.subtitleTrackController=b,v.push(b)}[i.subtitleStreamController,i.timelineController].forEach(function(t){t&&v.push(new t(e))}),this.coreComponents=v}return t.isSupported=function(){return F()},Ni(t,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return Pt.a}},{key:"ErrorTypes",get:function(){return Ot.b}},{key:"ErrorDetails",get:function(){return Ot.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Mi},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){Dt.b.log("destroy"),this.trigger(Pt.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){Dt.b.log("attachMedia"),this.media=t,this.trigger(Pt.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){Dt.b.log("detachMedia"),this.trigger(Pt.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=Lt.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),Dt.b.log("loadSource:"+t),this.url=t,this.trigger(Pt.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Dt.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){Dt.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){Dt.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){Dt.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Ni(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){Dt.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){Dt.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){Dt.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){Dt.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){Dt.b.log("set startLevel:"+t);var e=this;-1!==t&&(t=Math.max(t,e.minAutoLevel)),e.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){Dt.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this,e=t.levels,i=t.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++){if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>i)return r}return 0}},{key:"maxAutoLevel",get:function(){var t=this,e=t.levels,i=t.autoLevelCapping;return-1===i&&e&&e.length?e.length-1:i}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){var e=this;e.abrController.nextAutoLevel=Math.max(e.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=Fi},function(t,e,i){function n(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var n=e(e.s=ENTRY_MODULE);return n.default||n}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t){var e=[],i=t.toString(),n=i.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!n)return e;for(var o,a=n[1],s=new RegExp("(\\\\n|\\W)"+r(a)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");o=s.exec(i);)e.push(o[3]);return e}function a(t,e){for(var i=[e],n=[],r={};i.length;){var a=i.pop();if(!r[a]&&t[a]){r[a]=!0,n.push(a);var s=o(t[a]);i=i.concat(s)}}return n}t.exports=function(t,e){e=e||{};var r=i.m,o=e.all?Object.keys(r):a(r,t),s="("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.map(function(t){return JSON.stringify(t)+": "+r[t].toString()}).join(",")+"})(self);",l=new window.Blob([s],{type:"text/javascript"});if(e.bare)return l;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,u=c.createObjectURL(l),d=new window.Worker(u);return d.objectURL=u,d}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),r=i(1),o=i(0),a=i(5),s=i.n(a),l=function(t){var e=new s.a;e.trigger=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new n.a(e,a.typeSupported,s,a.vendor);try{Object(o.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),e.on(r.a.FRAG_DECRYPTED,i),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,i),e.on(r.a.FRAG_PARSED,i),e.on(r.a.ERROR,i),e.on(r.a.FRAG_PARSING_METADATA,i),e.on(r.a.FRAG_PARSING_USERDATA,i),e.on(r.a.INIT_PTS_FOUND,i),e.on(r.a.FRAG_PARSING_DATA,function(e,i){var n=[],r={event:e,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),t.postMessage(r,n)})};e.default=l}]).default})},748:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",props:{layer:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},methods:{close:function(){this.$emit("close",this)},confirm:function(){this.$emit("confirm",this)}}}},749:function(t,e,i){"use strict";function n(t){t.preventDefault()}function r(){window.addEventListener("wheel",n,!!a&&{passive:!1}),window.addEventListener("touchmove",n,!!a&&{passive:!1})}function o(){window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n)}Object.defineProperty(e,"__esModule",{value:!0});var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,s)}catch(t){}e.default={props:{data:{type:Object,default:function(){return{}}}},mounted:function(){r()},destroyed:function(){o()},methods:{remove:function(){this.data.remove&&this.data.remove(this)},close:function(){this.data.close&&this.data.close(this)},complain:function(){this.data.complain&&this.data.complain(this)}}}},750:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",props:{layer:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},methods:{close:function(){this.$emit("close",this)},confirm:function(){this.$emit("confirm",this)}}}},751:function(t,e,i){"use strict";function n(t){t.preventDefault()}function r(){window.addEventListener("wheel",n,!!l&&{passive:!1}),window.addEventListener("touchmove",n,!!l&&{passive:!1})}function o(){window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n)}function a(t,e,i){return i>t?t:i<e?e:i}Object.defineProperty(e,"__esModule",{value:!0});var s=i(700),l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,c)}catch(t){}e.default={props:{component:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},data:function(){return{x:0,y:0,_x:0,_y:0,show:!1,scale:1,imgUrl:"",style:{}}},mounted:function(){var t=this;r();var e=window.innerHeight,i=window.innerWidth,n=new Image,o={};n.onload=function(){var r=n.height,a=n.width,s=r/e,l=a/i;o.height=r,o.width=a,s>l?s>1&&(o.height=e,o.width=Math.floor(a*e/r)):l>1&&(o.height=Math.floor(r*i/a),o.width=i),o.height=o.height+"px",o.width=o.width+"px",t.style=o,t.show=!0,t.imgUrl=t.data.imgUrl},n.src=this.data.imgUrl,this.bindEvent(this.$refs.img)},destroyed:function(){o()},watch:{$route:function(t,e){this.close()}},methods:{close:function(){this.component.close&&this.component.close(this)},resetZoom:function(){this.transform(0,0,1)},transform:function(t,e,i){var n="translateX("+t+"px) translateY("+e+"px) scale("+i+")";this.style={height:this.style.height,width:this.style.width,transform:n}},bindEvent:function(t){var e=this;s.a.on(t,"pinch",function(t){var i=t.scale-1;console.log(i,e.scale),e.transform(0,0,a(5,1,i+e.scale))}),s.a.on(t,"pinchend",function(t){var i=t.scale-1;e.scale=a(5,1,i+e.scale)}),s.a.on(t,"drag",function(t){e._x=t.x+e.x,e._y=t.y+e.y,console.log(t.x,t.y),e.transform(e._x,e._y,e.scale)}),s.a.on(t,"dragend",function(t){e.x=e._x,e.y=e._y,e._x=0,e._y=0})}}}},752:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=function(){function t(){r()(this,t),this.y=0,this.x=0,this.width=0,this.height=0}return a()(t,[{key:"setAll",value:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},{key:"equal",value:function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}},{key:"isSet",get:function(){return 0!==this.y||0!==this.x||0!==this.width||0!==this.height}}]),t}();e.a=s},753:function(t,e,i){"use strict";var n=i(661),r=i.n(n),o=i(701),a=i.n(o),s=i(98),l=i.n(s),c=i(99),u=i.n(c),d=i(668),h=i(752),f=function(){function t(e,i){l()(this,t),this.node=e,this.offset=i}return u()(t,null,[{key:"getSelectText",value:function(t,e){try{return this.getSelectNodeRectAndText(t.node,e.node,t.offset,e.offset).text}catch(t){return console.error("EasyMarkerError:",t),""}}},{key:"getSelectRects",value:function(t,e){var n=new h.a,o=new h.a,s=new h.a;if(!t||!e)return{header:n,body:o,footer:s};if("#text"!==t.node.nodeName||"#text"!==e.node.nodeName)return console.error("The parameters for getting the selection rect should be a TextNode",{startTextNode:t,endTextNode:e}),{header:n,body:o,footer:s};var l=void 0;try{var c=this.getSelectNodeRectAndText(t.node,e.node,t.offset,e.offset);l=c.rects}catch(t){console.error("EasyMarkerError:",t),l=[]}var u=new a.a;l.forEach(function(t){u.has(t.top)?u.get(t.top).width+=t.width:u.set(t.top,i.i(d.f)(t))});var f=[].concat(r()(u.values())),p=0,g=[],m=[];if(f.length>0){var _=f.shift();p=Number(window.getComputedStyle(t.node.parentElement).lineHeight.replace("px",""))||_.height,n.x=_.left,n.width=_.width,n.y=_.top-(p-_.height)/2,n.height=p,g.push(n.x),m.push(_.right)}var v=0;if(f.length>0){var y=f.pop();v=Number(window.getComputedStyle(e.node.parentElement).lineHeight.replace("px",""))||y.height,s.x=y.left,s.width=y.width,s.y=y.top-(v-y.height)/2,s.height=v,g.push(s.x),m.push(y.right)}if(f.length>0){var b=0;f.forEach(function(t){o.x&&o.width?(t.left<o.x&&(o.x=t.left),t.width>o.width&&(o.width=t.width),b<t.right&&(b=t.right)):(o.x=t.left,o.width=t.width,b=t.right)}),g.push(o.x),m.push(b)}var x=Math.min.apply(Math,g);x!==1/0&&(o.x=x);var w=Math.max.apply(Math,m);return w!==-1/0&&(o.width=w-o.x),o.y=n.y+p,s.isSet?o.height=s.y-o.y:(s.x=n.x,s.y=n.y+p),{header:n,body:o,footer:s}}},{key:"getSelectNodeRectAndText",value:function(t,e,n,o){var a={rects:[],text:""};if(t.childNodes.length>0&&"SCRIPT"!==t.nodeName&&"STYLE"!==t.nodeName){var s,l=t.childNodes[0],c=this.getSelectNodeRectAndText(l,e,0,o),u=c.text,h=c.rects;return(s=a.rects).push.apply(s,r()(h)),a.text+=u,a}if("#text"===t.nodeName){var f,p=t===e?o:t.textContent.length;(f=a.rects).push.apply(f,r()(i.i(d.g)(t,n,p))),a.text+=t.textContent.substring(n,p)}if(t===e)return a;var g=t.nextSibling;if(g){var m,_=this.getSelectNodeRectAndText(g,e,0,o),v=_.text,y=_.rects;(m=a.rects).push.apply(m,r()(y)),a.text+=v}else{for(var b=t.parentNode;b&&null===b.nextSibling;)b=b.parentNode;if(!b)throw new Error("Invalid end node");var x,w=this.getSelectNodeRectAndText(b.nextSibling,e,0,o),k=w.text,E=w.rects;(x=a.rects).push.apply(x,r()(E)),a.text+=k}return a}}]),t}();e.a=f},754:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(806),o=n(r),a=i(805),s=n(a);e.default=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},755:function(t,e,i){var n=i(38);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},756:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._1uSorpRi_0{position:fixed;top:0;bottom:0;left:0;right:0;z-index:100;background:rgba(0,0,0,.4)}._3GAxhwIG_0{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background-color:hsla(0,0%,100%,.1)}._2_wQLMVs_0{background:#fff;-webkit-transition:all .3s ease;transition:all .3s ease;position:absolute;left:50%;top:50%;width:270px;z-index:100;border-radius:16px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translate(-50%,-80%);transform:translate(-50%,-80%);-webkit-box-shadow:0 5px 30px 0 rgba(140,163,191,.2);box-shadow:0 5px 30px 0 rgba(140,163,191,.2)}._2TotrwHd_0{padding:20px}.JL35Jvuj_0{font-size:18px;color:#000;font-weight:500;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}._11xf0swh_0,.JL35Jvuj_0{text-align:center;line-height:1.5}._11xf0swh_0{margin-top:6px;color:#888;font-size:14px;font-weight:400}.Lif9oOYw_0{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;border-top:.5px solid #e8e8e8}._244GZ-37_0,.Lif9oOYw_0{display:-webkit-box;display:-ms-flexbox;display:flex}._244GZ-37_0{width:84px;border-radius:3px;font-size:15px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-top:8px;padding-bottom:8px}._37EJMsXN_0{color:#fa8819;border-left:.5px solid #e8e8e8}._35dXRyPt_0,._37EJMsXN_0{-webkit-box-flex:1;-ms-flex:1;flex:1}._11m5vlcZ_0,._35dXRyPt_0{color:#b2b2b2}._11m5vlcZ_0{font-size:10px;position:absolute;text-align:center}",""]),e.locals={wrap:"_1uSorpRi_0",mask:"_3GAxhwIG_0",main:"_2_wQLMVs_0",content:"_2TotrwHd_0",con:"JL35Jvuj_0",desc:"_11xf0swh_0",btns:"Lif9oOYw_0",btn:"_244GZ-37_0",confirm:"_37EJMsXN_0",cancel:"_35dXRyPt_0",close:"_11m5vlcZ_0"}},757:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".DZrVeOXK_0{position:fixed;z-index:100}._3wRZmGVk_0,.DZrVeOXK_0{top:0;left:0;width:100%;height:100%}._3wRZmGVk_0{position:absolute;z-index:1;background-color:rgba(0,0,0,.5)}._3l-Yr_-o_0{background:#fff;-webkit-transition:all .3s ease;transition:all .3s ease;position:absolute;left:0;bottom:0;width:100%;z-index:100;border-top-left-radius:10px;border-top-right-radius:10px;-webkit-box-sizing:border-box;box-sizing:border-box;transform:translateZ(0);-webkit-transform:translateZ(0);-webkit-box-shadow:0 -3px 15px 0 hsla(0,0%,53%,.23);box-shadow:0 -3px 15px 0 hsla(0,0%,53%,.23)}._1hIfba30_0{color:#888;font-size:15px;text-align:center;height:50px;line-height:50px}._2gineyxN_0{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:15px;border-bottom:.5px solid #e8e8e8}._1o4oDofo_0{font-size:16px;margin-top:-2px;margin-left:8px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:16px;color:#888}._2qMN2vDD_0{margin-left:24px;font-size:15px;color:#353535}",""]),e.locals={"mask-layer-wrap":"DZrVeOXK_0",maskLayerWrap:"DZrVeOXK_0","mask-layer":"_3wRZmGVk_0",maskLayer:"_3wRZmGVk_0",main:"_3l-Yr_-o_0",bottom:"_1hIfba30_0",menu:"_2gineyxN_0",icon:"_1o4oDofo_0",txt:"_2qMN2vDD_0"}},758:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._3I_Jq5nz_0{position:fixed}._3I_Jq5nz_0,._3xvOGrxA_0{top:0;left:0;width:100%;height:100%;z-index:100}._3xvOGrxA_0{position:absolute;background-color:#000}._20ld22E9_0{position:relative;z-index:101;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}._20ld22E9_0 img{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;visibility:hidden}._20ld22E9_0 .hVX44oVP_0{visibility:visible}.DLfklZIn_0{color:#888;font-size:15px;text-align:center;height:50px;line-height:50px}._283MhL7F_0{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:15px;border-bottom:1px solid #e8e8e8}._1nrI-43n_0{font-size:24px;height:26px;width:26px;color:#fff;text-align:center;line-height:26px;right:20px;top:20px;position:absolute;z-index:102;text-shadow:0 0 4px rgba(0,0,0,.3)}",""]),e.locals={maskLayerWrap:"_3I_Jq5nz_0",maskLayer:"_3xvOGrxA_0",main:"_20ld22E9_0",on:"hVX44oVP_0",bottom:"DLfklZIn_0",menu:"_283MhL7F_0",close:"_1nrI-43n_0"}},759:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,"._2jApm7Dx_0{position:fixed;z-index:100}._2jApm7Dx_0,._2RmGmLke_0{top:0;left:0;width:100%;height:100%}._2RmGmLke_0{position:absolute;z-index:1;background-color:hsla(0,0%,100%,.1)}._3H526-eT_0{background:#fff;-webkit-transition:all .3s ease;transition:all .3s ease;position:absolute;left:50%;top:50%;width:415px;z-index:100;padding-top:45px;border-radius:10px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translate(-50%,-80%);transform:translate(-50%,-80%);-webkit-box-shadow:0 5px 30px 0 rgba(140,163,191,.2);box-shadow:0 5px 30px 0 rgba(140,163,191,.2)}._1Dxn1G_n_0{text-align:center;font-size:1rem;color:#353535;line-height:1.2rem;padding:1.5rem 0;font-weight:500}._2hi2MdOC_0{text-align:center;font-size:19px;color:#888;font-weight:500;line-height:1.5;height:100px;padding-left:20px;padding-right:20px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-font-smoothing:antialiased}._2hi2MdOC_0,.jAf-GG2g_0{display:-webkit-box;display:-ms-flexbox;display:flex}.jAf-GG2g_0{padding:18px 30px;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}._1PI0jCHO_0{width:84px;height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:3px;font-size:15px;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}._16uwXDin_0{margin-left:20px;color:#fff;background:#fa8819;-webkit-box-shadow:0 4px 10px 0 rgba(255,227,200,.55);box-shadow:0 4px 10px 0 rgba(255,227,200,.55)}._1vfSbYJI_0{width:64px;color:#b2b2b2;background:#fff}._1lo5B6eA_0{font-size:10px;position:absolute;color:#b2b2b2;top:5px;right:5px;width:30px;height:30px;line-height:30px;text-align:center;cursor:pointer}",""]),e.locals={wrap:"_2jApm7Dx_0",mask:"_2RmGmLke_0",main:"_3H526-eT_0",tit:"_1Dxn1G_n_0",con:"_2hi2MdOC_0",btns:"jAf-GG2g_0",btn:"_1PI0jCHO_0",confirm:"_16uwXDin_0",cancel:"_1vfSbYJI_0",close:"_1lo5B6eA_0"}},760:function(t,e,i){var n=i(756);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("24fefdb5",n,!0,{})},761:function(t,e,i){var n=i(757);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("ef03b228",n,!0,{})},762:function(t,e,i){var n=i(758);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("df73f1e2",n,!0,{})},763:function(t,e,i){var n=i(759);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("5b1e029a",n,!0,{})},764:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAtCAYAAADV2ImkAAAF3ElEQVRoQ82ZeYwcxRXGv696umfWB47N7s7MGmIwwVyCCJxDQRbiCAJxSBCEIZIBKeGKHAMC1jN2BAwEdmYMBv7gBiMOEQICETDEXAoxiREgQMICoigKBFl4e3eJY3vxbs/0dH9RzzQYW7sw3jXQ/Wd31atfvX5V9d5XxCSe+sruH8o3d5OYD3ALoXUEHh4NsHb6cndoEqbH7cqJGvX6OueZVOppiAfuaEMBxHeA8F7bCx9laeiziY4xVr8JA9dWZIuUuRaAMzaQhhXiLsc0fs/Cp8O7C3pCwFtKe8zKZKauInEaIAl4AdJaY/gLiQcDmgKQgBoUlqUK7koS2h3QEwKu9fUcSKMnQRxMwFMYLnaWDdyvEqb4HbkzIVwNcm4LUNsMwkWpwuCfvjNgv5w7WuQaEBlCrqDTncLA6028M2F583t+ZiFcA3Ja8530oRNaP+HyT/47WegJediv9BRFlePB/2Hb2xbw8q2bvgxTL2d/BfJukCkANUAXOQX3we8EuF7JrwVxVNN70LPpgnvqziBb+6bvmTHTngFxZORjgKvWjfb/5pgSGpOB3mUPD/flutIWNwBIRwOHUm+m6N60M4SWIO3PzldBXBqHxWoHtXNY/N+WbxXYL+d6ZbgiXlCBHeAwLnc/2BnilRJSCzK5q0ReHf+J551g2yIuH55UHO+Sh0evz8+xbP0V4D4x8CtOwT12LI/pQtj1ufnrSBSj76RWfzbinTuztHnzt+LhaPU3fpS/FlBBiBaSgpA8JbO0//mxAP61BOk5e+UrAC5rhQSe2uI1zu2e5MnXtofr5a7DYVKPADgoPiyec1RbNF5MqtQzpd4R3kHwvNba1GO2557HEurfuIclsL4i+zDBXwI0gAZD6fxMcWD1eIOrMnNGg+k/CDyp6V/xHqfYf/FkYJuhpRJSNSd7orF4Qih2jGXQgnpERrHa3Bkk3e947mKW4I0L3Jfrqlt4meBh8R95X+Ib7QBbQLSTfOJTf+/Y132bCxF83o/1cvfFMOY2gFY7xgRt9BnMn7Z0yP2q9iPVWXvZSK8XMLMdu+NOHFpviEtSM9zXeBF8+tXcgMDutoxKAwQX2sX+V7+uvW7ozPspO/Lo3l/Xto3vmxCGvXZt4CHWq/ntWdSM74PO9O39fQ8a3gAErXUi6iZnxF3GNk6raFsL5uZOD4AzDJFpA2p7EzEjah7AOVHYxov2AzvFk3cAto64AKbrkC86hls3IHj3IWCkVTyE0JXppe7NuytV/KpJqASnnsldRvAaEFNaAOGvEwsc8X1UQmZ2R+7PAI9p7hDQM4kGjiD9SrYomjgz1MeJB66Vs2fRmD+2wkd+4oEblezZIc2jcbwr8cC1au4agqVWDGMw+cCV/BMkzohDYm2igaO0wc/k342K3QjYSLcnGnhbtbPHof2mhNmxhxcnGrh+Y/anCM2zADqjBIrAcYkGrlVyC0ncBzDKFzYLODLRwH45d4UMb2iltXo/CHFKYoEjXcCv5G8BcUmzJARe8ky4KLnALdlrFcCzW4ecHtjsBUsSC7y1NL0z0zH18TjxEYVyyuu/KrHAWjlrb7/hrAF4SFNwhHqdgntbYoG9aucBFuy/CegCsEkhzk8v638qscC1SvZQ0rwVCeZRHWkYLrSXDq5LLLBf7T5esF6MT7j/qKFT078beC+xwPVq7k6AsY6h9bZqR0WiTSKBvRXd+5nQvANyj3hLu90pur9tpphfrpqTUITqxmx3IzBPiljQgoVnW+GP2TvwXqKAo5PNq2aPNTBXEvo5WoKjL/G6dLH/+s8r7B08bPY/GfxerKQ2r1OGEP77BaAWa9DSnYH0BELulhuhCMK2NVWhmSfgRFGHUugGI/0uunXSY6OjI4tnlLZfR7BezTXalal2SQyZTGOpAWKdnTLn8IqNkdr/xRNJVc+1FMYkPNEtKv5Jo0dSI9Y9LG38dGcqejd3/cCqW7eKPH78W81vcjIKIQyReEvi06EJ/pIeGfx4PDns/4ipxbY8O33UAAAAAElFTkSuQmCC"},765:function(t,e,i){function n(t){this.$style=i(763)}var r=i(22)(i(748),i(772),n,null,null);t.exports=r.exports},766:function(t,e,i){function n(t){this.$style=i(761)}var r=i(22)(i(749),i(770),n,null,null);t.exports=r.exports},767:function(t,e,i){function n(t){this.$style=i(760)}var r=i(22)(i(750),i(769),n,null,null);t.exports=r.exports},768:function(t,e,i){function n(t){this.$style=i(762)}var r=i(22)(i(751),i(771),n,null,null);t.exports=r.exports},769:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("div",{class:t.$style.mask,on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}}),t._v(" "),i("div",{class:t.$style.main},[i("div",{class:t.$style.content},[i("div",{class:t.$style.con},[t._v("\n        "+t._s(t.data.content)+"\n      ")]),t._v(" "),t.data.desc?i("div",{class:t.$style.desc},[t._v("\n        "+t._s(t.data.desc)+"\n      ")]):t._e()]),t._v(" "),i("div",{class:t.$style.btns},[i("div",{class:[t.$style.confirm,t.$style.btn],on:{click:t.confirm}},[t._v(t._s(t.data.confirmText||"确认"))]),t._v(" "),i("div",{class:[t.$style.cancel,t.$style.btn],on:{click:t.close}},[t._v(t._s(t.data.cancelText||"取消"))])])])])},staticRenderFns:[]}},770:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.maskLayerWrap},[i("div",{class:t.$style.main},[t.data.remove?i("div",{class:t.$style.menu,on:{click:t.remove}},[i("span",{class:["iconfont",t.$style.icon]},[t._v("")]),t._v(" "),i("span",{class:t.$style.txt},[t._v("删除")])]):t._e(),t._v(" "),t.data.complain?i("div",{class:t.$style.menu,on:{click:t.complain}},[i("span",{class:["iconfont",t.$style.icon]},[t._v("")]),t._v(" "),i("span",{class:t.$style.txt},[t._v("投诉")])]):t._e(),t._v(" "),i("div",{class:t.$style.bottom,on:{click:t.close}},[t._v("取消")])]),t._v(" "),i("div",{class:t.$style.maskLayer,on:{click:t.close}})])},staticRenderFns:[]}},771:function(t,e){t.exports={render:function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{class:e.$style.maskLayerWrap},[n("div",{ref:"img",class:e.$style.main},[n("img",{class:[(t={},t[e.$style.on]=e.show,t)],style:e.style,attrs:{src:e.imgUrl}})]),e._v(" "),n("div",{class:[e.$style.close,"iconfont"],on:{click:e.close}},[e._v("")]),e._v(" "),n("div",{class:e.$style.maskLayer})])},staticRenderFns:[]}},772:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("div",{class:t.$style.mask,on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}}),t._v(" "),i("div",{class:t.$style.main},[i("div",{class:t.$style.con},[t._v("\n      "+t._s(t.data.content)+"\n    ")]),t._v(" "),i("div",{class:[t.$style.close,"iconfont"],on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[t._v("")]),t._v(" "),i("div",{class:t.$style.btns},[i("div",{class:[t.$style.confirm,t.$style.btn],on:{click:t.confirm}},[t._v(t._s(t.data.confirmText||"确认"))]),t._v(" "),i("div",{class:[t.$style.cancel,t.$style.btn],on:{click:t.close}},[t._v(t._s(t.data.cancelText||"取消"))])])])])},staticRenderFns:[]}},777:function(t,e,i){"use strict";function n(t){"complete"===document.readyState?r(t):window.addEventListener("DOMContentLoaded",function(){r(t)})}function r(t){try{var e=document.querySelectorAll("code.hljs");for(var i in e)e.hasOwnProperty(i)&&o(e[i],t)}catch(t){window.console.error("LineNumbers error: ",t)}}function o(t,e){if("object"===(void 0===t?"undefined":p()(t))){e=e||{singleLine:!1};var i=e.singleLine?0:1;d(function(){s(t),t.innerHTML=a(t.innerHTML,i)})}}function a(t,e){var i=c(t);if(""===i[i.length-1].trim()&&i.pop(),i.length>e){for(var n="",r=0,o=i.length;r<o;r++)n+=h('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[y,_,b,x,v,r+1,i[r].length>0?i[r]:" "]);return h('<table class="{0}">{1}</table>',[m,n])}return t}function s(t){var e=t.childNodes;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];u(n.textContent)>0&&(n.childNodes.length>0?s(n):l(n.parentNode))}}function l(t){var e=t.className;if(/hljs-/.test(e)){for(var i=c(t.innerHTML),n=0,r="";n<i.length;n++)r+=h('<span class="{0}">{1}</span>\n',[e,i[n]]);t.innerHTML=r.trim()}}function c(t){return 0===t.length?[]:t.split(w)}function u(t){return(t.trim().match(w)||[]).length}function d(t){window.setTimeout(t,0)}function h(t,e){return t.replace(/\{(\d+)\}/g,function(t,i){return e[i]?e[i]:t})}var f=i(147),p=i.n(f),g={},m="hljs-ln",_="hljs-ln-line",v="hljs-ln-code",y="hljs-ln-numbers",b="hljs-ln-n",x="data-line-number",w=/\r\n|\r|\n/g;g?(g.initLineNumbersOnLoad=n,g.lineNumbersBlock=o,function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=h(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[m,b,x]),document.getElementsByTagName("head")[0].appendChild(t)}()):window.console.error("highlight.js not detected!"),e.a=g},791:function(t,e,i){function n(t){this.$style=i(836)}var r=i(22)(i(799),i(840),n,null,null);t.exports=r.exports},793:function(t,e,i){"use strict";var n=i(661),r=i.n(n),o=i(36),a=i.n(o),s=i(98),l=i.n(s),c=i(99),u=i.n(c),d=i(800),h=i(803),f=i(802),p=i(801),g=i(753),m=i(804),_=i(668),v={NONE:"none",SELECTING:"selecting",FINISH:"finish"},y={menuItems:[],menuTopOffset:0,cursor:{same:!1}},b=function(t){return t.preventDefault()},x=function(){function t(e){l()(this,t),this.options=a()({},y,e),this.$selectStatus=v.NONE,this.container=null,this.scrollContainer=null,this.excludeElements=[],this.highlight=null,this.movingCursor=null,this.touchEvent=null,this.cursor={start:null,end:null},this.textNode={start:null,end:null},this.mask=null,this.menu=null}return u()(t,[{key:"create",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.container=t,this.adjustTextStyle(),this.container.oncontextmenu=function(t){t.returnValue=!1},this.excludeElements=[].concat(r()(i)),this.scrollContainer=e||document.body,this.container.addEventListener("contextmenu",b),this.scrollContainer.onscroll=this.handleScroll.bind(this),this.container.style.userSelect="none",this.container.style.webkitUserSelect="none",this.container.style.position="relative",this.touchEvent=new m.a(this.container),this.touchEvent.registerEvent(m.b.TOUCH_START,this.handleTouchStart.bind(this)),this.touchEvent.registerEvent(m.b.TOUCH_MOVE,this.handleTouchMove.bind(this)),this.touchEvent.registerEvent(m.b.TOUCH_MOVE_THROTTLE,this.handleTouchMoveThrottle.bind(this)),this.touchEvent.registerEvent(m.b.TOUCH_END,this.handleTouchEnd.bind(this)),this.touchEvent.registerEvent(m.b.TAP,this.handleTap.bind(this)),this.touchEvent.registerEvent(m.b.LONG_TAP,this.handleLongTap.bind(this)),this.options.cursor.same?this.cursor.start=new d.a(this.container,d.b.END):this.cursor.start=new d.a(this.container,d.b.START),this.cursor.end=new d.a(this.container,d.b.END),this.movingCursor=this.cursor.end,this.mask=new f.a(this.container),this.highlight=new p.a(this.container),this.menu=new h.a(this.container,{menuItems:this.options.menuItems,topOffset:this.options.menuTopOffset,style:this.options.menuStyle}),this.menu.easyMarker=this}},{key:"getSelectText",value:function(){var t=g.a.getSelectText(this.textNode.start,this.textNode.end)||"";return i.i(_.a)(this.container.innerText,t)||t}},{key:"highlightLine",value:function(t,e,i){this.highlight.highlightLine(t,e,i,this.screenRelativeOffset)}},{key:"highlightLines",value:function(t){this.highlight.highlightLines(t,this.screenRelativeOffset)}},{key:"cancelHighlightLine",value:function(t){this.highlight.cancelHighlightLine(t)}},{key:"onHighlightLineClick",value:function(t){this.highlight.onClick=t}},{key:"registerEventHook",value:function(t){this.touchEvent.registerHook(t)}},{key:"destroy",value:function(){this.container.oncontextmenu=null,this.container.removeEventListener("contextmenu",b),this.scrollContainer.onscroll=null,this.touchEvent.destroy(),this.cursor.start.destroy(),this.cursor.end.destroy(),this.mask.destroy(),this.highlight.destroy(),this.menu.destroy(),this.$selectStatus=v.NONE,this.container=null,this.scrollContainer=null,this.excludeElements=[],this.highlight=null,this.movingCursor=null,this.touchEvent=null,this.cursor={start:null,end:null},this.textNode={start:null,end:null},this.mask=null,this.menu=null}},{key:"reset",value:function(){this.selectStatus=v.NONE,this.cursor.start.hide(),this.cursor.end.hide(),this.textNode={start:null,end:null},this.mask.reset()}},{key:"adjustTextStyle",value:function(){for(var t=this.container.children,e=0;e<t.length;e++)t[e].style.zIndex="5",t[e].style.position="relative"}},{key:"moveCursor",value:function(t,e,n){var r=i.i(_.b)(t,e,n,this.movingCursor===this.cursor.start);if(null!==r){var o=r.x-this.screenRelativeOffset.x,a=r.y-this.screenRelativeOffset.y,s=this.movingCursor===this.cursor.start?this.cursor.end:this.cursor.start;s.position.x===o&&s.position.y===a||(this.swapCursor(r,{x:o,y:a}),this.movingCursor.height=r.height,this.movingCursor.position={x:o,y:a},this.renderMask())}}},{key:"swapCursor",value:function(t,e){var i=e.x,n=e.y;if(this.movingCursor===this.cursor.start){var r=this.cursor.end.position;n>r.y||n===r.y&&i>=r.x?(this.cursor.start.position=this.cursor.end.position,this.movingCursor=this.cursor.end,this.textNode.start=new g.a(this.textNode.end.node,this.textNode.end.offset),this.textNode.end=new g.a(t.node,t.index)):this.textNode.start=new g.a(t.node,t.index)}else{var o=this.cursor.start.position;n<o.y||n===o.y&&i<=o.x?(this.cursor.end.position=this.cursor.start.position,this.movingCursor=this.cursor.start,this.textNode.end=new g.a(this.textNode.start.node,this.textNode.start.offset),this.textNode.start=new g.a(t.node,t.index)):this.textNode.end=new g.a(t.node,t.index)}}},{key:"selectWords",value:function(t,e,n){var r=["。”","？”","！”","。","？","！"],o=i.i(_.c)(t,e,n,r)||{},a=o.rects,s=o.node,l=o.index,c=o.wordsLength;if(a&&(!a||0!==a.length)){var u=a[0],d=a[a.length-1],h=u.left-this.screenRelativeOffset.x,f=u.top-this.screenRelativeOffset.y;this.textNode.start=new g.a(s,l),this.cursor.start.height=u.height,this.cursor.start.position={x:h,y:f};var p=d.left-this.screenRelativeOffset.x,m=d.top-this.screenRelativeOffset.y;this.textNode.end=new g.a(s,l+c),this.cursor.end.height=d.height,this.cursor.end.position={x:p+d.width,y:m},this.cursor.start.show(),this.cursor.end.show(),this.renderMask(),this.selectStatus=v.FINISH}}},{key:"renderMask",value:function(){var t=g.a.getSelectRects(this.textNode.start,this.textNode.end),e=t.header,n=t.body,r=t.footer,o=i.i(_.d)(e,this.screenRelativeOffset),a=i.i(_.d)(n,this.screenRelativeOffset),s=i.i(_.d)(r,this.screenRelativeOffset);this.mask.render(o,a,s)}},{key:"isContains",value:function(t){return this.container.contains(t)&&-1===this.excludeElements.findIndex(function(e){return e.contains(t)})}},{key:"handleTap",value:function(t){if(this.selectStatus===v.FINISH){this.menu.handleTap(t,{start:this.textNode.start,end:this.textNode.end,content:this.getSelectText()});var e=this.getTouchRelativePosition(t),n=this.cursor.start.inRegion(e),r=this.cursor.end.inRegion(e);if(n.inRegion||r.inRegion)return;this.reset()}else if(this.selectStatus===v.NONE){if("A"===t.target.nodeName)return void t.preventDefault();var o=this.highlight.handleTap(t);if(!o&&!this.options.disableTapHighlight&&this.isContains(t.target)){var a=i.i(_.e)(t),s=a.x,l=a.y;this.selectWords(t.target,s,l)}}}},{key:"handleLongTap",value:function(t){if(this.isContains(t.target)){var e=i.i(_.e)(t),n=e.x,r=e.y;this.selectWords(t.target,n,r)}}},{key:"handleTouchStart",value:function(t){if(this.selectStatus===v.FINISH){var e=this.getTouchRelativePosition(t),i=this.cursor.start.inRegion(e),n=this.cursor.end.inRegion(e);i.inRegion&&n.inRegion?(this.selectStatus=v.SELECTING,this.movingCursor=i.distance<n.distance?this.cursor.start:this.cursor.end):n.inRegion?(this.selectStatus=v.SELECTING,this.movingCursor=this.cursor.end):i.inRegion&&(this.selectStatus=v.SELECTING,this.movingCursor=this.cursor.start)}}},{key:"handleTouchMove",value:function(t){this.selectStatus===v.SELECTING&&t.preventDefault()}},{key:"handleTouchMoveThrottle",value:function(t){if(this.selectStatus===v.SELECTING){var e={x:0,y:-this.movingCursor.height/2},n=i.i(_.e)(t,e),r=n.x,o=n.y,a=document.elementFromPoint(r,o);this.isContains(a)&&this.moveCursor(a,r,o)}}},{key:"handleTouchEnd",value:function(){this.selectStatus===v.SELECTING&&(this.selectStatus=v.FINISH)}},{key:"handleScroll",value:function(){this.selectStatus===v.FINISH&&this.menu.handleScroll()}},{key:"getTouchRelativePosition",value:function(t){var e={x:0,y:-this.movingCursor.height/2},n=i.i(_.e)(t,e);return n.x-=this.screenRelativeOffset.x,n.y-=this.screenRelativeOffset.y,n}},{key:"selectStatus",get:function(){return this.$selectStatus},set:function(t){if(this.$selectStatus=t,t===v.FINISH){var e=this.mask.top-this.movingCursor.height/2;this.menu.setPosition(e,this.mask.top+this.mask.height),this.menu.show()}else this.menu.hide()}},{key:"screenRelativeOffset",get:function(){var t=this.container.getBoundingClientRect(),e=t.top;return{x:t.left,y:e,right:t.right}}}],[{key:"create",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=new this;return n.create(t,e,i),n}}]),t}();e.a=x},794:function(t,e,i){"use strict";var n=i(98),r=i.n(n),o=i(99),a=i.n(o),s=function(){function t(){r()(this,t),this.middleware=[],this.after=[],this.finished=!1,this.index=0}return a()(t,[{key:"use",value:function(t){return this.middleware.push(t),this}},{key:"ready",value:function(t){this.finished?t():this.after.push(t)}},{key:"next",value:function(){var t=this,e=this.middleware[this.index];e&&e(function(){t.index=t.index+1,t.next()})}},{key:"clear",value:function(){this.middleware=[],this.after=[],this.finished=!1,this.index=0}},{key:"load",value:function(){var t=this;this.middleware.push(function(){t.finished=!0,t.after.length>0&&(t.middleware=t.after,t.index=0,t.next())}),this.next()}}]),t}();e.a=s},795:function(t,e,i){"use strict";function n(t,e,i){var r="";if(e.childNodes.length>0&&"SCRIPT"!==e.nodeName.toUpperCase()&&"STYLE"!==e.nodeName.toUpperCase()){return r=n(t,e.childNodes[e.childNodes.length-1],void 0)+r}"#text"===e.nodeName&&(r=e.textContent.substr(0,i));var o=e.previousSibling;if(o)r=n(t,o,void 0)+r;else{for(var a=e.parentNode;a&&null===a.previousSibling;)if((a=a.parentNode)===t)return r;if(a){r=n(t,a.previousSibling,void 0)+r}}return r}function r(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="",n=e.replace(/\s+/g,""),r=0,o=0;r<t.length;r++){if(o>=n.length)return i;t[r]===n[o]?(i+=t[r],o++):t[r].match(/\n|\r|\s/)?""!==i&&(i+=t[r]):(o=0,i="")}return i}function o(t){return a(t.childNodes[0],t)}function a(t,e){var i=[];if(t.childNodes.length>0&&"SCRIPT"!==t.nodeName.toUpperCase()&&"SCRIPT"!==t.nodeName.toUpperCase()&&"STYLE"!==t.nodeName.toUpperCase()){var n=t.childNodes[0],r=a(n,e);return i=[].concat(c()(i),c()(r))}"#text"===t.nodeName&&i.push(t);var o=t.nextSibling;if(o){var s=a(o,e);i=[].concat(c()(i),c()(s))}else{for(var l=t.parentNode;l&&null===l.nextSibling;)l=l.parentNode;if(l===e)return i;if(l){var u=a(l.nextSibling,e);i=[].concat(c()(i),c()(u))}}return i}function s(t,e,i){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o="",a=[],s=0,l=e.length;s<l;s++){var c=e[s];if(o+=c.textContent,o=r(t,o)||o,o.indexOf(i)>-1){var u=o.indexOf(i),d=o.length-i.length-u;for(a.push({node:c,index:s,offset:d}),o=o.substr(u+i.length);o.length>0&&o.indexOf(i)>-1;)u=o.indexOf(i),d=o.length-i.length-u,a.push({node:c,index:s,offset:d}),o=o.substr(u+i.length)}if(a.length>=n+1)break}if(a.length-1<n)return{start:null,end:null};var h=void 0;n>0?(h=a[n-1],h.offset=e[h.index].textContent.length-h.offset):h={node:e[0],index:0,offset:0};var f=a[n],p=e[f.index].textContent;f.offset=Math.max(0,r(t,p).length-f.offset),f.offset=Math.min(p.length,f.offset),o="";for(var g=f.index;g>=h.index;g--){var m=e[g];if(o=g===h.index?m.textContent.substr(h.offset)+o:m.textContent+o,o=r(t,o)||o,o.indexOf(i)>-1){var _=o.indexOf(i);g===h.index&&(_+=h.offset),_=Math.max(0,_),h={node:m,index:g,offset:_};break}}return h.index>f.index||h.index===f.index&&h.offset>f.offset||h.offset<0||f.offset<0?{start:null,end:null}:{start:h,end:f}}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return s});var l=i(661),c=i.n(l)},797:function(t,e,i){t.exports=i.p+"static/time/img/logo_pc@2x.90583da.png"},799:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(220),r=i.n(n),o=i(143),a=i.n(o),s=i(65),l=i(215),c=i(216);e.default={props:{customStyle:{type:Object,default:function(){return{}}},allshow:{type:Boolean,default:!1},routeParams:{type:Object,default:function(){return{}}}},data:function(){return{isShowDropPage:!1,params:null}},computed:a()({},i.i(c.a)({loginUser:"loginUser"}),{isShow:function(){return!s.a.isInApp()&&!this.$route.query.code},isPC:function(){return s.a.isPC()},routeRelatedData:function(){var t=this.params;return this.$route.query.utm_term&&(t.utm_term=this.$route.query.utm_term),{jump:this.$route.meta.appLink,data:t}},urlScheme:function(){var t=this,e="";if(this.$route.meta.urlscheme){var i=this.$route.meta.urlscheme.match(/{{\s*[\w]+\s*}}/gi);e=this.$route.meta.urlscheme,i&&i.forEach(function(i){e=e.replace(i,t.$route.params[i.match(/[\w]+/)[0]])}),this.$route.query.utm_term&&(e=s.a.addUrlParam(e,"utm_term",this.$route.query.utm_term)),this.routeParams.aid&&(e=s.a.addUrlParam(e,"aid",this.routeParams.aid),e=s.a.addUrlParam(e,"title",this.routeParams.title))}return e},appLink:function(){if(s.a.isPC())return"https://time.geekbang.org/download";if(s.a.isIOS()){var t=a()({},this.routeRelatedData);return this.urlScheme&&(t.urlscheme=this.urlScheme),"https://static001.geekbang.org/misc/download/zeus.html?params="+encodeURIComponent(r()(t))}var e=this.$route.meta.urlscheme?"views?urlscheme="+encodeURIComponent(this.urlScheme):"tab=1",i="geektime://time.geekbang.org:80/main?"+encodeURIComponent(e);return s.a.isInWeixin()?l.a.appstoreUrl+"&android_schema="+i:i}}),created:function(){this.params=this.$route.params||this.$route.query},methods:{goApp:function(){window.location.href=this.appLink},goArithmeticTraining:function(){window.location.href="https://time.geekbang.org/special/arithmetic?utm_source=time_web&utm_medium=menu"},goFrontEndTraining:function(){window.location.href="https://time.geekbang.org/training/100028201?utm_source=time_web&utm_medium=menu"},goLogin:function(){window.location.href="//account.geekbang.org/signin?redirect="+encodeURIComponent(window.location.href)},goAccount:function(){window.location.href="//account.geekbang.org/dashboard?redirect="+encodeURIComponent(window.location.href)},goGift:function(){window.location.href="//time.geekbang.org/gift/card"},goIndex:function(){window.location.href="//time.geekbang.org"},goDownload:function(){window.location.href="//time.geekbang.org/download"},goService:function(){window.open("https://service.geekbang.org/")},goMall:function(){window.open("https://h5.youzan.com/v2/feature/TJe4bYhxyP?dc_ps=2293231415741009926.200001")},goInfoQ:function(){window.open("https://www.infoq.cn/?utm_source=geektime&utm_medium=menu")},goChannel:function(){window.open("https://jinshuju.net/f/7y04KD")},goRecomandAuthor:function(){window.open("https://jinshuju.net/f/MANYIf")},goHome:function(){window.location.href="//time.geekbang.org"},goAlgorithmTraining:function(){window.location.href="//time.geekbang.org/special/arithmetic?utm_source=time_web&utm_medium=menu"}}}},800:function(t,e,i){"use strict";i.d(e,"b",function(){return y});var n=i(807),r=i.n(n),o=i(36),a=i.n(o),s=i(680),l=i.n(s),c=i(98),u=i.n(c),d=i(99),h=i.n(d),f=i(682),p=i.n(f),g=i(681),m=i.n(g),_=i(679),v=i(668),y={START:"start",END:"end"},b={},x=function(t){function e(t,i,n){u()(this,e);var r=p()(this,(e.__proto__||l()(e)).call(this));return r.container=t,r.type=i,r.options=a()({},b,n),r.$position={x:0,y:0},r.$height=0,r.touchCallbackStack=[],r.topPoint=null,r.lineElement=null,r.bottomPoint=null,r.createElement(),r.mount(),r}return m()(e,t),h()(e,[{key:"moveTo",value:function(t,e){this.style.top=e-this.width+"px",this.style.left=t-this.width/2+"px"}},{key:"createElement",value:function(){this.element=document.createElement("div"),this.style.userSelect="none",this.style.webkitUserSelect="none",this.style.zIndex="2",this.style.transition="top 0.1s, left 0.1s",this.style.display="none",this.style.position="absolute",this.topPoint=document.createElement("div"),this.topPoint.style.borderRadius="50%",this.topPoint.style.margin="auto",this.lineElement=document.createElement("div"),this.lineElement.style.margin="auto",this.lineElement.style.backgroundColor="#fa8919",this.bottomPoint=document.createElement("div"),this.bottomPoint.style.borderRadius="50%",this.bottomPoint.style.margin="auto",this.type===y.START?this.topPoint.style.backgroundColor="#fa8919":this.bottomPoint.style.backgroundColor="#fa8919",this.element.appendChild(this.topPoint),this.element.appendChild(this.lineElement),this.element.appendChild(this.bottomPoint)}},{key:"setCursorSize",value:function(t){var e=this.width+"px";this.style.width=e,this.topPoint.style.height=e,this.topPoint.style.width=e,this.bottomPoint.style.height=e,this.bottomPoint.style.width=e,this.lineElement.style.height=t+"px",this.lineElement.style.width=t/15+"px"}},{key:"inRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.height,n=r.a;return t.y>this.position.y&&t.y<this.position.y+this.height&&(n=Math.abs(t.x-this.position.x)),t.y>=this.position.y+this.with&&(n=i.i(v.j)(t,{x:this.position.x,y:this.position.y+this.height})),t.y<=this.position.y&&(n=i.i(v.j)(t,this.position)),{inRegion:n<=e,distance:n}}},{key:"position",set:function(t){var e=t.x,i=t.y;this.$position={x:e,y:i},this.moveTo(e,i)},get:function(){return this.$position}},{key:"height",get:function(){return this.$height},set:function(t){t!==this.$height&&(this.$height=t,this.setCursorSize(t))}},{key:"width",get:function(){return this.height/4}}]),e}(_.a);e.a=x},801:function(t,e,i){"use strict";var n=i(754),r=i.n(n),o=i(701),a=i.n(o),s=i(36),l=i.n(s),c=i(680),u=i.n(c),d=i(98),h=i.n(d),f=i(99),p=i.n(f),g=i(682),m=i.n(g),_=i(681),v=i.n(_),y=i(679),b=i(753),x=i(668),w=function(t){function e(t,n){h()(this,e);var r=m()(this,(e.__proto__||u()(e)).call(this)),o={color:"fa8919",opacity:.1};return r.container=t,r.option=l()(o,n),r.option.margin=i.i(x.h)(r.option.margin),r.lineMap=new a.a,r.onClick=function(){},r.createElement(),r.mount(),r.id=0,r}return v()(e,t),p()(e,[{key:"getID",value:function(){return this.id++}},{key:"highlight",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],a=void 0===e||null===e?this.getID():e,s=new b.a(t.anchorNode,t.anchorOffset),l=new b.a(t.focusNode,t.focusOffset),c=Number(window.getComputedStyle(t.anchorNode.parentElement).lineHeight.replace("px","")),u=void 0;try{var d=b.a.getSelectNodeRectAndText(s.node,l.node,s.offset,l.offset);u=d.rects}catch(t){console.error("EasyMarkerError:",t),u=[]}var h=[],f=u.map(function(t){var e={top:t.top-o.y,bottom:t.bottom-o.y,height:t.height,width:t.width,left:t.left-o.x,right:t.right-o.x};h.push(e),c=c||t.height;var n=i.option.margin||(c-t.height)/4;return i.constructor.rectToPointArray(t,o,n).reduce(function(t,e){var i=r()(e,2);return t+" "+i[0]+","+i[1]},"")});return this.lineMap.set(a,{selection:t,points:f,relativeRects:h,meta:n,lineHeight:c}),a}},{key:"render",value:function(){var t=this;this.removeAllRectangle(),this.lineMap.forEach(function(e){e.points.forEach(function(e){t.element.appendChild(t.createRectangle(e))})})}},{key:"highlightLines",value:function(t,e){var i=this;this.lineMap.clear();var n=t.map(function(t){var n=t.selection,r=t.id,o=t.meta;return i.highlight(n,r,o,e)});return this.render(),n}},{key:"highlightLine",value:function(t,e,i,n){var r=this.highlight(t,e,i,n);return this.render(),r}},{key:"cancelHighlightLine",value:function(t){this.lineMap.delete(t),this.render()}},{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.style.zIndex="1",t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.overflow="visible",this.element=t}},{key:"createRectangle",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.style.fill=this.option.color,e.style.strokeWidth=0,e.style.strokeOpacity=this.option.opacity,e.style.opacity=this.option.opacity,e.setAttribute("points",t),e}},{key:"handleTap",value:function(t){var e=i.i(x.e)(t),n=e.x,r=e.y,o=this.container.getBoundingClientRect(),a=o.top,s=o.left,l=void 0;return this.lineMap.forEach(function(t,e){for(var o=0;o<t.relativeRects.length;o++){var c=t.relativeRects[o],u=(t.lineHeight-c.height)/2;if(i.i(x.i)(n-s,r-a,c,u)){l={id:e,line:t};break}}}),!!l&&(this.onClick(l.id,l.line.meta,l.line.selection),!0)}},{key:"removeAllRectangle",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}}],[{key:"rectToPointArray",value:function(t,e,i){var n=[];return 0===t.width?n:(n.push([t.left-i,t.top-i]),n.push([t.right+i,t.top-i]),n.push([t.right+i,t.bottom+i]),n.push([t.left-i,t.bottom+i]),n.forEach(function(t){t[0]>e.right?t[0]=e.right-e.x:t[0]-=e.x,t[1]-=e.y}),n)}}]),e}(y.a);e.a=w},802:function(t,e,i){"use strict";var n=i(754),r=i.n(n),o=i(36),a=i.n(o),s=i(680),l=i.n(s),c=i(98),u=i.n(c),d=i(99),h=i.n(d),f=i(682),p=i.n(f),g=i(681),m=i.n(g),_=i(679),v=i(752),y=function(t){function e(t,i){u()(this,e);var n=p()(this,(e.__proto__||l()(e)).call(this)),r={color:"fa8919",opacity:.1,animateDuration:100};return n.container=t,n.option=a()(r,i),n.paths=[],n.position={header:new v.a,body:new v.a,footer:new v.a},n.animating=!1,n.animateStartTime=0,n.animateEndTime=0,n.animatePercent=0,n.polygonElement=null,n.createElement(),n.mount(),n}return m()(e,t),h()(e,[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.overflow="visible";var e=document.createElementNS("http://www.w3.org/2000/svg","polygon");e.style.fill=this.option.color,e.style.strokeWidth=0,e.style.strokeOpacity=this.option.opacity,e.style.opacity=this.option.opacity,e.style.transition="opacity 0.2s ease",t.appendChild(e),this.element=t,this.polygonElement=e}},{key:"render",value:function(t,e,i){var n=this.position,r=n.header,o=n.body,a=n.footer;if(!(0!==this.paths.length&&r.equal(t)&&o.equal(e)&&a.equal(i))){this.polygonElement.style.opacity=this.option.opacity;var s=this.position;this.position.header.setAll(t),this.position.body.setAll(e),this.position.footer.setAll(i),this.animateStartTime=Date.now(),this.animateEndTime=this.animateStartTime+this.option.animateDuration,this.animatePercent=0,this.animating||(this.animating=!0,this.animated(s))}}},{key:"animated",value:function(t){var e=this,i=(Date.now()-this.animateStartTime)/(this.animateEndTime-this.animateStartTime),n=0;if(i>=1)n=1,this.animatePercent=1;else{var o=1e3/60/this.option.animateDuration+1.3*(i-this.animatePercent);this.animatePercent+=o,n=o/(1-i),n=o>1?1:o}var a=this.constructor.getAnimateFrame(t.header,this.position.header,n),s=this.constructor.getAnimateFrame(t.body,this.position.body,n),l=this.constructor.getAnimateFrame(t.footer,this.position.footer,n),c={header:a,body:s,footer:l};this.paths=this.constructor.getPaths(c);var u=this.paths.map(function(t){var e=r()(t,2);return e[0]+","+e[1]}).join(" ");if(this.polygonElement.setAttribute("points",u),i>=1)return void(this.animating=!1);window.requestAnimationFrame(function(){return e.animated(c)})}},{key:"reset",value:function(){this.paths=[],this.polygonElement.style.opacity="0",this.polygonElement.setAttribute("points","")}},{key:"top",get:function(){return this.position.header.y}},{key:"height",get:function(){return this.position.header.height+this.position.body.height+this.position.footer.height}}],[{key:"getAnimateFrame",value:function(t,e,i){var n=new v.a;return n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i,n.height=t.height+(e.height-t.height)*i,n.width=t.width+(e.width-t.width)*i,n}},{key:"getPaths",value:function(t){var e=t.header,i=t.body,n=t.footer,r=[];return e.isSet&&(r.push([e.x,e.y]),r.push([e.x+e.width,e.y]),r.push([e.x+e.width,e.y+e.height])),i.isSet&&(r.push([i.x+i.width,i.y]),r.push([i.x+i.width,i.y+i.height])),n.isSet&&(r.push([n.x+n.width,n.y]),r.push([n.x+n.width,n.y+n.height]),r.push([n.x,n.y+n.height]),r.push([n.x,n.y])),i.isSet&&(r.push([i.x,i.y+i.height]),r.push([i.x,i.y])),e.isSet&&r.push([e.x,e.y+e.height]),r}}]),e}(_.a);e.a=y},803:function(t,e,i){"use strict";var n=i(701),r=i.n(n),o=i(36),a=i.n(o),s=i(680),l=i.n(s),c=i(98),u=i.n(c),d=i(99),h=i.n(d),f=i(682),p=i.n(f),g=i(681),m=i.n(g),_=i(679),v=i(668),y=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,e);var o=p()(this,(e.__proto__||l()(e)).call(this));return o.container=t,o.option={items:n.menuItems,topOffset:i.i(v.h)(n.topOffset),style:{menu:{fontSize:"0.4rem",backgroundColor:"#262626",fontColor:"#fff",borderRadius:"0.1rem",color:"#fff",border:"0px",display:"inline-block",padding:"0 0.2rem",margin:"auto"},triangle:{marginLeft:"auto",marginRight:"auto",borderTop:"0.2rem solid #262626",borderRight:"0.2rem solid transparent",borderLeft:"0.2rem solid transparent",width:"0",height:"0",marginTop:"-1px"},item:{lineHeight:"1.24rem",padding:"0 0.3rem",color:"#fff",display:"inline-block"}}},n.style&&(a()(o.option.style.menu,n.style.menu),a()(o.option.style.triangle,n.style.triangle),a()(o.option.style.item,n.style.item)),o.easyMarker=null,o.menuElement=null,o.itemMap=new r.a,o.positionRange={top:0,bottom:0},o.ticking=!1,o.height=0,o.createElement(),o.mount(),o.hide(!1),o}return m()(e,t),h()(e,[{key:"createElement",value:function(){var t=this,e=document.createElement("div");e.style.position="absolute",e.style.width="100%",e.style.textAlign="center",e.style.lineHeight="0",e.style.left="0",e.style.zIndex="10",e.style.transform="translateY(-100%)",e.style.webkitTransform="translateY(-100%)",e.style.transition="transform 0.2s ease, opacity 0.2s ease";var i=document.createElement("div");a()(i.style,this.option.style.menu);var n=document.createElement("div");a()(n.style,this.option.style.triangle),e.appendChild(i),e.appendChild(n),this.option.items.forEach(function(e){var n=t.createMenuItemElement(e.text,e.noborder);t.itemMap.set(n,e),i.appendChild(n)}),this.menuElement=i,this.element=e}},{key:"createMenuItemElement",value:function(t,e){var i=document.createElement("span");a()(i.style,this.option.style.item,e?{border:"none"}:null);var n=document.createTextNode(t);return i.appendChild(n),i}},{key:"setPosition",value:function(t,e){this.positionRange.top=t,this.positionRange.bottom=e}},{key:"hide",value:function(){this.style.visibility="hidden",this.style.opacity="0"}},{key:"show",value:function(){var t=0;this.height||(this.height=Number((window.getComputedStyle(this.menuElement).height||"").replace("px","")));var e=this.container.getBoundingClientRect(),i=e.top;i<0&&this.positionRange.bottom<-i?(t=this.positionRange.bottom,this.style.position="absolute"):this.positionRange.top-this.height-this.option.topOffset>-i?(t=this.positionRange.top,this.style.position="absolute"):(this.style.position="fixed",t=this.option.topOffset+this.height),this.style.visibility="visible",this.style.top=t+"px",this.style.opacity="1"}},{key:"handleTap",value:function(t,e){var i=e.start,n=e.end,r=e.content;if(!this.itemMap.has(t.target))return!1;var o={anchorNode:i.node,anchorOffset:i.offset,focusNode:n.node,focusOffset:n.offset,toString:function(){return r}};return this.itemMap.get(t.target).handler.call(this.easyMarker,o),!0}},{key:"handleScroll",value:function(){var t=this;this.ticking||(window.requestAnimationFrame(function(){t.show(),t.ticking=!1}),this.ticking=!0)}}]),e}(_.a);e.a=y},804:function(t,e,i){"use strict";i.d(e,"b",function(){return u});var n=i(36),r=i.n(n),o=i(98),a=i.n(o),s=i(99),l=i.n(s),c=i(668),u={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_MOVE_THROTTLE:"touchmovethrottle",TOUCH_END:"touchend",TAP:"tap",LONG_TAP:"longtap"},d=function(){function t(e,i){a()(this,t),this.options={longTapTime:600,tapTime:500,slideDistance:20,throttleTime:50},this.element=e,this.options=r()(this.options,i),this.touchStartCallbacks=[],this.touchMoveCallbacks=[],this.touchMoveThrottleCallbacks=[],this.touchEndCallbacks=[],this.tapCallbacks=[],this.longTapCallbacks=[],this.hook=function(){return!0},this.touchStartPosition={x:0,y:0},this.longTapTimerHandler=null,this.touchMoveTimerHandler=null,this.touchStartTime=Date.now(),this.lastMoveTime=Date.now(),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.element.addEventListener("touchstart",this.onTouchStart),this.element.addEventListener("touchmove",this.onTouchMove),this.element.addEventListener("touchend",this.onTouchEnd)}return l()(t,[{key:"registerEvent",value:function(t,e){if("function"==typeof e)switch(t){case u.TOUCH_START:this.touchStartCallbacks.push(e);break;case u.TOUCH_MOVE:this.touchMoveCallbacks.push(e);break;case u.TOUCH_MOVE_THROTTLE:this.touchMoveThrottleCallbacks.push(e);break;case u.TOUCH_END:this.touchEndCallbacks.push(e);break;case u.TAP:this.tapCallbacks.push(e);break;case u.LONG_TAP:this.longTapCallbacks.push(e)}}},{key:"registerHook",value:function(t){this.hook=t}},{key:"onTouchStart",value:function(t){var e=this;this.hook("touchstart",t)&&(this.touchStartCallbacks.forEach(function(e){return e(t)}),this.longTapTimerHandler=setTimeout(function(){e.onLongTap(t)},this.options.longTapTime),this.touchStartPosition=i.i(c.e)(t),this.touchStartTime=Date.now())}},{key:"onTouchMove",value:function(t){var e=this;if(this.hook("touchmove",t)){this.touchMoveCallbacks.forEach(function(e){return e(t)}),clearTimeout(this.touchMoveTimerHandler),this.touchMoveTimerHandler=setTimeout(function(){e.onTouchMoveThrottle(t)},this.options.throttleTime),Date.now()-this.lastMoveTime>this.options.throttleTime&&(this.lastMoveTime=Date.now(),this.onTouchMoveThrottle(t));var n=i.i(c.e)(t);i.i(c.j)(n,this.touchStartPosition)>this.options.slideDistance&&(clearTimeout(this.longTapTimerHandler),this.longTapTimerHandler=null)}}},{key:"onTouchEnd",value:function(t){if(this.hook("touchmove",t)&&(this.touchEndCallbacks.forEach(function(e){return e(t)}),clearTimeout(this.longTapTimerHandler),this.longTapTimerHandler=null,Date.now()-this.touchStartTime<this.options.tapTime)){var e=i.i(c.e)(t);if(i.i(c.j)(e,this.touchStartPosition)<this.options.slideDistance){t.preventDefault();var n=this.constructor.createMouseEvent("click",t);this.onTap(t),t.target.dispatchEvent(n)}}}},{key:"onTouchMoveThrottle",value:function(t){this.touchMoveThrottleCallbacks.forEach(function(e){return e(t)})}},{key:"onTap",value:function(t){this.hook("tap",t)&&this.tapCallbacks.forEach(function(e){return e(t)})}},{key:"onLongTap",value:function(t){this.longTapCallbacks.forEach(function(e){return e(t)})}},{key:"destroy",value:function(){this.element.removeEventListener("touchstart",this.onTouchStart),this.element.removeEventListener("touchmove",this.onTouchMove),this.element.removeEventListener("touchend",this.onTouchEnd)}}],[{key:"createMouseEvent",value:function(t,e){var i=e.changedTouches[0],n=new MouseEvent(t);return n.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,n}}]),t}();e.a=d},805:function(t,e,i){t.exports={default:i(809),__esModule:!0}},806:function(t,e,i){t.exports={default:i(810),__esModule:!0}},807:function(t,e,i){t.exports={default:i(812),__esModule:!0}},808:function(t,e,i){t.exports={default:i(814),__esModule:!0}},809:function(t,e,i){i(148),i(145),t.exports=i(825)},810:function(t,e,i){i(148),i(145),t.exports=i(826)},811:function(t,e,i){i(153),i(145),i(148),i(827),i(833),i(832),i(831),t.exports=i(10).Map},812:function(t,e,i){i(828),t.exports=9007199254740991},813:function(t,e,i){i(829),t.exports=i(10).Object.getPrototypeOf},814:function(t,e,i){i(830),t.exports=i(10).Object.setPrototypeOf},815:function(t,e,i){var n=i(217);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},816:function(t,e,i){var n=i(75),r=i(151),o=i(100),a=i(146),s=i(818);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d,f=e||s;return function(e,s,p){for(var g,m,_=o(e),v=r(_),y=n(s,p,3),b=a(v.length),x=0,w=i?f(e,b):l?f(e,0):void 0;b>x;x++)if((h||x in v)&&(g=v[x],m=y(g,x,_),t))if(i)w[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:w.push(g)}else if(u)return!1;return d?-1:c||u?u:w}}},817:function(t,e,i){var n=i(38),r=i(232),o=i(13)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},818:function(t,e,i){var n=i(817);t.exports=function(t,e){return new(n(t))(e)}},819:function(t,e,i){"use strict";var n=i(37).f,r=i(149),o=i(230),a=i(75),s=i(229),l=i(217),c=i(152),u=i(233),d=i(236),h=i(39),f=i(228).fastKey,p=i(755),g=h?"_s":"size",m=function(t,e){var i,n=f(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t(function(t,n){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&l(n,i,t[c],t)});return o(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=p(this,e),n=m(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(t){p(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!m(p(this,e),t)}}),h&&n(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,i){var n,r,o=m(t,e);return o?o.v=i:(t._l=o={i:r=f(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?u(0,i.k):"values"==e?u(0,i.v):u(0,[i.k,i.v]):(t._t=void 0,u(1))},i?"entries":"values",!i,!0),d(e)}}},820:function(t,e,i){var n=i(150),r=i(815);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},821:function(t,e,i){"use strict";var n=i(12),r=i(32),o=i(228),a=i(58),s=i(45),l=i(230),c=i(217),u=i(229),d=i(38),h=i(78),f=i(37).f,p=i(816)(0),g=i(39);t.exports=function(t,e,i,m,_,v){var y=n[t],b=y,x=_?"set":"add",w=b&&b.prototype,k={};return g&&"function"==typeof b&&(v||w.forEach&&!a(function(){(new b).entries().next()}))?(b=e(function(e,i){u(e,b,t,"_c"),e._c=new y,void 0!=i&&c(i,_,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!v||"clear"!=t)&&s(b.prototype,t,function(i,n){if(u(this,b,t),!e&&v&&!d(i))return"get"==t&&void 0;var r=this._c[t](0===i?0:i,n);return e?this:r})}),v||f(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(e,t,_,x),l(b.prototype,i),o.NEED=!0),h(b,t),k[t]=b,r(r.G+r.W+r.F,k),v||m.setStrong(b,t,_),b}},822:function(t,e,i){"use strict";var n=i(32),r=i(77),o=i(75),a=i(217);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(i=[],e?(n=0,s=o(l,arguments[2],2),a(t,!1,function(t){i.push(s(t,n++))})):a(t,!1,i.push,i),new this(i))}})}},823:function(t,e,i){"use strict";var n=i(32);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},824:function(t,e,i){var n=i(38),r=i(40),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(75)(Function.call,i(234).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},825:function(t,e,i){var n=i(40),r=i(219);t.exports=i(10).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},826:function(t,e,i){var n=i(150),r=i(13)("iterator"),o=i(66);t.exports=i(10).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},827:function(t,e,i){"use strict";var n=i(819),r=i(755);t.exports=i(821)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},828:function(t,e,i){var n=i(32);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},829:function(t,e,i){var n=i(100),r=i(235);i(231)("getPrototypeOf",function(){return function(t){return r(n(t))}})},830:function(t,e,i){var n=i(32);n(n.S,"Object",{setPrototypeOf:i(824).set})},831:function(t,e,i){i(822)("Map")},832:function(t,e,i){i(823)("Map")},833:function(t,e,i){var n=i(32);n(n.P+n.R,"Map",{toJSON:i(820)("Map")})},834:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,"._352wsGxH_0{height:63px}.Wz6esVdU_0{width:100%;height:63px;background:#fff;position:fixed;top:0;left:0;z-index:20;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 13px;-webkit-box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38);box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38)}._28dOln0j_0{height:40px;width:110px;background:url("+n(i(797))+") no-repeat 0;background-size:110px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer}._1k9ecCKw_0{width:30px;height:30px;padding-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;font-size:14px;color:#444;margin-left:10px;cursor:pointer}._1U_jCCZU_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}._3oCJiu8W_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 13px;background:#fbf5ee;border-radius:15px;height:30px}._7Xrmrbox_0,.gBs4U5qC_0,.JjI7sqpW_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;color:#fa8919;font-size:13px;font-weight:500;cursor:pointer}.JjI7sqpW_0{font-size:14px}._3lsV2-l9_0{height:13px;width:1px;background:#fa8919;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:10px;margin-right:10px}._1UaW_Eq1_0{position:fixed;top:0;bottom:0;left:0;right:0;z-index:21;background:#fff;-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0;visibility:hidden;-webkit-transition:all .3s ease;transition:all .3s ease}._1UaW_Eq1_0._2mIjHHvm_0{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;visibility:visible}._1qHJ5OLn_0{height:63px;-ms-flex-align:center;padding-left:15px;padding-right:15px;-webkit-box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38);box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38)}._1qHJ5OLn_0,._2FYmyQEJ_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;align-items:center}._2FYmyQEJ_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;height:35px;-ms-flex-align:center;border-radius:20px;padding-left:20px;padding-right:20px}._1CLulytQ_0{font-size:14px;color:#b2b2b2}._1reF0JJk_0{height:20px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-left:10px}._1reF0JJk_0 input{background:transparent;border:0;color:#353535;height:20px;line-height:20px;font-size:14px;width:100%;vertical-align:top;outline:none}._33xQ4nNG_0{font-size:16px;font-weight:400;color:#b2b2b2;height:30px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:20px}._1y_WRr3L_0{font-size:18px}._1y_WRr3L_0 ._2HnUZhdg_0{color:#888;font-weight:400;padding-left:28px;height:63px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #eee}._1y_WRr3L_0 ._2HnUZhdg_0._1r7t-t9P_0{color:#fa8919}._3IeMxVb7_0{position:absolute;bottom:40px;left:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}._3IeMxVb7_0 ._2HnUZhdg_0{position:relative;padding-top:46px;color:#888}._3IeMxVb7_0 ._339_Pvt6_0{position:absolute;color:#c3c3c3;height:46px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:36px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:0;left:0}",""]),e.locals={shim:"_352wsGxH_0",main:"Wz6esVdU_0",logo:"_28dOln0j_0",dropMenu:"_1k9ecCKw_0",space:"_1U_jCCZU_0",btns:"_3oCJiu8W_0",openApp:"_7Xrmrbox_0",login:"gBs4U5qC_0",user:"JjI7sqpW_0",split:"_3lsV2-l9_0",dropPage:"_1UaW_Eq1_0",on:"_2mIjHHvm_0",top:"_1qHJ5OLn_0",search:"_2FYmyQEJ_0",searchIcon:"_1CLulytQ_0",inputWrap:"_1reF0JJk_0",close:"_33xQ4nNG_0",menus:"_1y_WRr3L_0",item:"_2HnUZhdg_0",activedMenu:"_1r7t-t9P_0",bottomMenus:"_3IeMxVb7_0",icon:"_339_Pvt6_0"}},836:function(t,e,i){var n=i(834);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("1f3b662a",n,!0,{})},840:function(t,e){t.exports={render:function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return e.isShow?n("div",[n("div",{class:e.$style.shim}),e._v(" "),n("div",{class:[e.$style.main],style:e.customStyle},[n("div",{class:e.$style.logo,on:{click:e.goHome}}),e._v(" "),n("div",{class:[e.$style.dropMenu,"iconfont"],on:{click:function(t){e.isShowDropPage=!0}}},[e._v("")]),e._v(" "),n("div",{class:e.$style.space}),e._v(" "),n("div",{class:e.$style.btns},[n("div",{class:e.$style.openApp,on:{click:e.goApp}},[e._v(e._s(e.isPC?"下载":"打开")+"APP")]),e._v(" "),n("div",{class:e.$style.split}),e._v(" "),e.loginUser?n("div",{class:[e.$style.user,"iconfont"],on:{click:e.goAccount}},[e._v("")]):n("div",{class:e.$style.login,on:{click:e.goLogin}},[e._v("登录")])])]),e._v(" "),n("div",{class:[e.$style.dropPage,(t={},t[e.$style.on]=e.isShowDropPage,t)]},[n("div",{class:e.$style.top},[n("div",{class:e.$style.search}),e._v(" "),n("div",{class:e.$style.close,on:{click:function(t){e.isShowDropPage=!1}}},[e._v("关闭")])]),e._v(" "),n("div",{class:e.$style.menus},[n("div",{class:[e.$style.item,e.$style.activedMenu],on:{click:e.goIndex}},[e._v("讲堂")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goFrontEndTraining}},[e._v("前端训练营")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goMall}},[e._v("极客商城")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goDownload}},[e._v("客户端下载")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goGift}},[e._v("兑换中心")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goService}},[e._v("企业服务")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goInfoQ}},[e._v("免费资讯")])]),e._v(" "),n("div",{class:e.$style.bottomMenus},[n("div",{class:e.$style.item,on:{click:e.goChannel}},[n("span",{class:[e.$style.icon,"iconfont"]},[e._v("")]),e._v("渠道合作")]),e._v(" "),n("div",{class:e.$style.item,on:{click:e.goRecomandAuthor}},[n("span",{class:[e.$style.icon,"iconfont"]},[e._v("")]),e._v("推荐作者")])])])]):e._e()},staticRenderFns:[]}},842:function(t,e,i){function n(t){this.$style=i(847)}var r=i(22)(i(844),i(852),n,null,null);t.exports=r.exports},843:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143),r=i.n(n),o=i(215),a=i(65),s=i(216),l=i(656),c=i(699);e.default={props:["data","customColor","isCanDelete","disabledShare"],data:function(){return{likeRequesting:!1,isInApp:a.a.isInApp(),showAll:!1,defaultAvatar:o.a.defaultAvatar,isDeletedComment:!1}},created:function(){},mounted:function(){this.showAll=!this.isRealHeightMoreThanVisibleHeight()},computed:r()({},i.i(s.a)({loginUser:"loginUser"}),{isShowImgShare:function(){return(a.a.gteqAndroidVersion("1.0.10")||a.a.gteqIOSVersion("1.1.5"))&&!this.disabledShare},isOwner:function(){return this.data.can_delete||this.isCanDelete},isInAndroidApp:function(){return a.a.isInAndroidApp()}}),methods:{isRealHeightMoreThanVisibleHeight:function(){var t=window.getComputedStyle(this.$refs.con,null),e=t.getPropertyValue("width"),i=t.getPropertyValue("height"),n=t.getPropertyValue("font-size"),r=t.getPropertyValue("line-height"),o=t.getPropertyValue("font-weight"),a=document.createElement("div");a.style.width=e,a.style.fontSize=n,a.style.whiteSpace="normal",a.style.fontWeight=o,a.style.lineHeight=r,a.style.wordBreak="break-all",a.style.position="absolute",a.innerHTML=this.data.comment_content,document.body.appendChild(a);var s=a.offsetHeight;return document.body.removeChild(a),s>parseFloat(i)},share:function(){var t=this;if(this.$ga.sendEvent("留言分享article_btn_comment_share_click","click","article_id="+this.data.id),!this.loginUser)return void a.a.login();l.a.getCommentDetail({id:this.data.id}).then(function(e){a.a.notifyApp({type:"poster:extra",data:{article_title:e.article_title,column_title:e.column_title||"每日一课",column_id:e.cid}}),a.a.notifyApp({type:"poster:notify",data:{username:t.data.user_name,avatar:t.data.user_header||t.defaultAvatar,time:t.data.comment_ctime,content:t.data.comment_content,url:t.getPosterUrl(e)}})})},expand:function(){this.showAll=!0},getPosterUrl:function(t){return"course"===t.source?"https://time.geekbang.org/course/detail/"+t.cid+"-"+t.aid:"columnArticle"===t.source?"https://time.geekbang.org/column/article/"+t.aid:void 0},praise:function(){this.likeRequesting||(this.likeRequesting=!0,this.data.had_liked?(this.unlike(),this.$ga.sendEvent("留言点赞取消article_btn_comment_praise_click","unlike","article_id="+this.data.id)):(this.like(),this.$ga.sendEvent("留言点赞article_btn_comment_praise_click","like","article_id="+this.data.id)))},like:function(){var t=this;l.a.likeArticle(this.data.id,"comment").then(function(e){t.data.like_count+=1,t.data.had_liked=!0,t.likeRequesting=!1}).catch(function(e){t.likeRequesting=!1,a.a.parseError(e)})},unlike:function(t){var e=this;l.a.unlikeArticle(this.data.id,"comment").then(function(t){e.data.like_count-=1,e.data.like_count<0&&(e.data.like_count=0),e.data.had_liked=!1,e.likeRequesting=!1}).catch(function(t){e.likeRequesting=!1,console.log(t)})},moreMenu:function(){var t=this,e=this.data.id;this.$emit("moreMenu"),c.b(this.$store,{remove:function(i){l.a.deleteComment({id:e}).then(function(e){t.isDeletedComment=!0,t.$emit("deleted")}).catch(function(t){console.log(t)}),i.close()}})},pretreat:function(t){return t=t.replace(/\r\n/g,"<br>"),t=t.replace(/\n/g,"<br>"),t=t.replace(/\r/g,"<br>"),t=t.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),t.replace(/<br> +/g,function(t){return t.replace(/ /g,"&nbsp;")})}}}},844:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(220),r=i.n(n),o=i(143),a=i.n(o),s=i(215),l=i(65),c=i(216),u=i(656),d=i(699),h=i(851),f=i.n(h),p=i(226);e.default={props:["data","customColor","isCanDelete","disabledShare"],components:{CommentItemOld:f.a},data:function(){return{likeRequesting:!1,isInApp:l.a.isInApp(),showAll:!1,defaultAvatar:s.a.defaultAvatar,isDeletedComment:!1}},created:function(){},mounted:function(){this.isLt240AppVersion||(this.showAll=!this.isRealHeightMoreThanVisibleHeight())},computed:a()({},i.i(c.a)({loginUser:"loginUser"}),{isShowImgShare:function(){return(l.a.gteqAndroidVersion("1.0.10")||l.a.gteqIOSVersion("1.1.5"))&&!this.disabledShare},isOwner:function(){return this.data.can_delete||this.isCanDelete},isInAndroidApp:function(){return l.a.isInAndroidApp()},isLt240AppVersion:function(){return l.a.ltIOSVersion("2.4.0")||l.a.ltAndroidVersion("2.4.0")},appLink:function(){if(l.a.isPC())return"https://time.geekbang.org/download";if(l.a.isIOS())return"https://static001.geekbang.org/misc/download/zeus.html?params="+encodeURIComponent(this.routeRelatedData);var t="",e=[];if(this.params){t="?";for(var i in this.params)e.push(i+"="+this.params[i]);t+=e.join("&")}var n=this.$route.meta.appLink?this.$route.meta.appLink+t:"tab=1",r="geektime://time.geekbang.org:80/main?"+encodeURIComponent(n);return l.a.isInWeixin()?s.a.appstoreUrl+"&android_schema="+r:r}}),methods:{isRealHeightMoreThanVisibleHeight:function(){var t=window.getComputedStyle(this.$refs.con,null),e=t.getPropertyValue("width"),i=t.getPropertyValue("height"),n=t.getPropertyValue("font-size"),r=t.getPropertyValue("line-height"),o=t.getPropertyValue("font-weight"),a=document.createElement("div");a.style.width=e,a.style.fontSize=n,a.style.whiteSpace="normal",a.style.fontWeight=o,a.style.lineHeight=r,a.style.wordBreak="break-all",a.style.position="absolute",a.innerHTML=this.data.comment_content,document.body.appendChild(a);var s=a.offsetHeight;return document.body.removeChild(a),s>parseFloat(i)},share:function(){var t=this;if(this.$ga.sendEvent("留言分享article_btn_comment_share_click","click","article_id="+this.data.id),!this.loginUser)return void l.a.login();u.a.getCommentDetail({id:this.data.id}).then(function(e){if(p.hasNativeMethod("comment.shareComment")){var i={posterData:{avatar:e.user_header,username:e.user_name,time:e.comment_ctime,content:e.comment_content,url:t.getPosterUrl(e)},extra:{article_title:e.article_title,column_title:e.column_title||"每日一课",column_id:e.cid}};p.call("comment.shareComment",i,function(){})}else l.a.notifyApp({type:"poster:extra",data:{article_title:e.article_title,column_title:e.column_title||"每日一课",column_id:e.cid}}),l.a.notifyApp({type:"poster:notify",data:{username:t.data.user_name,avatar:t.data.user_header||t.defaultAvatar,time:t.data.comment_ctime,content:t.data.comment_content,url:t.getPosterUrl(e)}})})},expand:function(){this.showAll=!0},getPosterUrl:function(t){var e=void 0;switch(t.product_type){case"c1":case"c2":case"c8":e="https://time.geekbang.org/column/article/"+(t.aid||t.id),console.log(e);break;case"c3":e="https://time.geekbang.org/course/detail/"+t.cid+"-"+t.aid;break;default:e="https://time.geekbang.org/"}return e},goDiscussDetail:function(){var t="time://discussionDetail?targetId="+this.data.id+"&url="+encodeURIComponent("https://time.geekbang.org/discuss/detail")+"&title="+encodeURIComponent("留言详情");l.a.isInApp()?p.hasNativeMethod("common.routeJump")?p.call("common.routeJump",t,function(t){}):l.a.gteqAndroidVersion("2.4.0")||l.a.gteqIOSVersion("2.4.0")?l.a.notifyApp({type:"urlscheme",url:t}):this.goApp():l.a.isPC()?window.open("https://time.geekbang.org/discuss/detail/"+this.data.id):this.$router.push("/discuss/detail/"+this.data.id)},goApp:function(){var t=this;d.a(this.$store,{content:"升级至最新版本可查看留言详情和评论，确认升级吗？",on:{confirm:function(e){window.location.href=t.appLink,e.close()}}})},praise:function(){if(!this.loginUser)return void l.a.login();this.likeRequesting||(this.likeRequesting=!0,this.data.had_liked?(this.unlike(),this.$ga.sendEvent("留言点赞取消article_btn_comment_praise_click","unlike","article_id="+this.data.id)):(this.like(),this.$ga.sendEvent("留言点赞article_btn_comment_praise_click","like","article_id="+this.data.id)))},like:function(){var t=this;u.a.likeArticle(this.data.id,"comment").then(function(e){t.data.like_count+=1,t.data.had_liked=!0,t.likeRequesting=!1}).catch(function(e){t.likeRequesting=!1,l.a.parseError(e)})},unlike:function(t){var e=this;u.a.unlikeArticle(this.data.id,"comment").then(function(t){e.data.like_count-=1,e.data.like_count<0&&(e.data.like_count=0),e.data.had_liked=!1,e.likeRequesting=!1}).catch(function(t){e.likeRequesting=!1,console.log(t)})},moreMenuOld:function(){this.$emit("moreMenu")},moreMenu:function(){var t=this,e=this.data.id;if(this.$emit("moreMenu"),p.hasNativeMethod("comment.openBottomMenuModal")){var i={modalData:[{text:"删除",type:"delete"}]};p.call("comment.openBottomMenuModal",r()(i),function(i){"delete"===i&&t.deleteComment(e)})}else d.b(this.$store,{remove:function(i){t.deleteComment(e),i.close()}})},deleteComment:function(t){var e=this;u.a.deleteComment({id:t}).then(function(t){e.isDeletedComment=!0,e.$emit("deleted")}).catch(function(t){console.log(t)})},pretreat:function(t){return t=t.replace(/\r\n/g,"<br>"),t=t.replace(/\n/g,"<br>"),t=t.replace(/\r/g,"<br>"),t=t.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),t.replace(/<br> +/g,function(t){return t.replace(/ /g,"&nbsp;")})}}}},845:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,".reJj6Thl_0{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-top:20px}.reJj6Thl_0 a{border-bottom:none}.reJj6Thl_0 ._2273kGdT_0{width:35px;height:35px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.reJj6Thl_0:last-child ._2CG0SquK_0{border-bottom:none}.reJj6Thl_0 ._2CG0SquK_0{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:8px;border-bottom:.5px solid #e8e8e8;-webkit-transition:border-bottom .3s ease;transition:border-bottom .3s ease;overflow:hidden}.reJj6Thl_0 ._2CG0SquK_0 ._304R4gla_0{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:10px}.reJj6Thl_0 ._2CG0SquK_0 ._3M6kV3zb_0{color:#4c4c4c;font-size:16px;font-weight:400;white-space:normal;word-break:normal;line-height:1.6;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical}.reJj6Thl_0 ._2CG0SquK_0 ._3D2NkqD6_0{overflow:auto;-webkit-line-clamp:unset}.reJj6Thl_0 ._2CG0SquK_0 ._1H1Z49Dr_0{color:#888;font-size:11px;line-height:1;margin-top:4px}.reJj6Thl_0 ._2CG0SquK_0 ._18Dng5rT_0{color:#353535;font-size:14px;font-weight:700;height:20px;line-height:20px}.reJj6Thl_0 ._2CG0SquK_0 ._1w8H0ktn_0{margin-top:8px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;color:#888;padding-left:20px;padding-right:20px}.reJj6Thl_0 ._2CG0SquK_0 ._1w8H0ktn_0._2A421P4G_0{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-left:10px;padding-right:10px}.reJj6Thl_0 ._2CG0SquK_0 ._1w8H0ktn_0._2A421P4G_0 ._2P4B1Hdm_0{margin-left:50px}.reJj6Thl_0 ._1bkbsnjg_0{height:15px;line-height:15px;width:30px;overflow:hidden;font-size:10px;color:#fff;background:#cbcbcb;text-align:center;display:inline-block;border-radius:3px;vertical-align:top;margin-top:2px}.reJj6Thl_0 ._1YQBH3WC_0{color:#999;font-size:13px;width:20px;text-align:right}.reJj6Thl_0 ._13n1j2Zp_0{width:20px;height:26px;color:#999;font-size:11px;text-align:right}.reJj6Thl_0 ._2jsFl-X0_0,.reJj6Thl_0 ._2P4B1Hdm_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.reJj6Thl_0 ._2jsFl-X0_0 i,.reJj6Thl_0 ._2P4B1Hdm_0 i{color:#999;display:inline-block;font-size:15px;margin-right:4px;height:27px;width:15px}.reJj6Thl_0 ._2jsFl-X0_0 i._2A421P4G_0,.reJj6Thl_0 ._2P4B1Hdm_0 i._2A421P4G_0{background:url("+n(i(764))+") no-repeat 50%;background-size:15px}.reJj6Thl_0 ._2jsFl-X0_0 span,.reJj6Thl_0 ._2P4B1Hdm_0 span{color:#888;font-size:12px;font-weight:400}.reJj6Thl_0 ._2jsFl-X0_0 span._2A421P4G_0,.reJj6Thl_0 ._2P4B1Hdm_0 span._2A421P4G_0{color:#fa8919}.reJj6Thl_0 ._2P4B1Hdm_0 i{margin-top:-2px}.reJj6Thl_0 ._2r3UB1GX_0{font-size:13px;color:#b2b2b2;height:16px;padding-top:8px}.reJj6Thl_0 ._2r3UB1GX_0 span{font-weight:500}.reJj6Thl_0 ._2r3UB1GX_0 i,.reJj6Thl_0 ._2r3UB1GX_0 span{height:16px;line-height:16px;display:inline-block;vertical-align:top}.reJj6Thl_0 ._2xNIY4NG_0{margin-top:10px}.reJj6Thl_0 ._2xNIY4NG_0 ._33BLbmw4_0{color:#888;font-size:14px;font-weight:400;white-space:normal;word-break:normal;background:#f6f7fb;-webkit-transition:background .3s ease;transition:background .3s ease;border-radius:10px;padding:18px;overflow-x:scroll}.reJj6Thl_0 ._2xNIY4NG_0 ._1H1Z49Dr_0{color:#888;font-size:9px}._0X_LEcd_0 ._2xNIY4NG_0 ._33BLbmw4_0{background:#efe6cf}.cGm0Q9aA_0 ._2CG0SquK_0{border-bottom:1px solid #4c4c4c}.cGm0Q9aA_0 ._2CG0SquK_0 ._1H1Z49Dr_0,.cGm0Q9aA_0 ._2CG0SquK_0 ._3M6kV3zb_0,.cGm0Q9aA_0 ._2CG0SquK_0 ._18Dng5rT_0{color:silver}.cGm0Q9aA_0 ._2xNIY4NG_0 ._33BLbmw4_0{color:silver;background:#3e3e3e}.cGm0Q9aA_0 ._1YQBH3WC_0,.cGm0Q9aA_0 ._2P4B1Hdm_0 i,.cGm0Q9aA_0 ._2P4B1Hdm_0 span,.cGm0Q9aA_0 ._13n1j2Zp_0{color:#999}._2Gn7zqLg_0 ._1bkbsnjg_0{line-height:18px}",""]),e.locals={white:"reJj6Thl_0",avatar:"_2273kGdT_0",info:"_2CG0SquK_0",hd:"_304R4gla_0",bd:"_3M6kV3zb_0",showAll:"_3D2NkqD6_0",time:"_1H1Z49Dr_0",username:"_18Dng5rT_0",actions:"_1w8H0ktn_0",on:"_2A421P4G_0",btnPraise:"_2P4B1Hdm_0",topTag:"_1bkbsnjg_0",btnShare:"_1YQBH3WC_0",btnMore:"_13n1j2Zp_0",btnComment:"_2jsFl-X0_0",more:"_2r3UB1GX_0",reply:"_2xNIY4NG_0",content:"_33BLbmw4_0",yellow:"_0X_LEcd_0",black:"cGm0Q9aA_0",android:"_2Gn7zqLg_0"}},846:function(t,e,i){var n=i(653);e=t.exports=i(564)(!1),e.push([t.i,"._1KDFHdYZ_0{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}._1KDFHdYZ_0 a{border-bottom:none}._1KDFHdYZ_0 ._1TrNyEsG_0{width:35px;height:35px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}._1KDFHdYZ_0 ._1zxA_dQy_0{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:25px;border-bottom:.5px solid #e8e8e8;-webkit-transition:border-bottom .3s ease;transition:border-bottom .3s ease;overflow:hidden}._1KDFHdYZ_0 ._1zxA_dQy_0 ._3sUvWXiG_0{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:10px}._1KDFHdYZ_0 ._1zxA_dQy_0 ._3RUGUSGd_0{color:#4c4c4c;font-size:16px;font-weight:400;white-space:normal;word-break:normal;line-height:1.6;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical}._1KDFHdYZ_0 ._1zxA_dQy_0 ._1e2igh1f_0{overflow:auto;-webkit-line-clamp:unset}._1KDFHdYZ_0 ._1zxA_dQy_0 ._1_UgxBPd_0{color:#888;font-size:11px;line-height:1;margin-top:4px}._1KDFHdYZ_0 ._1zxA_dQy_0 ._6a8Jfmch_0{color:#353535;font-size:14px;font-weight:700;height:20px;line-height:20px}._1KDFHdYZ_0 .cbpeZqJ6_0{height:15px;line-height:15px;width:30px;overflow:hidden;font-size:10px;color:#fff;background:#cbcbcb;text-align:center;display:inline-block;border-radius:3px;vertical-align:top;margin-top:2px}._1KDFHdYZ_0 ._1vLMbfBh_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:26px}._1KDFHdYZ_0 .lNb7fTWW_0{color:#999;font-size:13px;margin-left:42px;width:20px;text-align:center}._1KDFHdYZ_0 ._2QGBcr_2_0{color:#999;font-size:11px;width:20px;margin-left:38px;text-align:center}._1KDFHdYZ_0 ._3GwbwRlD_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}._1KDFHdYZ_0 ._3GwbwRlD_0 i{color:#999;display:inline-block;font-size:15px;margin-right:4px;height:27px;width:15px;margin-top:-2px}._1KDFHdYZ_0 ._3GwbwRlD_0 i._55DP52nm_0{background:url("+n(i(764))+") no-repeat 50%;background-size:15px}._1KDFHdYZ_0 ._3GwbwRlD_0 span{color:#888;font-size:13px;font-weight:400}._1KDFHdYZ_0 ._3GwbwRlD_0 span._55DP52nm_0{color:#fa8919}._1KDFHdYZ_0 ._2lqd7KSF_0{font-size:13px;color:#b2b2b2;height:16px;padding-top:8px}._1KDFHdYZ_0 ._2lqd7KSF_0 span{font-weight:500}._1KDFHdYZ_0 ._2lqd7KSF_0 i,._1KDFHdYZ_0 ._2lqd7KSF_0 span{height:16px;line-height:16px;display:inline-block;vertical-align:top}._1KDFHdYZ_0 ._1BHjTnVh_0{margin-top:10px}._1KDFHdYZ_0 ._1BHjTnVh_0 ._2zHSVgwh_0{color:#888;font-size:14px;font-weight:400;white-space:normal;word-break:normal;background:#f6f7fb;-webkit-transition:background .3s ease;transition:background .3s ease;border-radius:10px;padding:18px;overflow-x:scroll}._1KDFHdYZ_0 ._1BHjTnVh_0 ._1_UgxBPd_0{color:#888;font-size:9px}._1fFuwKtR_0 ._1BHjTnVh_0 ._2zHSVgwh_0{background:#efe6cf}.btLBlMEP_0 ._1zxA_dQy_0{border-bottom:1px solid #4c4c4c}.btLBlMEP_0 ._1zxA_dQy_0 ._1_UgxBPd_0,.btLBlMEP_0 ._1zxA_dQy_0 ._3RUGUSGd_0,.btLBlMEP_0 ._1zxA_dQy_0 ._6a8Jfmch_0{color:silver}.btLBlMEP_0 ._1BHjTnVh_0 ._2zHSVgwh_0{color:silver;background:#3e3e3e}.btLBlMEP_0 ._2QGBcr_2_0,.btLBlMEP_0 ._3GwbwRlD_0 i,.btLBlMEP_0 ._3GwbwRlD_0 span,.btLBlMEP_0 .lNb7fTWW_0{color:#999}._18LC5TMd_0 .cbpeZqJ6_0{line-height:18px}",""]),e.locals={white:"_1KDFHdYZ_0",avatar:"_1TrNyEsG_0",info:"_1zxA_dQy_0",hd:"_3sUvWXiG_0",bd:"_3RUGUSGd_0",showAll:"_1e2igh1f_0",time:"_1_UgxBPd_0",username:"_6a8Jfmch_0",topTag:"cbpeZqJ6_0",control:"_1vLMbfBh_0",btnShare:"lNb7fTWW_0",btnMore:"_2QGBcr_2_0",btnPraise:"_3GwbwRlD_0",on:"_55DP52nm_0",more:"_2lqd7KSF_0",reply:"_1BHjTnVh_0",content:"_2zHSVgwh_0",yellow:"_1fFuwKtR_0",black:"btLBlMEP_0",android:"_18LC5TMd_0"}},847:function(t,e,i){var n=i(845);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("4baa3790",n,!0,{})},848:function(t,e,i){var n=i(846);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("c5421f60",n,!0,{})},850:function(t,e,i){function n(t){this.$style=i(856)}var r=i(22)(i(854),i(857),n,null,null);t.exports=r.exports},851:function(t,e,i){function n(t){this.$style=i(848)}var r=i(22)(i(843),i(853),n,null,null);t.exports=r.exports},852:function(t,e){t.exports={render:function(){var t,e,i,n,r,o,a,s=this,l=s.$createElement,c=s._self._c||l;return s.isDeletedComment?s._e():c("li",{class:[s.$style.white,(t={},t[s.$style.android]=s.isInAndroidApp,t),(e={},e[s.$style.yellow]="yellow"===s.customColor,e),(i={},i[s.$style.black]="black"===s.customColor,i)]},[s.isLt240AppVersion?[c("CommentItemOld",{attrs:{data:s.data,customColor:s.customColor},on:{moreMenu:s.moreMenuOld}})]:[c("img",{class:s.$style.avatar,attrs:{src:s.data.user_header||s.defaultAvatar}}),s._v(" "),c("div",{class:s.$style.info},[c("div",{class:s.$style.hd},[c("div",{class:s.$style.user},[c("div",{class:s.$style.username},[c("span",[s._v(s._s(s._f("cutStr")(s.data.user_name,20)))]),s._v(" "),s.data.comment_is_top?c("span",{class:s.$style.topTag},[s._v("置顶")]):s._e()]),s._v(" "),c("div",{class:s.$style.time},[s._v(s._s(s._f("formatDate")(s.data.comment_ctime)))])]),s._v(" "),s.isOwner?c("div",{class:[s.$style.btnMore,"iconfont"],on:{touchstart:function(t){t.stopPropagation()},click:s.moreMenu}},[s._v("")]):s._e()]),s._v(" "),c("div",{on:{click:s.goDiscussDetail}},[c("div",{ref:"con",class:[s.$style.bd,(n={},n[s.$style.showAll]=s.showAll,n)],domProps:{innerHTML:s._s(s.pretreat(s.data.comment_content))}}),s._v(" "),s.showAll?s._e():c("div",{class:s.$style.more,on:{click:function(t){return t.stopPropagation(),s.expand(t)}}},[c("span",[s._v("展开")]),c("i",{class:["iconfont"]},[s._v("")])]),s._v(" "),s.data.replies&&s.data.replies[0]?c("div",{class:s.$style.reply},[c("p",{class:s.$style.content,domProps:{innerHTML:s._s(s.data.replies[0].user_name+": "+s.pretreat(s.data.replies[0].content))}})]):s._e(),s._v(" "),c("div",{class:[s.$style.actions,(r={},r[s.$style.on]=!s.isShowImgShare,r)]},[c("div",{class:[s.$style.btnComment]},[c("i",{class:["iconfont",s.$style.commentIcon]},[s._v("")]),s._v(" "),c("span",[s._v(s._s(s.data.discussion_count?s.data.discussion_count>999?"999+":s.data.discussion_count:""))])]),s._v(" "),c("div",{class:s.$style.btnPraise,on:{touchstart:function(t){t.stopPropagation()},click:function(t){return t.stopPropagation(),s.praise(t)}}},[c("i",{class:["iconfont",(o={},o[s.$style.on]=s.data.had_liked,o)]},[s._v(s._s(s.data.had_liked?" ":""))]),s._v(" "),c("span",{class:[(a={},a[s.$style.on]=s.data.had_liked,a)]},[s._v(s._s(s.data.like_count>0?s.data.like_count:""))])]),s._v(" "),s.isShowImgShare?c("div",{class:[s.$style.btnShare,"iconfont"],on:{touchstart:function(t){t.stopPropagation()},click:function(t){return t.stopPropagation(),s.share(t)}}},[s._v("")]):s._e()])])])]],2)},staticRenderFns:[]}},853:function(t,e){t.exports={render:function(){var t,e,i,n,r,o,a=this,s=a.$createElement,l=a._self._c||s;return a.isDeletedComment?a._e():l("li",{class:[a.$style.white,(t={},t[a.$style.android]=a.isInAndroidApp,t),(e={},e[a.$style.yellow]="yellow"===a.customColor,e),(i={},i[a.$style.black]="black"===a.customColor,i)]},[l("img",{class:a.$style.avatar,attrs:{src:a.data.user_header||a.defaultAvatar}}),a._v(" "),l("div",{class:a.$style.info},[l("div",{class:a.$style.hd},[l("div",{class:a.$style.user},[l("div",{class:a.$style.username},[l("span",[a._v(a._s(a._f("cutStr")(a.data.user_name,10)))]),a._v(" "),a.data.comment_is_top?l("span",{class:a.$style.topTag},[a._v("置顶")]):a._e()]),a._v(" "),l("div",{class:a.$style.time},[a._v(a._s(a._f("formatDate")(a.data.comment_ctime)))])]),a._v(" "),l("div",{class:a.$style.control,on:{touchstart:function(t){t.stopPropagation()}}},[l("div",{class:a.$style.btnPraise,on:{touchstart:function(t){t.stopPropagation()},click:a.praise}},[l("i",{class:["iconfont",(n={},n[a.$style.on]=a.data.had_liked,n)]},[a._v(a._s(a.data.had_liked?" ":""))]),a._v(" "),l("span",{class:[(r={},r[a.$style.on]=a.data.had_liked,r)]},[a._v(a._s(a.data.like_count>0?a.data.like_count:""))])]),a._v(" "),a.isShowImgShare?l("div",{class:[a.$style.btnShare,"iconfont"],on:{touchstart:function(t){t.stopPropagation()},click:a.share}},[a._v("")]):a._e(),a._v(" "),a.isOwner?l("div",{class:[a.$style.btnMore,"iconfont"],on:{touchstart:function(t){t.stopPropagation()},click:a.moreMenu}},[a._v("")]):a._e()])]),a._v(" "),l("div",{ref:"con",class:[a.$style.bd,(o={},o[a.$style.showAll]=a.showAll,o)],domProps:{innerHTML:a._s(a.pretreat(a.data.comment_content))}}),a._v(" "),a.showAll?a._e():l("div",{class:a.$style.more,on:{click:a.expand}},[l("span",[a._v("展开")]),l("i",{class:["iconfont"]},[a._v("")])]),a._v(" "),a.data.replies&&a.data.replies[0]?l("div",{class:a.$style.reply},[l("p",{class:a.$style.content,domProps:{innerHTML:a._s(a.data.replies[0].user_name+": "+a.pretreat(a.data.replies[0].content))}})]):a._e()])])},staticRenderFns:[]}},854:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(65),r=i(777),o=i(793),a=i(795),s=i(722),l=i.n(s),c=i(699),u=i(700),d=i(226);e.default={props:{content:{type:String,default:""},canNote:{type:Boolean,default:!1},noteEnable:{type:Boolean,default:!0},notes:{type:Array,default:function(){return[]}},noteid:{type:String,default:""},customColor:{type:String,default:"white"},customSize:{type:String,default:"middle"}},created:function(){this.richContent=n.a.formatContent(this.content),document.addEventListener("notify",this.notifyHandler),u.a.on(document,"audio:play",this.notifyHandler)},data:function(){return{preViewImg:!1,imgUrl:"",isInAndroidApp:n.a.isInAndroidApp(),posterImg:"",posterContent:"",richContent:"",noteSelections:[],newVideos:[],markerInited:!1,hadScroll:!1}},mounted:function(){var t=this;window.addEventListener("mathjaxfini",function(){clearTimeout(t.eTimer),t.eTimer=setTimeout(function(){console.log("mathjax fini"),t.highLightNotes()},300)}),n.a.isPC()?this.$el.addEventListener("mousedown",this.handleClick):(this.$el.addEventListener("touchstart",this.onTouchStart),this.$el.addEventListener("touchend",this.onTouchEnd)),n.a.isInApp()||u.a.on(document,"globalmedia",this.notifyHandler),this.initVideo(),this.$el.addEventListener("copy",this.copyHandler),this.canNote?this.initMarker():this.noteEnable&&n.a.isInApp()&&this.initMarkerWhenNoLogin()},beforeDestroy:function(){var t=this;this.$el.removeEventListener("copy",this.copyHandler),this.$el.removeEventListener("touchstart",this.onTouchStart),this.$el.removeEventListener("touchend",this.onTouchEnd),this.$el.removeEventListener("mousedown",this.handleClick),document.removeEventListener("notify",this.notifyHandler),this.newVideos.forEach(function(e){e.removeEventListener("play",t.videoPlayHandle)}),u.a.off(document,"audio:play"),this.em&&this.em.destroy()},updated:function(){var t=this;this.$nextTick(function(){t.initVideo()})},methods:{initPrecodecopy:function(){document.querySelectorAll("pre").forEach(function(t){t.style.position="relative";var e=t.querySelector("code");if(e){var i=e.textContent,r=document.createElement("div");r.innerHTML='<span class="iconfont">&#xe613;</span>复制代码',r.classList.add("richcontent-pre-copy"),t.appendChild(r),r.addEventListener("touchstart",function(t){t.stopPropagation()}),r.addEventListener("click",function(t){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.style.position="absolute";var r=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);e.style.top=r+256+"px",e.style.opacity="0",document.body.appendChild(e),e.textContent=i,n.a.isInApp()&&!n.a.isInAndroidApp()||e.focus(),e.setSelectionRange(0,e.textContent.length),document.execCommand("copy")?n.a.isPC()||n.a.success("复制成功"):n.a.error("复制失败"),document.body.removeChild(e)})}})},copyHandler:function(t){var e=window.getSelection(),r=n.a.getSelectionText();if(r){var o=r,a="<p>"+o+"</p>",s=document.createElement("div");s.style.position="absolute",s.style.left="-99999px",document.body.appendChild(s),s.innerHTML=a,e.selectAllChildren(s),window.setTimeout(function(){document.body.removeChild(s)},200)}},initMarkerWhenNoLogin:function(){var t=this;this.markerInited||(this.markerInited=!0,this.$nextTick(function(){t.em=new o.a({menuTopOffset:"2rem",disableTapHighlight:!0,menuItems:[{text:"划线笔记",handler:function(t){n.a.login()}},{text:"分享",handler:function(t){n.a.login()}},{text:"拷贝",noborder:!0,handler:function(t){n.a.login()}}],menuStyle:{menu:{fontSize:"14px",borderRadius:"4px",padding:"8px 0",backgroundColor:"#262626"},item:{padding:"4px 16px",borderRight:"1px solid #636363"},triangle:{borderTop:"10px solid #262626",borderRight:"12px solid transparent",borderLeft:"12px solid transparent"}}}),t.em.create(t.$refs.container,document.body)}))},initMarker:function(){var t=this;this.canNote&&!this.markerInited&&(this.markerInited=!0,this.container=this.$refs.container,this.textContainer=this.$refs.text,this.$nextTick(function(){t.em=new o.a({menuTopOffset:"2rem",disableTapHighlight:!0,menuItems:[{text:"划线笔记",handler:function(e){var r=i.i(a.a)(t.textContainer,e.anchorNode,e.anchorOffset),o=e.toString(),s=r.split(o).length-1;if(t.notes.findIndex(function(t){return t.part===o&&t.part_index===s})>-1)return void n.a.error("该笔记已存在");t.$emit("note",o,s)}},{text:"分享",handler:function(e){var i=e.toString();i.length>4e3&&(i=i.slice(0,3997)+"..."),t.$emit("share",i)}},{text:"拷贝",noborder:!0,handler:function(t){n.a.notifyApp({type:"copy",data:t.toString()})}}],menuStyle:{menu:{fontSize:"14px",borderRadius:"4px",padding:"8px 0",backgroundColor:"#262626"},item:{padding:"4px 16px",borderRight:"1px solid #636363"},triangle:{borderTop:"10px solid #262626",borderRight:"12px solid transparent",borderLeft:"12px solid transparent"}}}),t.em.create(t.container,document.body),t.em.onHighlightLineClick(function(e,i,n){t.$emit("highlightclicked",e),t.jumpNoteDetail(e)}),t.notes.length&&(clearTimeout(t.eTimer),t.eTimer=setTimeout(function(){t.highLightNotes()},300))}))},getSelections:function(){var t=this,e=[];if(this.notes.length>0)for(var n=i.i(a.b)(this.container),r=this.container.innerText,o=0;o<this.notes.length;o++){var s=i.i(a.c)(r,n,this.notes[o].part,this.notes[o].part_index);s.start&&s.end&&s.start.node&&s.end.node&&(this.hadScroll||this.noteid!==String(this.notes[o].id)||function(){var e=document.createRange();e.setStart(s.start.node,s.start.offset),setTimeout(function(){window.scrollTo(0,Math.max(0,window.scrollY+e.getClientRects()[0].top-250))},300),t.hadScroll=!0}(),e.push({selection:{anchorNode:s.start.node,anchorOffset:s.start.offset,focusNode:s.end.node,focusOffset:s.end.offset},id:this.notes[o].id}))}return this.noteSelections=e,e},highLightNotes:function(){if(this.em&&this.canNote&&this.markerInited){var t=this.getSelections();this.em.highlightLines(t)}},jumpNoteDetail:function(t){n.a.isInApp()&&n.a.canNotifyApp()&&n.a.notifyApp({type:"jump",path:"views/dashboard/note/notedetail.js",data:{id:t}})},handleClick:function(t){var e=new RegExp(/^time:\/\//);if("a"!==t.target.nodeName.toLowerCase()&&"a"!==t.target.parentNode.nodeName.toLowerCase()||!n.a.isInApp())if("a"!==t.target.nodeName.toLowerCase()&&"a"!==t.target.parentNode.nodeName.toLowerCase()||!(t.target.href||t.target.parentNode.href).match(e))if("img"!==t.target.nodeName.toLowerCase()||!t.target.src||!n.a.gteqAndroidVersion("1.0.8")&&!n.a.gteqIOSVersion("1.1.6")||n.a.eqAndroidVersion("1.2.0")||n.a.eqAndroidVersion("1.2.1")){if("img"===t.target.nodeName.toLowerCase()&&t.target.src){if("A"===t.target.parentNode.nodeName)return void(window.location.href=t.target.parentNode.href);if("unpreview"===t.target.alt)return;var i=t.target.src;window.location.hash="previewimg",c.c(this.$store,{close:function(t){t.close()},imgUrl:i})}}else{if("unpreview"===t.target.alt)return;n.a.previewImgInApp([t.target.src],0)}else t.preventDefault(),n.a.parseTimeLink(t.target.href||t.target.parentNode.href);else{var r=t.target.href||t.target.parentNode.href,o=r.match(/^https?:\/\/time\.geekbang\.org\/course\/(intro|detail)\/.+/),a=r.match(/^https?:\/\/time\.geekbang\.org\/column\/intro\/.+/),s=r.match(/^https?:\/\/time\.geekbang\.org\/column\/.+/),l=r.match(e);if(o){var u=o[1],h={};if(h.id=r.match(/\/(intro|detail)\/(\w+)/i)[2],r.match(/\/detail\/\w+\-(\w+)/i)&&(h.aid=r.match(/\/detail\/\w+\-(\w+)/i)[1]),"detail"===u||"intro"===u)return t.preventDefault(),void("intro"===u?n.a.jumpCourseIntro(h.id):n.a.jumpCourseDetail(h.id,h.aid))}else if(a){t.preventDefault();var f=r.match(/^https*:\/\/time\.geekbang\.org\/column\/intro\/([\w]+)/i)[1];if(f)return void n.a.jumpColumnIntro(f)}else if(l)return t.preventDefault(),void n.a.parseTimeLink(r);if(r.match(/^https*:\/\/time\.geekbang\.org\/(column\/)*article\/([\d]+)/i)){t.preventDefault();var p=r.match(/^https*:\/\/time\.geekbang\.org\/(column\/)*article\/([\d]+)/i)[2];if(p){if(d.hasNativeMethod("common.routeJump")){var g="time://article?id="+p;d.call("common.routeJump",g,function(){return console.log("调起成功")})}else n.a.notifyApp({type:"jump",path:"views/column/article.js",data:{id:p}});return}}if(s){t.preventDefault();var m=r.match(/^https*:\/\/time\.geekbang\.org\/column\/([\d]+)/i)[1];if(m)return void n.a.jumpColumnDetail(m)}if(t.preventDefault(),d.hasNativeMethod("common.routeJump")){var _="time://webview?url="+encodeURIComponent(r)+"&title="+encodeURIComponent(t.target.title||t.target.parentNode.title)+"&isShowClose=true";d.call("common.routeJump",_,function(){return console.log("调起成功")})}else n.a.notifyApp({type:"jump",path:"views/webview.js",data:{url:r,title:t.target.title||t.target.parentNode.title,isShowClose:!0}})}this.em&&"none"!==this.em.$selectStatus&&t.stopPropagation()},handleMathJax:function(t){t.indexOf("$")>-1&&n.a.handleMathJax(this.$el)},getTouchPosition:function(t){return{x:t.clientX||t.changedTouches[0].clientX,y:t.clientY||t.changedTouches[0].clientY}},getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},onTouchStart:function(t){this.touchStartPosition=this.getTouchPosition(t),this.touchStartTime=Date.now(),"img"!==t.target.nodeName.toLowerCase()&&"video"!==t.target.nodeName.toLowerCase()&&"audio"!==t.target.nodeName.toLowerCase()||t.stopPropagation()},onTouchEnd:function(t){if(Date.now()-this.touchStartTime<500){var e=this.getTouchPosition(t);this.getDistance(e,this.touchStartPosition)<20&&this.handleClick(t)}},preventAllAnodeJump:function(){n.a.isInApp()&&this.$el.querySelectorAll("a").forEach(function(t){t.onclick=function(t){t.preventDefault()}})},initVideo:function(){var t=this.$refs.text.querySelectorAll("video");t.length>0&&Array.prototype.slice.call(t).forEach(function(t){if(!t.attributes["x5-playsinline"]){var e=t.attributes.poster;e=e?e.value:"";var i=t.parentElement,r=i.offsetWidth,o=Math.floor(186/331*r),a=document.createElement("div"),s=t.lastChild.attributes.src.value;a.innerHTML='<video style="vertical-align: top;width:'+r+"px;height:"+o+'px" webkit-playsinline playsinline x5-playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" src="'+s+'" controls="controls" poster="'+e+'"></video>',i.insertBefore(a,t),i.removeChild(t);var c=i.querySelector("video"),u=new l.a;u.loadSource(s),u.attachMedia(c),n.a.isInAndroidApp()&&c.addEventListener("click",function(){setTimeout(function(){c.paused?c.play():c.pause()},200)})}})},videoPlayHandle:function(){u.a.trigger(document,"globalmedia",{type:"video:play"})},notifyHandler:function(t){try{switch(t.detail.type){case"audio:play":this.newVideos.forEach(function(t){t&&t.pause&&t.pause()})}}catch(t){console.log(t)}}},watch:{content:function(t,e){this.richContent=n.a.formatContent(t),this.markerInited&&this.em&&"none"!==this.em.$selectStatus&&this.em.reset()},customSize:function(){var t=this;this.noteSelections.length>0&&this.$nextTick(function(){t.noteSelections.forEach(function(e){t.em.cancelHighlightLine(e.id)}),t.em.highlightLines(t.noteSelections)})},richContent:function(t,e){var i=this;this.$nextTick(function(){i.initPrecodecopy()});var n=this.$el.querySelectorAll("pre code");Array.prototype.forEach.call(n,function(t){r.a.lineNumbersBlock(t,{singleLine:!0})}),this.handleMathJax(this.richContent),this.preventAllAnodeJump()},notes:function(t){var e=this;clearTimeout(this.eTimer),this.eTimer=setTimeout(function(){e.highLightNotes()},300)},canNote:function(t){t&&this.initMarker()}}}},855:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,'._29HP61GA_0{font-weight:400;color:#353535;line-height:1.76;white-space:normal;word-break:normal;font-size:17px;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}._29HP61GA_0 .MathJax_Display{overflow:auto}._29HP61GA_0 .poster{position:fixed;left:-10000px;top:-10000px;overflow:hidden;padding:1rem;background:#ececec}._29HP61GA_0 .richcontent-pre-copy{font-size:13px;color:#888;position:absolute;right:1em;top:.5em;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._29HP61GA_0 .richcontent-pre-copy .iconfont{font-size:12px;margin-right:.2em}._29HP61GA_0 a{color:#fa8919;border-bottom:1px solid #fa8919}._29HP61GA_0 img{display:block;max-width:100%;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#eee;vertical-align:top;border-radius:0}._29HP61GA_0 audio,._29HP61GA_0 video{width:100%;background-color:#eee}._29HP61GA_0 pre{margin-top:16px;padding:34px 0 0;margin-bottom:30px;position:relative;border-radius:6px;background:rgba(246,247,251,.749);border:0}._29HP61GA_0 code{word-break:break-all}._29HP61GA_0 pre code{font-size:12px;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;word-break:normal;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:16px;margin-right:16px;overflow-x:scroll}._29HP61GA_0 pre code:after{content:"";height:30px;width:100%;display:block}._29HP61GA_0 hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}._29HP61GA_0 h1,._29HP61GA_0 h2,._29HP61GA_0 h3,._29HP61GA_0 h4,._29HP61GA_0 h5{margin-bottom:20px;margin-top:0;font-weight:700;color:#353535}._29HP61GA_0 b,._29HP61GA_0 strong{font-weight:700;color:#353535}._29HP61GA_0 h1{font-size:21px}._29HP61GA_0 h2{font-size:20px}._29HP61GA_0 h3{font-size:19px}._29HP61GA_0 h4{font-size:18px}._29HP61GA_0 h5{font-size:17px}._29HP61GA_0 center,._29HP61GA_0 p{font-weight:400;color:#353535;margin-top:0;margin-bottom:30px;word-break:break-word}._29HP61GA_0 center{text-align:center}._29HP61GA_0 blockquote{margin-top:0;margin-bottom:34px;border-left:3px solid #e8e8e8;padding-left:17px;color:#353535}._29HP61GA_0 blockquote p{margin-top:0;margin-bottom:0}._29HP61GA_0 ol,._29HP61GA_0 ul{margin-bottom:30px}._29HP61GA_0 ol p,._29HP61GA_0 ul p{margin-top:0;margin-bottom:0}._29HP61GA_0 ol{list-style:decimal;margin-left:30px}._29HP61GA_0 ul li{padding-left:17px;position:relative;margin-bottom:10px}._29HP61GA_0 ul li:after{content:"";height:6px;width:6px;border-radius:50%;background:#353535;position:absolute;top:10px;left:0}._29HP61GA_0 .orange{color:#fa8919}._29HP61GA_0 .reference{color:#888}._29HP61GA_0 .m-right{text-align:right}._29HP61GA_0 .m-center{text-align:center;display:block}._29HP61GA_0 .m-gray{color:#888}._29HP61GA_0 .m-small{font-size:15px}._29HP61GA_0 table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}._29HP61GA_0 table.hljs-ln,._29HP61GA_0 table.hljs-ln tbody,._29HP61GA_0 table.hljs-ln td,._29HP61GA_0 table.hljs-ln tr{-webkit-box-sizing:border-box;box-sizing:border-box}._29HP61GA_0 table.hljs-ln td{padding:0;border:0}._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers{min-width:15px;font-size:12px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._29HP61GA_0 table.hljs-ln td.hljs-ln-code,._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:20px;vertical-align:top}._29HP61GA_0 table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;font-size:13px;color:#666;word-wrap:normal;white-space:pre}._2gMcXXSK_0{font-size:15px}._2gMcXXSK_0 h1{font-size:19px}._2gMcXXSK_0 h2{font-size:18px}._2gMcXXSK_0 h3{font-size:17px}._2gMcXXSK_0 h4{font-size:16px}._2gMcXXSK_0 h5{font-size:15px}._2gMcXXSK_0 p{margin-bottom:26px}._2gMcXXSK_0 blockquote{margin-bottom:30px}._2gMcXXSK_0 ol,._2gMcXXSK_0 ul{margin-bottom:26px}._2gMcXXSK_0 .m-small{font-size:13px}._1-IhkAAb_0{font-size:19px}._1-IhkAAb_0 h1{font-size:23px}._1-IhkAAb_0 h2{font-size:22px}._1-IhkAAb_0 h3{font-size:21px}._1-IhkAAb_0 h4{font-size:20px}._1-IhkAAb_0 h5{font-size:19px}._1-IhkAAb_0 .m-small{font-size:17px}._1Xjr5LRK_0 table.hljs-ln td.hljs-ln-code,._1Xjr5LRK_0 table.hljs-ln td.hljs-ln-numbers{font-family:monospace}._1XhbM4Sp_0 pre{background:hsla(43,50%,87%,.749)}._1XhbM4Sp_0 blockquote{border-color:#efe6cf}._2wERfXHe_0 h1,._2wERfXHe_0 h2,._2wERfXHe_0 h3,._2wERfXHe_0 h4,._2wERfXHe_0 h5,._2wERfXHe_0 p{color:silver}._2wERfXHe_0 blockquote{border-color:#3e3e3e}._2wERfXHe_0 li,._2wERfXHe_0 strong{color:silver}._2wERfXHe_0 pre{background:rgba(62,62,62,.749)}._2wERfXHe_0 center{color:silver}._2wERfXHe_0 img{opacity:.9}._2wERfXHe_0 ul li:after{background:silver}._2wERfXHe_0 table.hljs-ln td.hljs-ln-numbers{color:#b2b2b2}._2wERfXHe_0 table.hljs-ln td.hljs-ln-code{color:silver}',""]),e.locals={white:"_29HP61GA_0",small:"_2gMcXXSK_0",big:"_1-IhkAAb_0",android:"_1Xjr5LRK_0",yellow:"_1XhbM4Sp_0",black:"_2wERfXHe_0"}},856:function(t,e,i){var n=i(855);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("4029d6ca",n,!0,{})},857:function(t,e){t.exports={render:function(){var t,e,i,n,r,o=this,a=o.$createElement,s=o._self._c||a;return s("div",{ref:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:o.content,expression:"content"}],ref:"text",class:[o.$style.white,(t={},t[o.$style.android]=o.isInAndroidApp,t),(e={},e[o.$style.yellow]="yellow"===o.customColor,e),(i={},i[o.$style.black]="black"===o.customColor,i),(n={},n[o.$style.small]="small"===o.customSize,n),(r={},r[o.$style.big]="big"===o.customSize,r)],domProps:{innerHTML:o._s(o.richContent)}})])},staticRenderFns:[]}},865:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e,i){n(this,t),this.data=e,this.text=i.text||e,this.options=i};e.default=r},879:function(t,e,i){function n(t){i(893)}var r=i(22)(i(882),i(900),n,null,null);t.exports=r.exports},882:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},888:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".bottom{width:100%;background-color:#f5f5f5;position:fixed;bottom:0;left:0;z-index:10}.bottom,.bottom .bottom-wrapper{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.bottom .bottom-wrapper{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.bottom .bottom-wrapper a{height:50px;line-height:50px;-webkit-box-sizing:border-box;box-sizing:border-box}",""])},893:function(t,e,i){var n=i(888);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("619c609b",n,!0,{})},900:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom"},[i("div",{staticClass:"bottom-wrapper"},[t._t("default")],2)])},staticRenderFns:[]}},905:function(t,e,i){function n(t){i(927)}var r=i(22)(i(909),i(968),n,null,null);t.exports=r.exports},909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i(215),i(65));e.default={props:["list"],data:function(){return{isInApp:n.a.isInApp()}}}},921:function(t,e,i){e=t.exports=i(564)(!1),e.push([t.i,".breadcrumb{padding:30px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap;background:#fff}.breadcrumb a.title{color:#e57c39;font-size:15px;font-weight:400}.breadcrumb span.title{color:#888;font-size:15px;font-weight:400}.breadcrumb .split{color:#ccc;font-size:10px;margin-right:5px}",""])},927:function(t,e,i){var n=i(921);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(565)("225d00f2",n,!0,{})},968:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isInApp?t._e():i("div",{staticClass:"breadcrumb"},t._l(t.list,function(e,n){return i("span",[e.link?i("router-link",{staticClass:"title",attrs:{to:e.link}},[t._v(t._s(e.title))]):i("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n<t.list.length-1?i("span",{staticClass:"split iconfont"},[t._v("")]):t._e()],1)}),0)},staticRenderFns:[]}}});
